(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var a=!1;try{a=this instanceof i}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var a=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return e[i]}})}),n}var buffer={},base64Js={},hasRequiredBase64Js;function requireBase64Js(){if(hasRequiredBase64Js)return base64Js;hasRequiredBase64Js=1,base64Js.byteLength=l,base64Js.toByteArray=_,base64Js.fromByteArray=N;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)e[a]=i[a],t[i.charCodeAt(a)]=a;t[45]=62,t[95]=63;function o(I){var k=I.length;if(k%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=I.indexOf("=");R===-1&&(R=k);var M=R===k?0:4-R%4;return[R,M]}function l(I){var k=o(I),R=k[0],M=k[1];return(R+M)*3/4-M}function m(I,k,R){return(k+R)*3/4-R}function _(I){var k,R=o(I),M=R[0],L=R[1],B=new n(m(I,M,L)),H=0,V=L>0?M-4:M,Y;for(Y=0;Y<V;Y+=4)k=t[I.charCodeAt(Y)]<<18|t[I.charCodeAt(Y+1)]<<12|t[I.charCodeAt(Y+2)]<<6|t[I.charCodeAt(Y+3)],B[H++]=k>>16&255,B[H++]=k>>8&255,B[H++]=k&255;return L===2&&(k=t[I.charCodeAt(Y)]<<2|t[I.charCodeAt(Y+1)]>>4,B[H++]=k&255),L===1&&(k=t[I.charCodeAt(Y)]<<10|t[I.charCodeAt(Y+1)]<<4|t[I.charCodeAt(Y+2)]>>2,B[H++]=k>>8&255,B[H++]=k&255),B}function A(I){return e[I>>18&63]+e[I>>12&63]+e[I>>6&63]+e[I&63]}function x(I,k,R){for(var M,L=[],B=k;B<R;B+=3)M=(I[B]<<16&16711680)+(I[B+1]<<8&65280)+(I[B+2]&255),L.push(A(M));return L.join("")}function N(I){for(var k,R=I.length,M=R%3,L=[],B=16383,H=0,V=R-M;H<V;H+=B)L.push(x(I,H,H+B>V?V:H+B));return M===1?(k=I[R-1],L.push(e[k>>2]+e[k<<4&63]+"==")):M===2&&(k=(I[R-2]<<8)+I[R-1],L.push(e[k>>10]+e[k>>4&63]+e[k<<2&63]+"=")),L.join("")}return base64Js}var ieee754={};var hasRequiredIeee754;function requireIeee754(){return hasRequiredIeee754||(hasRequiredIeee754=1,ieee754.read=function(e,t,n,i,a){var s,o,l=a*8-i-1,m=(1<<l)-1,_=m>>1,A=-7,x=n?a-1:0,N=n?-1:1,I=e[t+x];for(x+=N,s=I&(1<<-A)-1,I>>=-A,A+=l;A>0;s=s*256+e[t+x],x+=N,A-=8);for(o=s&(1<<-A)-1,s>>=-A,A+=i;A>0;o=o*256+e[t+x],x+=N,A-=8);if(s===0)s=1-_;else{if(s===m)return o?NaN:(I?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-_}return(I?-1:1)*o*Math.pow(2,s-i)},ieee754.write=function(e,t,n,i,a,s){var o,l,m,_=s*8-a-1,A=(1<<_)-1,x=A>>1,N=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=i?0:s-1,k=i?1:-1,R=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=A):(o=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-o))<1&&(o--,m*=2),o+x>=1?t+=N/m:t+=N*Math.pow(2,1-x),t*m>=2&&(o++,m/=2),o+x>=A?(l=0,o=A):o+x>=1?(l=(t*m-1)*Math.pow(2,a),o=o+x):(l=t*Math.pow(2,x-1)*Math.pow(2,a),o=0));a>=8;e[n+I]=l&255,I+=k,l/=256,a-=8);for(o=o<<a|l,_+=a;_>0;e[n+I]=o&255,I+=k,o/=256,_-=8);e[n+I-k]|=R*128}),ieee754}var hasRequiredBuffer;function requireBuffer(){return hasRequiredBuffer||(hasRequiredBuffer=1,(function(e){const t=requireBase64Js(),n=requireIeee754(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=B,e.INSPECT_MAX_BYTES=50;const a=2147483647;e.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const C=new Uint8Array(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,Uint8Array.prototype),Object.setPrototypeOf(C,E),C.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(C){if(C>a)throw new RangeError('The value "'+C+'" is invalid for option "size"');const E=new Uint8Array(C);return Object.setPrototypeOf(E,l.prototype),E}function l(C,E,b){if(typeof C=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(C)}return m(C,E,b)}l.poolSize=8192;function m(C,E,b){if(typeof C=="string")return N(C,E);if(ArrayBuffer.isView(C))return k(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(X(C,ArrayBuffer)||C&&X(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(C,SharedArrayBuffer)||C&&X(C.buffer,SharedArrayBuffer)))return R(C,E,b);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=C.valueOf&&C.valueOf();if(g!=null&&g!==C)return l.from(g,E,b);const v=M(C);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return l.from(C[Symbol.toPrimitive]("string"),E,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}l.from=function(C,E,b){return m(C,E,b)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function _(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function A(C,E,b){return _(C),C<=0?o(C):E!==void 0?typeof b=="string"?o(C).fill(E,b):o(C).fill(E):o(C)}l.alloc=function(C,E,b){return A(C,E,b)};function x(C){return _(C),o(C<0?0:L(C)|0)}l.allocUnsafe=function(C){return x(C)},l.allocUnsafeSlow=function(C){return x(C)};function N(C,E){if((typeof E!="string"||E==="")&&(E="utf8"),!l.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const b=H(C,E)|0;let g=o(b);const v=g.write(C,E);return v!==b&&(g=g.slice(0,v)),g}function I(C){const E=C.length<0?0:L(C.length)|0,b=o(E);for(let g=0;g<E;g+=1)b[g]=C[g]&255;return b}function k(C){if(X(C,Uint8Array)){const E=new Uint8Array(C);return R(E.buffer,E.byteOffset,E.byteLength)}return I(C)}function R(C,E,b){if(E<0||C.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<E+(b||0))throw new RangeError('"length" is outside of buffer bounds');let g;return E===void 0&&b===void 0?g=new Uint8Array(C):b===void 0?g=new Uint8Array(C,E):g=new Uint8Array(C,E,b),Object.setPrototypeOf(g,l.prototype),g}function M(C){if(l.isBuffer(C)){const E=L(C.length)|0,b=o(E);return b.length===0||C.copy(b,0,0,E),b}if(C.length!==void 0)return typeof C.length!="number"||ge(C.length)?o(0):I(C);if(C.type==="Buffer"&&Array.isArray(C.data))return I(C.data)}function L(C){if(C>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return C|0}function B(C){return+C!=C&&(C=0),l.alloc(+C)}l.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==l.prototype},l.compare=function(E,b){if(X(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),X(b,Uint8Array)&&(b=l.from(b,b.offset,b.byteLength)),!l.isBuffer(E)||!l.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===b)return 0;let g=E.length,v=b.length;for(let F=0,U=Math.min(g,v);F<U;++F)if(E[F]!==b[F]){g=E[F],v=b[F];break}return g<v?-1:v<g?1:0},l.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(E,b){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return l.alloc(0);let g;if(b===void 0)for(b=0,g=0;g<E.length;++g)b+=E[g].length;const v=l.allocUnsafe(b);let F=0;for(g=0;g<E.length;++g){let U=E[g];if(X(U,Uint8Array))F+U.length>v.length?(l.isBuffer(U)||(U=l.from(U)),U.copy(v,F)):Uint8Array.prototype.set.call(v,U,F);else if(l.isBuffer(U))U.copy(v,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=U.length}return v};function H(C,E){if(l.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||X(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const b=C.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&b===0)return 0;let v=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return G(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return he(C).length;default:if(v)return g?-1:G(C).length;E=(""+E).toLowerCase(),v=!0}}l.byteLength=H;function V(C,E,b){let g=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,E>>>=0,b<=E))return"";for(C||(C="utf8");;)switch(C){case"hex":return ue(this,E,b);case"utf8":case"utf-8":return O(this,E,b);case"ascii":return J(this,E,b);case"latin1":case"binary":return Z(this,E,b);case"base64":return de(this,E,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,E,b);default:if(g)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function Y(C,E,b){const g=C[E];C[E]=C[b],C[b]=g}l.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<E;b+=2)Y(this,b,b+1);return this},l.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<E;b+=4)Y(this,b,b+3),Y(this,b+1,b+2);return this},l.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<E;b+=8)Y(this,b,b+7),Y(this,b+1,b+6),Y(this,b+2,b+5),Y(this,b+3,b+4);return this},l.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?O(this,0,E):V.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(E){if(!l.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:l.compare(this,E)===0},l.prototype.inspect=function(){let E="";const b=e.INSPECT_MAX_BYTES;return E=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(E+=" ... "),"<Buffer "+E+">"},i&&(l.prototype[i]=l.prototype.inspect),l.prototype.compare=function(E,b,g,v,F){if(X(E,Uint8Array)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(b===void 0&&(b=0),g===void 0&&(g=E?E.length:0),v===void 0&&(v=0),F===void 0&&(F=this.length),b<0||g>E.length||v<0||F>this.length)throw new RangeError("out of range index");if(v>=F&&b>=g)return 0;if(v>=F)return-1;if(b>=g)return 1;if(b>>>=0,g>>>=0,v>>>=0,F>>>=0,this===E)return 0;let U=F-v,re=g-b;const pe=Math.min(U,re),ne=this.slice(v,F),_e=E.slice(b,g);for(let me=0;me<pe;++me)if(ne[me]!==_e[me]){U=ne[me],re=_e[me];break}return U<re?-1:re<U?1:0};function ae(C,E,b,g,v){if(C.length===0)return-1;if(typeof b=="string"?(g=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,ge(b)&&(b=v?0:C.length-1),b<0&&(b=C.length+b),b>=C.length){if(v)return-1;b=C.length-1}else if(b<0)if(v)b=0;else return-1;if(typeof E=="string"&&(E=l.from(E,g)),l.isBuffer(E))return E.length===0?-1:oe(C,E,b,g,v);if(typeof E=="number")return E=E&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(C,E,b):Uint8Array.prototype.lastIndexOf.call(C,E,b):oe(C,[E],b,g,v);throw new TypeError("val must be string, number or Buffer")}function oe(C,E,b,g,v){let F=1,U=C.length,re=E.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(C.length<2||E.length<2)return-1;F=2,U/=2,re/=2,b/=2}function pe(_e,me){return F===1?_e[me]:_e.readUInt16BE(me*F)}let ne;if(v){let _e=-1;for(ne=b;ne<U;ne++)if(pe(C,ne)===pe(E,_e===-1?0:ne-_e)){if(_e===-1&&(_e=ne),ne-_e+1===re)return _e*F}else _e!==-1&&(ne-=ne-_e),_e=-1}else for(b+re>U&&(b=U-re),ne=b;ne>=0;ne--){let _e=!0;for(let me=0;me<re;me++)if(pe(C,ne+me)!==pe(E,me)){_e=!1;break}if(_e)return ne}return-1}l.prototype.includes=function(E,b,g){return this.indexOf(E,b,g)!==-1},l.prototype.indexOf=function(E,b,g){return ae(this,E,b,g,!0)},l.prototype.lastIndexOf=function(E,b,g){return ae(this,E,b,g,!1)};function be(C,E,b,g){b=Number(b)||0;const v=C.length-b;g?(g=Number(g),g>v&&(g=v)):g=v;const F=E.length;g>F/2&&(g=F/2);let U;for(U=0;U<g;++U){const re=parseInt(E.substr(U*2,2),16);if(ge(re))return U;C[b+U]=re}return U}function ie(C,E,b,g){return Ee(G(E,C.length-b),C,b,g)}function Te(C,E,b,g){return Ee(P(E),C,b,g)}function Ie(C,E,b,g){return Ee(he(E),C,b,g)}function j(C,E,b,g){return Ee(K(E,C.length-b),C,b,g)}l.prototype.write=function(E,b,g,v){if(b===void 0)v="utf8",g=this.length,b=0;else if(g===void 0&&typeof b=="string")v=b,g=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(g)?(g=g>>>0,v===void 0&&(v="utf8")):(v=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const F=this.length-b;if((g===void 0||g>F)&&(g=F),E.length>0&&(g<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");let U=!1;for(;;)switch(v){case"hex":return be(this,E,b,g);case"utf8":case"utf-8":return ie(this,E,b,g);case"ascii":case"latin1":case"binary":return Te(this,E,b,g);case"base64":return Ie(this,E,b,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,E,b,g);default:if(U)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),U=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function de(C,E,b){return E===0&&b===C.length?t.fromByteArray(C):t.fromByteArray(C.slice(E,b))}function O(C,E,b){b=Math.min(C.length,b);const g=[];let v=E;for(;v<b;){const F=C[v];let U=null,re=F>239?4:F>223?3:F>191?2:1;if(v+re<=b){let pe,ne,_e,me;switch(re){case 1:F<128&&(U=F);break;case 2:pe=C[v+1],(pe&192)===128&&(me=(F&31)<<6|pe&63,me>127&&(U=me));break;case 3:pe=C[v+1],ne=C[v+2],(pe&192)===128&&(ne&192)===128&&(me=(F&15)<<12|(pe&63)<<6|ne&63,me>2047&&(me<55296||me>57343)&&(U=me));break;case 4:pe=C[v+1],ne=C[v+2],_e=C[v+3],(pe&192)===128&&(ne&192)===128&&(_e&192)===128&&(me=(F&15)<<18|(pe&63)<<12|(ne&63)<<6|_e&63,me>65535&&me<1114112&&(U=me))}}U===null?(U=65533,re=1):U>65535&&(U-=65536,g.push(U>>>10&1023|55296),U=56320|U&1023),g.push(U),v+=re}return fe(g)}const Q=4096;function fe(C){const E=C.length;if(E<=Q)return String.fromCharCode.apply(String,C);let b="",g=0;for(;g<E;)b+=String.fromCharCode.apply(String,C.slice(g,g+=Q));return b}function J(C,E,b){let g="";b=Math.min(C.length,b);for(let v=E;v<b;++v)g+=String.fromCharCode(C[v]&127);return g}function Z(C,E,b){let g="";b=Math.min(C.length,b);for(let v=E;v<b;++v)g+=String.fromCharCode(C[v]);return g}function ue(C,E,b){const g=C.length;(!E||E<0)&&(E=0),(!b||b<0||b>g)&&(b=g);let v="";for(let F=E;F<b;++F)v+=xe[C[F]];return v}function z(C,E,b){const g=C.slice(E,b);let v="";for(let F=0;F<g.length-1;F+=2)v+=String.fromCharCode(g[F]+g[F+1]*256);return v}l.prototype.slice=function(E,b){const g=this.length;E=~~E,b=b===void 0?g:~~b,E<0?(E+=g,E<0&&(E=0)):E>g&&(E=g),b<0?(b+=g,b<0&&(b=0)):b>g&&(b=g),b<E&&(b=E);const v=this.subarray(E,b);return Object.setPrototypeOf(v,l.prototype),v};function w(C,E,b){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+E>b)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(E,b,g){E=E>>>0,b=b>>>0,g||w(E,b,this.length);let v=this[E],F=1,U=0;for(;++U<b&&(F*=256);)v+=this[E+U]*F;return v},l.prototype.readUintBE=l.prototype.readUIntBE=function(E,b,g){E=E>>>0,b=b>>>0,g||w(E,b,this.length);let v=this[E+--b],F=1;for(;b>0&&(F*=256);)v+=this[E+--b]*F;return v},l.prototype.readUint8=l.prototype.readUInt8=function(E,b){return E=E>>>0,b||w(E,1,this.length),this[E]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(E,b){return E=E>>>0,b||w(E,2,this.length),this[E]|this[E+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(E,b){return E=E>>>0,b||w(E,2,this.length),this[E]<<8|this[E+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(E,b){return E=E>>>0,b||w(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(E,b){return E=E>>>0,b||w(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},l.prototype.readBigUInt64LE=T(function(E){E=E>>>0,ke(E,"offset");const b=this[E],g=this[E+7];(b===void 0||g===void 0)&&y(E,this.length-8);const v=b+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,F=this[++E]+this[++E]*2**8+this[++E]*2**16+g*2**24;return BigInt(v)+(BigInt(F)<<BigInt(32))}),l.prototype.readBigUInt64BE=T(function(E){E=E>>>0,ke(E,"offset");const b=this[E],g=this[E+7];(b===void 0||g===void 0)&&y(E,this.length-8);const v=b*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],F=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+g;return(BigInt(v)<<BigInt(32))+BigInt(F)}),l.prototype.readIntLE=function(E,b,g){E=E>>>0,b=b>>>0,g||w(E,b,this.length);let v=this[E],F=1,U=0;for(;++U<b&&(F*=256);)v+=this[E+U]*F;return F*=128,v>=F&&(v-=Math.pow(2,8*b)),v},l.prototype.readIntBE=function(E,b,g){E=E>>>0,b=b>>>0,g||w(E,b,this.length);let v=b,F=1,U=this[E+--v];for(;v>0&&(F*=256);)U+=this[E+--v]*F;return F*=128,U>=F&&(U-=Math.pow(2,8*b)),U},l.prototype.readInt8=function(E,b){return E=E>>>0,b||w(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},l.prototype.readInt16LE=function(E,b){E=E>>>0,b||w(E,2,this.length);const g=this[E]|this[E+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(E,b){E=E>>>0,b||w(E,2,this.length);const g=this[E+1]|this[E]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(E,b){return E=E>>>0,b||w(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},l.prototype.readInt32BE=function(E,b){return E=E>>>0,b||w(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},l.prototype.readBigInt64LE=T(function(E){E=E>>>0,ke(E,"offset");const b=this[E],g=this[E+7];(b===void 0||g===void 0)&&y(E,this.length-8);const v=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(g<<24);return(BigInt(v)<<BigInt(32))+BigInt(b+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),l.prototype.readBigInt64BE=T(function(E){E=E>>>0,ke(E,"offset");const b=this[E],g=this[E+7];(b===void 0||g===void 0)&&y(E,this.length-8);const v=(b<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(v)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+g)}),l.prototype.readFloatLE=function(E,b){return E=E>>>0,b||w(E,4,this.length),n.read(this,E,!0,23,4)},l.prototype.readFloatBE=function(E,b){return E=E>>>0,b||w(E,4,this.length),n.read(this,E,!1,23,4)},l.prototype.readDoubleLE=function(E,b){return E=E>>>0,b||w(E,8,this.length),n.read(this,E,!0,52,8)},l.prototype.readDoubleBE=function(E,b){return E=E>>>0,b||w(E,8,this.length),n.read(this,E,!1,52,8)};function q(C,E,b,g,v,F){if(!l.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>v||E<F)throw new RangeError('"value" argument is out of bounds');if(b+g>C.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(E,b,g,v){if(E=+E,b=b>>>0,g=g>>>0,!v){const re=Math.pow(2,8*g)-1;q(this,E,b,g,re,0)}let F=1,U=0;for(this[b]=E&255;++U<g&&(F*=256);)this[b+U]=E/F&255;return b+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(E,b,g,v){if(E=+E,b=b>>>0,g=g>>>0,!v){const re=Math.pow(2,8*g)-1;q(this,E,b,g,re,0)}let F=g-1,U=1;for(this[b+F]=E&255;--F>=0&&(U*=256);)this[b+F]=E/U&255;return b+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,1,255,0),this[b]=E&255,b+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,2,65535,0),this[b]=E&255,this[b+1]=E>>>8,b+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,2,65535,0),this[b]=E>>>8,this[b+1]=E&255,b+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,4,4294967295,0),this[b+3]=E>>>24,this[b+2]=E>>>16,this[b+1]=E>>>8,this[b]=E&255,b+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,4,4294967295,0),this[b]=E>>>24,this[b+1]=E>>>16,this[b+2]=E>>>8,this[b+3]=E&255,b+4};function ce(C,E,b,g,v){Re(E,g,v,C,b,7);let F=Number(E&BigInt(4294967295));C[b++]=F,F=F>>8,C[b++]=F,F=F>>8,C[b++]=F,F=F>>8,C[b++]=F;let U=Number(E>>BigInt(32)&BigInt(4294967295));return C[b++]=U,U=U>>8,C[b++]=U,U=U>>8,C[b++]=U,U=U>>8,C[b++]=U,b}function le(C,E,b,g,v){Re(E,g,v,C,b,7);let F=Number(E&BigInt(4294967295));C[b+7]=F,F=F>>8,C[b+6]=F,F=F>>8,C[b+5]=F,F=F>>8,C[b+4]=F;let U=Number(E>>BigInt(32)&BigInt(4294967295));return C[b+3]=U,U=U>>8,C[b+2]=U,U=U>>8,C[b+1]=U,U=U>>8,C[b]=U,b+8}l.prototype.writeBigUInt64LE=T(function(E,b=0){return ce(this,E,b,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=T(function(E,b=0){return le(this,E,b,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(E,b,g,v){if(E=+E,b=b>>>0,!v){const pe=Math.pow(2,8*g-1);q(this,E,b,g,pe-1,-pe)}let F=0,U=1,re=0;for(this[b]=E&255;++F<g&&(U*=256);)E<0&&re===0&&this[b+F-1]!==0&&(re=1),this[b+F]=(E/U>>0)-re&255;return b+g},l.prototype.writeIntBE=function(E,b,g,v){if(E=+E,b=b>>>0,!v){const pe=Math.pow(2,8*g-1);q(this,E,b,g,pe-1,-pe)}let F=g-1,U=1,re=0;for(this[b+F]=E&255;--F>=0&&(U*=256);)E<0&&re===0&&this[b+F+1]!==0&&(re=1),this[b+F]=(E/U>>0)-re&255;return b+g},l.prototype.writeInt8=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,1,127,-128),E<0&&(E=255+E+1),this[b]=E&255,b+1},l.prototype.writeInt16LE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,2,32767,-32768),this[b]=E&255,this[b+1]=E>>>8,b+2},l.prototype.writeInt16BE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,2,32767,-32768),this[b]=E>>>8,this[b+1]=E&255,b+2},l.prototype.writeInt32LE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,4,2147483647,-2147483648),this[b]=E&255,this[b+1]=E>>>8,this[b+2]=E>>>16,this[b+3]=E>>>24,b+4},l.prototype.writeInt32BE=function(E,b,g){return E=+E,b=b>>>0,g||q(this,E,b,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[b]=E>>>24,this[b+1]=E>>>16,this[b+2]=E>>>8,this[b+3]=E&255,b+4},l.prototype.writeBigInt64LE=T(function(E,b=0){return ce(this,E,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=T(function(E,b=0){return le(this,E,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(C,E,b,g,v,F){if(b+g>C.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Ce(C,E,b,g,v){return E=+E,b=b>>>0,v||ee(C,E,b,4),n.write(C,E,b,g,23,4),b+4}l.prototype.writeFloatLE=function(E,b,g){return Ce(this,E,b,!0,g)},l.prototype.writeFloatBE=function(E,b,g){return Ce(this,E,b,!1,g)};function Se(C,E,b,g,v){return E=+E,b=b>>>0,v||ee(C,E,b,8),n.write(C,E,b,g,52,8),b+8}l.prototype.writeDoubleLE=function(E,b,g){return Se(this,E,b,!0,g)},l.prototype.writeDoubleBE=function(E,b,g){return Se(this,E,b,!1,g)},l.prototype.copy=function(E,b,g,v){if(!l.isBuffer(E))throw new TypeError("argument should be a Buffer");if(g||(g=0),!v&&v!==0&&(v=this.length),b>=E.length&&(b=E.length),b||(b=0),v>0&&v<g&&(v=g),v===g||E.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),E.length-b<v-g&&(v=E.length-b+g);const F=v-g;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,g,v):Uint8Array.prototype.set.call(E,this.subarray(g,v),b),F},l.prototype.fill=function(E,b,g,v){if(typeof E=="string"){if(typeof b=="string"?(v=b,b=0,g=this.length):typeof g=="string"&&(v=g,g=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!l.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(E.length===1){const U=E.charCodeAt(0);(v==="utf8"&&U<128||v==="latin1")&&(E=U)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(b<0||this.length<b||this.length<g)throw new RangeError("Out of range index");if(g<=b)return this;b=b>>>0,g=g===void 0?this.length:g>>>0,E||(E=0);let F;if(typeof E=="number")for(F=b;F<g;++F)this[F]=E;else{const U=l.isBuffer(E)?E:l.from(E,v),re=U.length;if(re===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(F=0;F<g-b;++F)this[F+b]=U[F%re]}return this};const Ae={};function De(C,E,b){Ae[C]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(v){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:v,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}De("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),De("ERR_INVALID_ARG_TYPE",function(C,E){return`The "${C}" argument must be of type number. Received type ${typeof E}`},TypeError),De("ERR_OUT_OF_RANGE",function(C,E,b){let g=`The value of "${C}" is out of range.`,v=b;return Number.isInteger(b)&&Math.abs(b)>2**32?v=ye(String(b)):typeof b=="bigint"&&(v=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(v=ye(v)),v+="n"),g+=` It must be ${E}. Received ${v}`,g},RangeError);function ye(C){let E="",b=C.length;const g=C[0]==="-"?1:0;for(;b>=g+4;b-=3)E=`_${C.slice(b-3,b)}${E}`;return`${C.slice(0,b)}${E}`}function Ne(C,E,b){ke(E,"offset"),(C[E]===void 0||C[E+b]===void 0)&&y(E,C.length-(b+1))}function Re(C,E,b,g,v,F){if(C>b||C<E){const U=typeof E=="bigint"?"n":"";let re;throw E===0||E===BigInt(0)?re=`>= 0${U} and < 2${U} ** ${(F+1)*8}${U}`:re=`>= -(2${U} ** ${(F+1)*8-1}${U}) and < 2 ** ${(F+1)*8-1}${U}`,new Ae.ERR_OUT_OF_RANGE("value",re,C)}Ne(g,v,F)}function ke(C,E){if(typeof C!="number")throw new Ae.ERR_INVALID_ARG_TYPE(E,"number",C)}function y(C,E,b){throw Math.floor(C)!==C?(ke(C,b),new Ae.ERR_OUT_OF_RANGE("offset","an integer",C)):E<0?new Ae.ERR_BUFFER_OUT_OF_BOUNDS:new Ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,C)}const se=/[^+/0-9A-Za-z-_]/g;function te(C){if(C=C.split("=")[0],C=C.trim().replace(se,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function G(C,E){E=E||1/0;let b;const g=C.length;let v=null;const F=[];for(let U=0;U<g;++U){if(b=C.charCodeAt(U),b>55295&&b<57344){if(!v){if(b>56319){(E-=3)>-1&&F.push(239,191,189);continue}else if(U+1===g){(E-=3)>-1&&F.push(239,191,189);continue}v=b;continue}if(b<56320){(E-=3)>-1&&F.push(239,191,189),v=b;continue}b=(v-55296<<10|b-56320)+65536}else v&&(E-=3)>-1&&F.push(239,191,189);if(v=null,b<128){if((E-=1)<0)break;F.push(b)}else if(b<2048){if((E-=2)<0)break;F.push(b>>6|192,b&63|128)}else if(b<65536){if((E-=3)<0)break;F.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((E-=4)<0)break;F.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return F}function P(C){const E=[];for(let b=0;b<C.length;++b)E.push(C.charCodeAt(b)&255);return E}function K(C,E){let b,g,v;const F=[];for(let U=0;U<C.length&&!((E-=2)<0);++U)b=C.charCodeAt(U),g=b>>8,v=b%256,F.push(v),F.push(g);return F}function he(C){return t.toByteArray(te(C))}function Ee(C,E,b,g){let v;for(v=0;v<g&&!(v+b>=E.length||v>=C.length);++v)E[v+b]=C[v];return v}function X(C,E){return C instanceof E||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===E.name}function ge(C){return C!==C}const xe=(function(){const C="0123456789abcdef",E=new Array(256);for(let b=0;b<16;++b){const g=b*16;for(let v=0;v<16;++v)E[g+v]=C[b]+C[v]}return E})();function T(C){return typeof BigInt>"u"?W:C}function W(){throw new Error("BigInt not supported")}})(buffer)),buffer}var bufferExports=requireBuffer();const OUTPUT_OPTIONS=[{id:"enex",name:"Apple Notes / Evernote (.enex)"},{id:"markdown",name:"Obsidian / Markdown (.zip)"},{id:"json",name:"Raw Data (.json)"}];function detectFormat(e,t=[]){const n=e.split(".").pop().toLowerCase();if(n==="tgz"||n==="tar.gz")throw new Error("Gzip (.tgz) archives are not supported. Please use standard .zip files.");if(n==="enex")return"enex";if(n==="json"&&t.length<=1)return"json";if(n==="md")return"markdown";if(n==="html")return"keep";if(n==="zip"){const i=t.some(o=>o.endsWith(".html")),a=t.some(o=>o.endsWith(".md")),s=t.some(o=>o.endsWith(".csv"));return a&&s?"notion":i?"keep":"markdown"}return"unknown"}var ElementType;(function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"})(ElementType||(ElementType={}));function isTag$1(e){return e.type===ElementType.Tag||e.type===ElementType.Script||e.type===ElementType.Style}const Root=ElementType.Root,Text$1=ElementType.Text,Directive=ElementType.Directive,Comment$1=ElementType.Comment,Script=ElementType.Script,Style=ElementType.Style,Tag=ElementType.Tag,CDATA$1=ElementType.CDATA,Doctype=ElementType.Doctype;let Node$1=class{constructor(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}get parentNode(){return this.parent}set parentNode(t){this.parent=t}get previousSibling(){return this.prev}set previousSibling(t){this.prev=t}get nextSibling(){return this.next}set nextSibling(t){this.next=t}cloneNode(t=!1){return cloneNode(this,t)}};class DataNode extends Node$1{constructor(t){super(),this.data=t}get nodeValue(){return this.data}set nodeValue(t){this.data=t}}class Text extends DataNode{constructor(){super(...arguments),this.type=ElementType.Text}get nodeType(){return 3}}class Comment extends DataNode{constructor(){super(...arguments),this.type=ElementType.Comment}get nodeType(){return 8}}class ProcessingInstruction extends DataNode{constructor(t,n){super(n),this.name=t,this.type=ElementType.Directive}get nodeType(){return 1}}class NodeWithChildren extends Node$1{constructor(t){super(),this.children=t}get firstChild(){var t;return(t=this.children[0])!==null&&t!==void 0?t:null}get lastChild(){return this.children.length>0?this.children[this.children.length-1]:null}get childNodes(){return this.children}set childNodes(t){this.children=t}}class CDATA extends NodeWithChildren{constructor(){super(...arguments),this.type=ElementType.CDATA}get nodeType(){return 4}}class Document extends NodeWithChildren{constructor(){super(...arguments),this.type=ElementType.Root}get nodeType(){return 9}}class Element extends NodeWithChildren{constructor(t,n,i=[],a=t==="script"?ElementType.Script:t==="style"?ElementType.Style:ElementType.Tag){super(i),this.name=t,this.attribs=n,this.type=a}get nodeType(){return 1}get tagName(){return this.name}set tagName(t){this.name=t}get attributes(){return Object.keys(this.attribs).map(t=>{var n,i;return{name:t,value:this.attribs[t],namespace:(n=this["x-attribsNamespace"])===null||n===void 0?void 0:n[t],prefix:(i=this["x-attribsPrefix"])===null||i===void 0?void 0:i[t]}})}}function isTag(e){return isTag$1(e)}function isCDATA(e){return e.type===ElementType.CDATA}function isText(e){return e.type===ElementType.Text}function isComment(e){return e.type===ElementType.Comment}function isDirective(e){return e.type===ElementType.Directive}function isDocument(e){return e.type===ElementType.Root}function hasChildren(e){return Object.prototype.hasOwnProperty.call(e,"children")}function cloneNode(e,t=!1){let n;if(isText(e))n=new Text(e.data);else if(isComment(e))n=new Comment(e.data);else if(isTag(e)){const i=t?cloneChildren(e.children):[],a=new Element(e.name,{...e.attribs},i);i.forEach(s=>s.parent=a),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]={...e["x-attribsNamespace"]}),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]={...e["x-attribsPrefix"]}),n=a}else if(isCDATA(e)){const i=t?cloneChildren(e.children):[],a=new CDATA(i);i.forEach(s=>s.parent=a),n=a}else if(isDocument(e)){const i=t?cloneChildren(e.children):[],a=new Document(i);i.forEach(s=>s.parent=a),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else if(isDirective(e)){const i=new ProcessingInstruction(e.name,e.data);e["x-name"]!=null&&(i["x-name"]=e["x-name"],i["x-publicId"]=e["x-publicId"],i["x-systemId"]=e["x-systemId"]),n=i}else throw new Error(`Not implemented yet: ${e.type}`);return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function cloneChildren(e){const t=e.map(n=>cloneNode(n,!0));for(let n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}const defaultOpts$2={withStartIndices:!1,withEndIndices:!1,xmlMode:!1};class DomHandler{constructor(t,n,i){this.dom=[],this.root=new Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof n=="function"&&(i=n,n=defaultOpts$2),typeof t=="object"&&(n=t,t=void 0),this.callback=t??null,this.options=n??defaultOpts$2,this.elementCB=i??null}onparserinit(t){this.parser=t}onreset(){this.dom=[],this.root=new Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null}onend(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))}onerror(t){this.handleCallback(t)}onclosetag(){this.lastNode=null;const t=this.tagStack.pop();this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(t)}onopentag(t,n){const i=this.options.xmlMode?ElementType.Tag:void 0,a=new Element(t,n,void 0,i);this.addNode(a),this.tagStack.push(a)}ontext(t){const{lastNode:n}=this;if(n&&n.type===ElementType.Text)n.data+=t,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{const i=new Text(t);this.addNode(i),this.lastNode=i}}oncomment(t){if(this.lastNode&&this.lastNode.type===ElementType.Comment){this.lastNode.data+=t;return}const n=new Comment(t);this.addNode(n),this.lastNode=n}oncommentend(){this.lastNode=null}oncdatastart(){const t=new Text(""),n=new CDATA([t]);this.addNode(n),t.parent=n,this.lastNode=t}oncdataend(){this.lastNode=null}onprocessinginstruction(t,n){const i=new ProcessingInstruction(t,n);this.addNode(i)}handleCallback(t){if(typeof this.callback=="function")this.callback(t,this.dom);else if(t)throw t}addNode(t){const n=this.tagStack[this.tagStack.length-1],i=n.children[n.children.length-1];this.options.withStartIndices&&(t.startIndex=this.parser.startIndex),this.options.withEndIndices&&(t.endIndex=this.parser.endIndex),n.children.push(t),i&&(t.prev=i,i.next=t),t.parent=n,this.lastNode=null}}const xmlReplacer=/["&'<>$\x80-\uFFFF]/g,xmlCodeMap=new Map([[34,"&quot;"],[38,"&amp;"],[39,"&apos;"],[60,"&lt;"],[62,"&gt;"]]),getCodePoint=String.prototype.codePointAt!=null?(e,t)=>e.codePointAt(t):(e,t)=>(e.charCodeAt(t)&64512)===55296?(e.charCodeAt(t)-55296)*1024+e.charCodeAt(t+1)-56320+65536:e.charCodeAt(t);function encodeXML(e){let t="",n=0,i;for(;(i=xmlReplacer.exec(e))!==null;){const a=i.index,s=e.charCodeAt(a),o=xmlCodeMap.get(s);o!==void 0?(t+=e.substring(n,a)+o,n=a+1):(t+=`${e.substring(n,a)}&#x${getCodePoint(e,a).toString(16)};`,n=xmlReplacer.lastIndex+=+((s&64512)===55296))}return t+e.substr(n)}function getEscaper$1(e,t){return function(i){let a,s=0,o="";for(;a=e.exec(i);)s!==a.index&&(o+=i.substring(s,a.index)),o+=t.get(a[0].charCodeAt(0)),s=a.index+1;return o+i.substring(s)}}const escapeAttribute$1=getEscaper$1(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),escapeText$1=getEscaper$1(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),elementNames=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),attributeNames=new Map(["definitionURL","attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),unencodedElements=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function replaceQuotes(e){return e.replace(/"/g,"&quot;")}function formatAttributes(e,t){var n;if(!e)return;const i=((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)===!1?replaceQuotes:t.xmlMode||t.encodeEntities!=="utf8"?encodeXML:escapeAttribute$1;return Object.keys(e).map(a=>{var s,o;const l=(s=e[a])!==null&&s!==void 0?s:"";return t.xmlMode==="foreign"&&(a=(o=attributeNames.get(a))!==null&&o!==void 0?o:a),!t.emptyAttrs&&!t.xmlMode&&l===""?a:`${a}="${i(l)}"`}).join(" ")}const singleTag=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function render$1(e,t={}){const n="length"in e?e:[e];let i="";for(let a=0;a<n.length;a++)i+=renderNode(n[a],t);return i}function renderNode(e,t){switch(e.type){case Root:return render$1(e.children,t);case Doctype:case Directive:return renderDirective(e);case Comment$1:return renderComment(e);case CDATA$1:return renderCdata(e);case Script:case Style:case Tag:return renderTag(e,t);case Text$1:return renderText(e,t)}}const foreignModeIntegrationPoints=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),foreignElements=new Set(["svg","math"]);function renderTag(e,t){var n;t.xmlMode==="foreign"&&(e.name=(n=elementNames.get(e.name))!==null&&n!==void 0?n:e.name,e.parent&&foreignModeIntegrationPoints.has(e.parent.name)&&(t={...t,xmlMode:!1})),!t.xmlMode&&foreignElements.has(e.name)&&(t={...t,xmlMode:"foreign"});let i=`<${e.name}`;const a=formatAttributes(e.attribs,t);return a&&(i+=` ${a}`),e.children.length===0&&(t.xmlMode?t.selfClosingTags!==!1:t.selfClosingTags&&singleTag.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=render$1(e.children,t)),(t.xmlMode||!singleTag.has(e.name))&&(i+=`</${e.name}>`)),i}function renderDirective(e){return`<${e.data}>`}function renderText(e,t){var n;let i=e.data||"";return((n=t.encodeEntities)!==null&&n!==void 0?n:t.decodeEntities)!==!1&&!(!t.xmlMode&&e.parent&&unencodedElements.has(e.parent.name))&&(i=t.xmlMode||t.encodeEntities!=="utf8"?encodeXML(i):escapeText$1(i)),i}function renderCdata(e){return`<![CDATA[${e.children[0].data}]]>`}function renderComment(e){return`<!--${e.data}-->`}function getOuterHTML(e,t){return render$1(e,t)}function getInnerHTML(e,t){return hasChildren(e)?e.children.map(n=>getOuterHTML(n,t)).join(""):""}function getText(e){return Array.isArray(e)?e.map(getText).join(""):isTag(e)?e.name==="br"?`
`:getText(e.children):isCDATA(e)?getText(e.children):isText(e)?e.data:""}function textContent(e){return Array.isArray(e)?e.map(textContent).join(""):hasChildren(e)&&!isComment(e)?textContent(e.children):isText(e)?e.data:""}function innerText(e){return Array.isArray(e)?e.map(innerText).join(""):hasChildren(e)&&(e.type===ElementType.Tag||isCDATA(e))?innerText(e.children):isText(e)?e.data:""}function getChildren(e){return hasChildren(e)?e.children:[]}function getParent(e){return e.parent||null}function getSiblings(e){const t=getParent(e);if(t!=null)return getChildren(t);const n=[e];let{prev:i,next:a}=e;for(;i!=null;)n.unshift(i),{prev:i}=i;for(;a!=null;)n.push(a),{next:a}=a;return n}function getAttributeValue(e,t){var n;return(n=e.attribs)===null||n===void 0?void 0:n[t]}function hasAttrib(e,t){return e.attribs!=null&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&e.attribs[t]!=null}function getName(e){return e.name}function nextElementSibling(e){let{next:t}=e;for(;t!==null&&!isTag(t);)({next:t}=t);return t}function prevElementSibling(e){let{prev:t}=e;for(;t!==null&&!isTag(t);)({prev:t}=t);return t}function removeElement(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){const t=e.parent.children,n=t.lastIndexOf(e);n>=0&&t.splice(n,1)}e.next=null,e.prev=null,e.parent=null}function replaceElement(e,t){const n=t.prev=e.prev;n&&(n.next=t);const i=t.next=e.next;i&&(i.prev=t);const a=t.parent=e.parent;if(a){const s=a.children;s[s.lastIndexOf(e)]=t,e.parent=null}}function appendChild(e,t){if(removeElement(t),t.next=null,t.parent=e,e.children.push(t)>1){const n=e.children[e.children.length-2];n.next=t,t.prev=n}else t.prev=null}function append$1(e,t){removeElement(t);const{parent:n}=e,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=n,i){if(i.prev=t,n){const a=n.children;a.splice(a.lastIndexOf(i),0,t)}}else n&&n.children.push(t)}function prependChild(e,t){if(removeElement(t),t.parent=e,t.prev=null,e.children.unshift(t)!==1){const n=e.children[1];n.prev=t,t.next=n}else t.next=null}function prepend$1(e,t){removeElement(t);const{parent:n}=e;if(n){const i=n.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}function filter$2(e,t,n=!0,i=1/0){return find$2(e,Array.isArray(t)?t:[t],n,i)}function find$2(e,t,n,i){const a=[],s=[Array.isArray(t)?t:[t]],o=[0];for(;;){if(o[0]>=s[0].length){if(o.length===1)return a;s.shift(),o.shift();continue}const l=s[0][o[0]++];if(e(l)&&(a.push(l),--i<=0))return a;n&&hasChildren(l)&&l.children.length>0&&(o.unshift(0),s.unshift(l.children))}}function findOneChild(e,t){return t.find(e)}function findOne(e,t,n=!0){const i=Array.isArray(t)?t:[t];for(let a=0;a<i.length;a++){const s=i[a];if(isTag(s)&&e(s))return s;if(n&&hasChildren(s)&&s.children.length>0){const o=findOne(e,s.children,!0);if(o)return o}}return null}function existsOne(e,t){return(Array.isArray(t)?t:[t]).some(n=>isTag(n)&&e(n)||hasChildren(n)&&existsOne(e,n.children))}function findAll(e,t){const n=[],i=[Array.isArray(t)?t:[t]],a=[0];for(;;){if(a[0]>=i[0].length){if(i.length===1)return n;i.shift(),a.shift();continue}const s=i[0][a[0]++];isTag(s)&&e(s)&&n.push(s),hasChildren(s)&&s.children.length>0&&(a.unshift(0),i.unshift(s.children))}}const Checks={tag_name(e){return typeof e=="function"?t=>isTag(t)&&e(t.name):e==="*"?isTag:t=>isTag(t)&&t.name===e},tag_type(e){return typeof e=="function"?t=>e(t.type):t=>t.type===e},tag_contains(e){return typeof e=="function"?t=>isText(t)&&e(t.data):t=>isText(t)&&t.data===e}};function getAttribCheck(e,t){return typeof t=="function"?n=>isTag(n)&&t(n.attribs[e]):n=>isTag(n)&&n.attribs[e]===t}function combineFuncs(e,t){return n=>e(n)||t(n)}function compileTest(e){const t=Object.keys(e).map(n=>{const i=e[n];return Object.prototype.hasOwnProperty.call(Checks,n)?Checks[n](i):getAttribCheck(n,i)});return t.length===0?null:t.reduce(combineFuncs)}function testElement(e,t){const n=compileTest(e);return n?n(t):!0}function getElements(e,t,n,i=1/0){const a=compileTest(e);return a?filter$2(a,t,n,i):[]}function getElementById(e,t,n=!0){return Array.isArray(t)||(t=[t]),findOne(getAttribCheck("id",e),t,n)}function getElementsByTagName(e,t,n=!0,i=1/0){return filter$2(Checks.tag_name(e),t,n,i)}function getElementsByClassName(e,t,n=!0,i=1/0){return filter$2(getAttribCheck("class",e),t,n,i)}function getElementsByTagType(e,t,n=!0,i=1/0){return filter$2(Checks.tag_type(e),t,n,i)}function removeSubsets(e){let t=e.length;for(;--t>=0;){const n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0){e.splice(t,1);continue}for(let i=n.parent;i;i=i.parent)if(e.includes(i)){e.splice(t,1);break}}return e}var DocumentPosition;(function(e){e[e.DISCONNECTED=1]="DISCONNECTED",e[e.PRECEDING=2]="PRECEDING",e[e.FOLLOWING=4]="FOLLOWING",e[e.CONTAINS=8]="CONTAINS",e[e.CONTAINED_BY=16]="CONTAINED_BY"})(DocumentPosition||(DocumentPosition={}));function compareDocumentPosition(e,t){const n=[],i=[];if(e===t)return 0;let a=hasChildren(e)?e:e.parent;for(;a;)n.unshift(a),a=a.parent;for(a=hasChildren(t)?t:t.parent;a;)i.unshift(a),a=a.parent;const s=Math.min(n.length,i.length);let o=0;for(;o<s&&n[o]===i[o];)o++;if(o===0)return DocumentPosition.DISCONNECTED;const l=n[o-1],m=l.children,_=n[o],A=i[o];return m.indexOf(_)>m.indexOf(A)?l===t?DocumentPosition.FOLLOWING|DocumentPosition.CONTAINED_BY:DocumentPosition.FOLLOWING:l===e?DocumentPosition.PRECEDING|DocumentPosition.CONTAINS:DocumentPosition.PRECEDING}function uniqueSort(e){return e=e.filter((t,n,i)=>!i.includes(t,n+1)),e.sort((t,n)=>{const i=compareDocumentPosition(t,n);return i&DocumentPosition.PRECEDING?-1:i&DocumentPosition.FOLLOWING?1:0}),e}function getFeed(e){const t=getOneElement(isValidFeed,e);return t?t.name==="feed"?getAtomFeed(t):getRssFeed(t):null}function getAtomFeed(e){var t;const n=e.children,i={type:"atom",items:getElementsByTagName("entry",n).map(o=>{var l;const{children:m}=o,_={media:getMediaElements(m)};addConditionally(_,"id","id",m),addConditionally(_,"title","title",m);const A=(l=getOneElement("link",m))===null||l===void 0?void 0:l.attribs.href;A&&(_.link=A);const x=fetch$1("summary",m)||fetch$1("content",m);x&&(_.description=x);const N=fetch$1("updated",m);return N&&(_.pubDate=new Date(N)),_})};addConditionally(i,"id","id",n),addConditionally(i,"title","title",n);const a=(t=getOneElement("link",n))===null||t===void 0?void 0:t.attribs.href;a&&(i.link=a),addConditionally(i,"description","subtitle",n);const s=fetch$1("updated",n);return s&&(i.updated=new Date(s)),addConditionally(i,"author","email",n,!0),i}function getRssFeed(e){var t,n;const i=(n=(t=getOneElement("channel",e.children))===null||t===void 0?void 0:t.children)!==null&&n!==void 0?n:[],a={type:e.name.substr(0,3),id:"",items:getElementsByTagName("item",e.children).map(o=>{const{children:l}=o,m={media:getMediaElements(l)};addConditionally(m,"id","guid",l),addConditionally(m,"title","title",l),addConditionally(m,"link","link",l),addConditionally(m,"description","description",l);const _=fetch$1("pubDate",l)||fetch$1("dc:date",l);return _&&(m.pubDate=new Date(_)),m})};addConditionally(a,"title","title",i),addConditionally(a,"link","link",i),addConditionally(a,"description","description",i);const s=fetch$1("lastBuildDate",i);return s&&(a.updated=new Date(s)),addConditionally(a,"author","managingEditor",i,!0),a}const MEDIA_KEYS_STRING=["url","type","lang"],MEDIA_KEYS_INT=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function getMediaElements(e){return getElementsByTagName("media:content",e).map(t=>{const{attribs:n}=t,i={medium:n.medium,isDefault:!!n.isDefault};for(const a of MEDIA_KEYS_STRING)n[a]&&(i[a]=n[a]);for(const a of MEDIA_KEYS_INT)n[a]&&(i[a]=parseInt(n[a],10));return n.expression&&(i.expression=n.expression),i})}function getOneElement(e,t){return getElementsByTagName(e,t,!0,1)[0]}function fetch$1(e,t,n=!1){return textContent(getElementsByTagName(e,t,n,1)).trim()}function addConditionally(e,t,n,i,a=!1){const s=fetch$1(n,i,a);s&&(e[t]=s)}function isValidFeed(e){return e==="rss"||e==="feed"||e==="rdf:RDF"}const DomUtils=Object.freeze(Object.defineProperty({__proto__:null,get DocumentPosition(){return DocumentPosition},append:append$1,appendChild,compareDocumentPosition,existsOne,filter:filter$2,find:find$2,findAll,findOne,findOneChild,getAttributeValue,getChildren,getElementById,getElements,getElementsByClassName,getElementsByTagName,getElementsByTagType,getFeed,getInnerHTML,getName,getOuterHTML,getParent,getSiblings,getText,hasAttrib,hasChildren,innerText,isCDATA,isComment,isDocument,isTag,isText,nextElementSibling,prepend:prepend$1,prependChild,prevElementSibling,removeElement,removeSubsets,replaceElement,testElement,textContent,uniqueSort},Symbol.toStringTag,{value:"Module"})),defaultOpts$1={_useHtmlParser2:!1};function flattenOptions(e,t){if(!e)return t??defaultOpts$1;const n={_useHtmlParser2:!!e.xmlMode,...t,...e};return e.xml?(n._useHtmlParser2=!0,n.xmlMode=!0,e.xml!==!0&&Object.assign(n,e.xml)):e.xmlMode&&(n._useHtmlParser2=!0),n}function render(e,t,n){return e?e(t??e._root.children,null,void 0,n).toString():""}function isOptions(e,t){return typeof e=="object"&&e!=null&&!("length"in e)&&!("type"in e)}function html$2(e,t){const n=isOptions(e)?(t=e,void 0):e,i={...this===null||this===void 0?void 0:this._options,...flattenOptions(t)};return render(this,n,i)}function xml(e){const t={...this._options,xmlMode:!0};return render(this,e,t)}function text$1(e){const t=e??(this?this.root():[]);let n="";for(let i=0;i<t.length;i++)n+=textContent(t[i]);return n}function parseHTML(e,t,n=typeof t=="boolean"?t:!1){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t);const i=this.load(e,this._options,!1);return n||i("script").remove(),[...i.root()[0].children]}function root$1(){return this(this._root)}function contains(e,t){if(t===e)return!1;let n=t;for(;n&&n!==n.parent;)if(n=n.parent,n===e)return!0;return!1}function extract$1(e){return this.root().extract(e)}function merge$1(e,t){if(!isArrayLike(e)||!isArrayLike(t))return;let n=e.length;const i=+t.length;for(let a=0;a<i;a++)e[n++]=t[a];return e.length=n,e}function isArrayLike(e){if(Array.isArray(e))return!0;if(typeof e!="object"||e===null||!("length"in e)||typeof e.length!="number"||e.length<0)return!1;for(let t=0;t<e.length;t++)if(!(t in e))return!1;return!0}const staticMethods=Object.freeze(Object.defineProperty({__proto__:null,contains,extract:extract$1,html:html$2,merge:merge$1,parseHTML,root:root$1,text:text$1,xml},Symbol.toStringTag,{value:"Module"}));function isCheerio(e){return e.cheerio!=null}function camelCase(e){return e.replace(/[._-](\w|$)/g,(t,n)=>n.toUpperCase())}function cssCase(e){return e.replace(/[A-Z]/g,"-$&").toLowerCase()}function domEach(e,t){const n=e.length;for(let i=0;i<n;i++)t(e[i],i);return e}var CharacterCode;(function(e){e[e.LowerA=97]="LowerA",e[e.LowerZ=122]="LowerZ",e[e.UpperA=65]="UpperA",e[e.UpperZ=90]="UpperZ",e[e.Exclamation=33]="Exclamation"})(CharacterCode||(CharacterCode={}));function isHtml(e){const t=e.indexOf("<");if(t===-1||t>e.length-3)return!1;const n=e.charCodeAt(t+1);return(n>=CharacterCode.LowerA&&n<=CharacterCode.LowerZ||n>=CharacterCode.UpperA&&n<=CharacterCode.UpperZ||n===CharacterCode.Exclamation)&&e.includes(">",t+2)}const htmlDecodeTree$1=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),xmlDecodeTree=new Uint16Array("aglq	\x1B\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var _a$1;const decodeMap$1=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),fromCodePoint=(_a$1=String.fromCodePoint)!==null&&_a$1!==void 0?_a$1:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function replaceCodePoint$1(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=decodeMap$1.get(e))!==null&&t!==void 0?t:e}var CharCodes$2;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes$2||(CharCodes$2={}));const TO_LOWER_BIT$1=32;var BinTrieFlags$1;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags$1||(BinTrieFlags$1={}));function isNumber$1(e){return e>=CharCodes$2.ZERO&&e<=CharCodes$2.NINE}function isHexadecimalCharacter$1(e){return e>=CharCodes$2.UPPER_A&&e<=CharCodes$2.UPPER_F||e>=CharCodes$2.LOWER_A&&e<=CharCodes$2.LOWER_F}function isAsciiAlphaNumeric$2(e){return e>=CharCodes$2.UPPER_A&&e<=CharCodes$2.UPPER_Z||e>=CharCodes$2.LOWER_A&&e<=CharCodes$2.LOWER_Z||isNumber$1(e)}function isEntityInAttributeInvalidEnd$1(e){return e===CharCodes$2.EQUALS||isAsciiAlphaNumeric$2(e)}var EntityDecoderState$1;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState$1||(EntityDecoderState$1={}));var DecodingMode$1;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode$1||(DecodingMode$1={}));let EntityDecoder$1=class{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=EntityDecoderState$1.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode$1.Strict}startEntity(t){this.decodeMode=t,this.state=EntityDecoderState$1.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case EntityDecoderState$1.EntityStart:return t.charCodeAt(n)===CharCodes$2.NUM?(this.state=EntityDecoderState$1.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=EntityDecoderState$1.NamedEntity,this.stateNamedEntity(t,n));case EntityDecoderState$1.NumericStart:return this.stateNumericStart(t,n);case EntityDecoderState$1.NumericDecimal:return this.stateNumericDecimal(t,n);case EntityDecoderState$1.NumericHex:return this.stateNumericHex(t,n);case EntityDecoderState$1.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|TO_LOWER_BIT$1)===CharCodes$2.LOWER_X?(this.state=EntityDecoderState$1.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=EntityDecoderState$1.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,a){if(n!==i){const s=i-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(t.substr(n,s),a),this.consumed+=s}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const a=t.charCodeAt(n);if(isNumber$1(a)||isHexadecimalCharacter$1(a))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const a=t.charCodeAt(n);if(isNumber$1(a))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===CharCodes$2.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode$1.Strict)return 0;return this.emitCodePoint(replaceCodePoint$1(this.result),this.consumed),this.errors&&(t!==CharCodes$2.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let a=i[this.treeIndex],s=(a&BinTrieFlags$1.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=determineBranch$1(i,a,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode$1.Attribute&&(s===0||isEntityInAttributeInvalidEnd$1(o))?0:this.emitNotTerminatedNamedEntity();if(a=i[this.treeIndex],s=(a&BinTrieFlags$1.VALUE_LENGTH)>>14,s!==0){if(o===CharCodes$2.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==DecodingMode$1.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,a=(i[n]&BinTrieFlags$1.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~BinTrieFlags$1.VALUE_LENGTH:a[t+1],i),n===3&&this.emitCodePoint(a[t+2],i),i}end(){var t;switch(this.state){case EntityDecoderState$1.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode$1.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState$1.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState$1.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState$1.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState$1.EntityStart:return 0}}};function determineBranch$1(e,t,n,i){const a=(t&BinTrieFlags$1.BRANCH_LENGTH)>>7,s=t&BinTrieFlags$1.JUMP_TABLE;if(a===0)return s!==0&&i===s?n:-1;if(s){const m=i-s;return m<0||m>=a?-1:e[n+m]-1}let o=n,l=o+a-1;for(;o<=l;){const m=o+l>>>1,_=e[m];if(_<i)o=m+1;else if(_>i)l=m-1;else return e[m+a]}return-1}var CharCodes$1;(function(e){e[e.Tab=9]="Tab",e[e.NewLine=10]="NewLine",e[e.FormFeed=12]="FormFeed",e[e.CarriageReturn=13]="CarriageReturn",e[e.Space=32]="Space",e[e.ExclamationMark=33]="ExclamationMark",e[e.Number=35]="Number",e[e.Amp=38]="Amp",e[e.SingleQuote=39]="SingleQuote",e[e.DoubleQuote=34]="DoubleQuote",e[e.Dash=45]="Dash",e[e.Slash=47]="Slash",e[e.Zero=48]="Zero",e[e.Nine=57]="Nine",e[e.Semi=59]="Semi",e[e.Lt=60]="Lt",e[e.Eq=61]="Eq",e[e.Gt=62]="Gt",e[e.Questionmark=63]="Questionmark",e[e.UpperA=65]="UpperA",e[e.LowerA=97]="LowerA",e[e.UpperF=70]="UpperF",e[e.LowerF=102]="LowerF",e[e.UpperZ=90]="UpperZ",e[e.LowerZ=122]="LowerZ",e[e.LowerX=120]="LowerX",e[e.OpeningSquareBracket=91]="OpeningSquareBracket"})(CharCodes$1||(CharCodes$1={}));var State$1;(function(e){e[e.Text=1]="Text",e[e.BeforeTagName=2]="BeforeTagName",e[e.InTagName=3]="InTagName",e[e.InSelfClosingTag=4]="InSelfClosingTag",e[e.BeforeClosingTagName=5]="BeforeClosingTagName",e[e.InClosingTagName=6]="InClosingTagName",e[e.AfterClosingTagName=7]="AfterClosingTagName",e[e.BeforeAttributeName=8]="BeforeAttributeName",e[e.InAttributeName=9]="InAttributeName",e[e.AfterAttributeName=10]="AfterAttributeName",e[e.BeforeAttributeValue=11]="BeforeAttributeValue",e[e.InAttributeValueDq=12]="InAttributeValueDq",e[e.InAttributeValueSq=13]="InAttributeValueSq",e[e.InAttributeValueNq=14]="InAttributeValueNq",e[e.BeforeDeclaration=15]="BeforeDeclaration",e[e.InDeclaration=16]="InDeclaration",e[e.InProcessingInstruction=17]="InProcessingInstruction",e[e.BeforeComment=18]="BeforeComment",e[e.CDATASequence=19]="CDATASequence",e[e.InSpecialComment=20]="InSpecialComment",e[e.InCommentLike=21]="InCommentLike",e[e.BeforeSpecialS=22]="BeforeSpecialS",e[e.BeforeSpecialT=23]="BeforeSpecialT",e[e.SpecialStartSequence=24]="SpecialStartSequence",e[e.InSpecialTag=25]="InSpecialTag",e[e.InEntity=26]="InEntity"})(State$1||(State$1={}));function isWhitespace$2(e){return e===CharCodes$1.Space||e===CharCodes$1.NewLine||e===CharCodes$1.Tab||e===CharCodes$1.FormFeed||e===CharCodes$1.CarriageReturn}function isEndOfTagSection(e){return e===CharCodes$1.Slash||e===CharCodes$1.Gt||isWhitespace$2(e)}function isASCIIAlpha(e){return e>=CharCodes$1.LowerA&&e<=CharCodes$1.LowerZ||e>=CharCodes$1.UpperA&&e<=CharCodes$1.UpperZ}var QuoteType;(function(e){e[e.NoValue=0]="NoValue",e[e.Unquoted=1]="Unquoted",e[e.Single=2]="Single",e[e.Double=3]="Double"})(QuoteType||(QuoteType={}));const Sequences={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97]),XmpEnd:new Uint8Array([60,47,120,109,112])};let Tokenizer$1=class{constructor({xmlMode:t=!1,decodeEntities:n=!0},i){this.cbs=i,this.state=State$1.Text,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=State$1.Text,this.isSpecial=!1,this.running=!0,this.offset=0,this.currentSequence=void 0,this.sequenceIndex=0,this.xmlMode=t,this.decodeEntities=n,this.entityDecoder=new EntityDecoder$1(t?xmlDecodeTree:htmlDecodeTree$1,(a,s)=>this.emitCodePoint(a,s))}reset(){this.state=State$1.Text,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=State$1.Text,this.currentSequence=void 0,this.running=!0,this.offset=0}write(t){this.offset+=this.buffer.length,this.buffer=t,this.parse()}end(){this.running&&this.finish()}pause(){this.running=!1}resume(){this.running=!0,this.index<this.buffer.length+this.offset&&this.parse()}stateText(t){t===CharCodes$1.Lt||!this.decodeEntities&&this.fastForwardTo(CharCodes$1.Lt)?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=State$1.BeforeTagName,this.sectionStart=this.index):this.decodeEntities&&t===CharCodes$1.Amp&&this.startEntity()}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?isEndOfTagSection(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.isSpecial=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=State$1.InTagName,this.stateInTagName(t)}stateInSpecialTag(t){if(this.sequenceIndex===this.currentSequence.length){if(t===CharCodes$1.Gt||isWhitespace$2(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.isSpecial=!1,this.sectionStart=n+2,this.stateInClosingTagName(t);return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Sequences.TitleEnd?this.decodeEntities&&t===CharCodes$1.Amp&&this.startEntity():this.fastForwardTo(CharCodes$1.Lt)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===CharCodes$1.Lt)}stateCDATASequence(t){t===Sequences.Cdata[this.sequenceIndex]?++this.sequenceIndex===Sequences.Cdata.length&&(this.state=State$1.InCommentLike,this.currentSequence=Sequences.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=State$1.InDeclaration,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length+this.offset;)if(this.buffer.charCodeAt(this.index-this.offset)===t)return!0;return this.index=this.buffer.length+this.offset-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Sequences.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index,2):this.cbs.oncomment(this.sectionStart,this.index,2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=State$1.Text):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}isTagStartChar(t){return this.xmlMode?!isEndOfTagSection(t):isASCIIAlpha(t)}startSpecial(t,n){this.isSpecial=!0,this.currentSequence=t,this.sequenceIndex=n,this.state=State$1.SpecialStartSequence}stateBeforeTagName(t){if(t===CharCodes$1.ExclamationMark)this.state=State$1.BeforeDeclaration,this.sectionStart=this.index+1;else if(t===CharCodes$1.Questionmark)this.state=State$1.InProcessingInstruction,this.sectionStart=this.index+1;else if(this.isTagStartChar(t)){const n=t|32;this.sectionStart=this.index,this.xmlMode?this.state=State$1.InTagName:n===Sequences.ScriptEnd[2]?this.state=State$1.BeforeSpecialS:n===Sequences.TitleEnd[2]||n===Sequences.XmpEnd[2]?this.state=State$1.BeforeSpecialT:this.state=State$1.InTagName}else t===CharCodes$1.Slash?this.state=State$1.BeforeClosingTagName:(this.state=State$1.Text,this.stateText(t))}stateInTagName(t){isEndOfTagSection(t)&&(this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=State$1.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateBeforeClosingTagName(t){isWhitespace$2(t)||(t===CharCodes$1.Gt?this.state=State$1.Text:(this.state=this.isTagStartChar(t)?State$1.InClosingTagName:State$1.InSpecialComment,this.sectionStart=this.index))}stateInClosingTagName(t){(t===CharCodes$1.Gt||isWhitespace$2(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=State$1.AfterClosingTagName,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){(t===CharCodes$1.Gt||this.fastForwardTo(CharCodes$1.Gt))&&(this.state=State$1.Text,this.sectionStart=this.index+1)}stateBeforeAttributeName(t){t===CharCodes$1.Gt?(this.cbs.onopentagend(this.index),this.isSpecial?(this.state=State$1.InSpecialTag,this.sequenceIndex=0):this.state=State$1.Text,this.sectionStart=this.index+1):t===CharCodes$1.Slash?this.state=State$1.InSelfClosingTag:isWhitespace$2(t)||(this.state=State$1.InAttributeName,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===CharCodes$1.Gt?(this.cbs.onselfclosingtag(this.index),this.state=State$1.Text,this.sectionStart=this.index+1,this.isSpecial=!1):isWhitespace$2(t)||(this.state=State$1.BeforeAttributeName,this.stateBeforeAttributeName(t))}stateInAttributeName(t){(t===CharCodes$1.Eq||isEndOfTagSection(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.sectionStart=this.index,this.state=State$1.AfterAttributeName,this.stateAfterAttributeName(t))}stateAfterAttributeName(t){t===CharCodes$1.Eq?this.state=State$1.BeforeAttributeValue:t===CharCodes$1.Slash||t===CharCodes$1.Gt?(this.cbs.onattribend(QuoteType.NoValue,this.sectionStart),this.sectionStart=-1,this.state=State$1.BeforeAttributeName,this.stateBeforeAttributeName(t)):isWhitespace$2(t)||(this.cbs.onattribend(QuoteType.NoValue,this.sectionStart),this.state=State$1.InAttributeName,this.sectionStart=this.index)}stateBeforeAttributeValue(t){t===CharCodes$1.DoubleQuote?(this.state=State$1.InAttributeValueDq,this.sectionStart=this.index+1):t===CharCodes$1.SingleQuote?(this.state=State$1.InAttributeValueSq,this.sectionStart=this.index+1):isWhitespace$2(t)||(this.sectionStart=this.index,this.state=State$1.InAttributeValueNq,this.stateInAttributeValueNoQuotes(t))}handleInAttributeValue(t,n){t===n||!this.decodeEntities&&this.fastForwardTo(n)?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===CharCodes$1.DoubleQuote?QuoteType.Double:QuoteType.Single,this.index+1),this.state=State$1.BeforeAttributeName):this.decodeEntities&&t===CharCodes$1.Amp&&this.startEntity()}stateInAttributeValueDoubleQuotes(t){this.handleInAttributeValue(t,CharCodes$1.DoubleQuote)}stateInAttributeValueSingleQuotes(t){this.handleInAttributeValue(t,CharCodes$1.SingleQuote)}stateInAttributeValueNoQuotes(t){isWhitespace$2(t)||t===CharCodes$1.Gt?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(QuoteType.Unquoted,this.index),this.state=State$1.BeforeAttributeName,this.stateBeforeAttributeName(t)):this.decodeEntities&&t===CharCodes$1.Amp&&this.startEntity()}stateBeforeDeclaration(t){t===CharCodes$1.OpeningSquareBracket?(this.state=State$1.CDATASequence,this.sequenceIndex=0):this.state=t===CharCodes$1.Dash?State$1.BeforeComment:State$1.InDeclaration}stateInDeclaration(t){(t===CharCodes$1.Gt||this.fastForwardTo(CharCodes$1.Gt))&&(this.cbs.ondeclaration(this.sectionStart,this.index),this.state=State$1.Text,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===CharCodes$1.Gt||this.fastForwardTo(CharCodes$1.Gt))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=State$1.Text,this.sectionStart=this.index+1)}stateBeforeComment(t){t===CharCodes$1.Dash?(this.state=State$1.InCommentLike,this.currentSequence=Sequences.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=State$1.InDeclaration}stateInSpecialComment(t){(t===CharCodes$1.Gt||this.fastForwardTo(CharCodes$1.Gt))&&(this.cbs.oncomment(this.sectionStart,this.index,0),this.state=State$1.Text,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){const n=t|32;n===Sequences.ScriptEnd[3]?this.startSpecial(Sequences.ScriptEnd,4):n===Sequences.StyleEnd[3]?this.startSpecial(Sequences.StyleEnd,4):(this.state=State$1.InTagName,this.stateInTagName(t))}stateBeforeSpecialT(t){switch(t|32){case Sequences.TitleEnd[3]:{this.startSpecial(Sequences.TitleEnd,4);break}case Sequences.TextareaEnd[3]:{this.startSpecial(Sequences.TextareaEnd,4);break}case Sequences.XmpEnd[3]:{this.startSpecial(Sequences.XmpEnd,4);break}default:this.state=State$1.InTagName,this.stateInTagName(t)}}startEntity(){this.baseState=this.state,this.state=State$1.InEntity,this.entityStart=this.index,this.entityDecoder.startEntity(this.xmlMode?DecodingMode$1.Strict:this.baseState===State$1.Text||this.baseState===State$1.InSpecialTag?DecodingMode$1.Legacy:DecodingMode$1.Attribute)}stateInEntity(){const t=this.entityDecoder.write(this.buffer,this.index-this.offset);t>=0?(this.state=this.baseState,t===0&&(this.index=this.entityStart)):this.index=this.offset+this.buffer.length-1}cleanup(){this.running&&this.sectionStart!==this.index&&(this.state===State$1.Text||this.state===State$1.InSpecialTag&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===State$1.InAttributeValueDq||this.state===State$1.InAttributeValueSq||this.state===State$1.InAttributeValueNq)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}shouldContinue(){return this.index<this.buffer.length+this.offset&&this.running}parse(){for(;this.shouldContinue();){const t=this.buffer.charCodeAt(this.index-this.offset);switch(this.state){case State$1.Text:{this.stateText(t);break}case State$1.SpecialStartSequence:{this.stateSpecialStartSequence(t);break}case State$1.InSpecialTag:{this.stateInSpecialTag(t);break}case State$1.CDATASequence:{this.stateCDATASequence(t);break}case State$1.InAttributeValueDq:{this.stateInAttributeValueDoubleQuotes(t);break}case State$1.InAttributeName:{this.stateInAttributeName(t);break}case State$1.InCommentLike:{this.stateInCommentLike(t);break}case State$1.InSpecialComment:{this.stateInSpecialComment(t);break}case State$1.BeforeAttributeName:{this.stateBeforeAttributeName(t);break}case State$1.InTagName:{this.stateInTagName(t);break}case State$1.InClosingTagName:{this.stateInClosingTagName(t);break}case State$1.BeforeTagName:{this.stateBeforeTagName(t);break}case State$1.AfterAttributeName:{this.stateAfterAttributeName(t);break}case State$1.InAttributeValueSq:{this.stateInAttributeValueSingleQuotes(t);break}case State$1.BeforeAttributeValue:{this.stateBeforeAttributeValue(t);break}case State$1.BeforeClosingTagName:{this.stateBeforeClosingTagName(t);break}case State$1.AfterClosingTagName:{this.stateAfterClosingTagName(t);break}case State$1.BeforeSpecialS:{this.stateBeforeSpecialS(t);break}case State$1.BeforeSpecialT:{this.stateBeforeSpecialT(t);break}case State$1.InAttributeValueNq:{this.stateInAttributeValueNoQuotes(t);break}case State$1.InSelfClosingTag:{this.stateInSelfClosingTag(t);break}case State$1.InDeclaration:{this.stateInDeclaration(t);break}case State$1.BeforeDeclaration:{this.stateBeforeDeclaration(t);break}case State$1.BeforeComment:{this.stateBeforeComment(t);break}case State$1.InProcessingInstruction:{this.stateInProcessingInstruction(t);break}case State$1.InEntity:{this.stateInEntity();break}}this.index++}this.cleanup()}finish(){this.state===State$1.InEntity&&(this.entityDecoder.end(),this.state=this.baseState),this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length+this.offset;this.sectionStart>=t||(this.state===State$1.InCommentLike?this.currentSequence===Sequences.CdataEnd?this.cbs.oncdata(this.sectionStart,t,0):this.cbs.oncomment(this.sectionStart,t,0):this.state===State$1.InTagName||this.state===State$1.BeforeAttributeName||this.state===State$1.BeforeAttributeValue||this.state===State$1.AfterAttributeName||this.state===State$1.InAttributeName||this.state===State$1.InAttributeValueSq||this.state===State$1.InAttributeValueDq||this.state===State$1.InAttributeValueNq||this.state===State$1.InClosingTagName||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){this.baseState!==State$1.Text&&this.baseState!==State$1.InSpecialTag?(this.sectionStart<this.entityStart&&this.cbs.onattribdata(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.onattribentity(t)):(this.sectionStart<this.entityStart&&this.cbs.ontext(this.sectionStart,this.entityStart),this.sectionStart=this.entityStart+n,this.index=this.sectionStart-1,this.cbs.ontextentity(t,this.sectionStart))}};const formTags=new Set(["input","option","optgroup","select","button","datalist","textarea"]),pTag=new Set(["p"]),tableSectionTags=new Set(["thead","tbody"]),ddtTags=new Set(["dd","dt"]),rtpTags=new Set(["rt","rp"]),openImpliesClose=new Map([["tr",new Set(["tr","th","td"])],["th",new Set(["th"])],["td",new Set(["thead","th","td"])],["body",new Set(["head","link","script"])],["li",new Set(["li"])],["p",pTag],["h1",pTag],["h2",pTag],["h3",pTag],["h4",pTag],["h5",pTag],["h6",pTag],["select",formTags],["input",formTags],["output",formTags],["button",formTags],["datalist",formTags],["textarea",formTags],["option",new Set(["option"])],["optgroup",new Set(["optgroup","option"])],["dd",ddtTags],["dt",ddtTags],["address",pTag],["article",pTag],["aside",pTag],["blockquote",pTag],["details",pTag],["div",pTag],["dl",pTag],["fieldset",pTag],["figcaption",pTag],["figure",pTag],["footer",pTag],["form",pTag],["header",pTag],["hr",pTag],["main",pTag],["nav",pTag],["ol",pTag],["pre",pTag],["section",pTag],["table",pTag],["ul",pTag],["rt",rtpTags],["rp",rtpTags],["tbody",tableSectionTags],["tfoot",tableSectionTags]]),voidElements$1=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),foreignContextElements=new Set(["math","svg"]),htmlIntegrationElements=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignobject","desc","title"]),reNameEnd=/\s|\//;let Parser$1=class{constructor(t,n={}){var i,a,s,o,l,m;this.options=n,this.startIndex=0,this.endIndex=0,this.openTagStart=0,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.buffers=[],this.bufferOffset=0,this.writeIndex=0,this.ended=!1,this.cbs=t??{},this.htmlMode=!this.options.xmlMode,this.lowerCaseTagNames=(i=n.lowerCaseTags)!==null&&i!==void 0?i:this.htmlMode,this.lowerCaseAttributeNames=(a=n.lowerCaseAttributeNames)!==null&&a!==void 0?a:this.htmlMode,this.recognizeSelfClosing=(s=n.recognizeSelfClosing)!==null&&s!==void 0?s:!this.htmlMode,this.tokenizer=new((o=n.Tokenizer)!==null&&o!==void 0?o:Tokenizer$1)(this.options,this),this.foreignContext=[!this.htmlMode],(m=(l=this.cbs).onparserinit)===null||m===void 0||m.call(l,this)}ontext(t,n){var i,a;const s=this.getSlice(t,n);this.endIndex=n-1,(a=(i=this.cbs).ontext)===null||a===void 0||a.call(i,s),this.startIndex=n}ontextentity(t,n){var i,a;this.endIndex=n-1,(a=(i=this.cbs).ontext)===null||a===void 0||a.call(i,fromCodePoint(t)),this.startIndex=n}isVoidElement(t){return this.htmlMode&&voidElements$1.has(t)}onopentagname(t,n){this.endIndex=n;let i=this.getSlice(t,n);this.lowerCaseTagNames&&(i=i.toLowerCase()),this.emitOpenTag(i)}emitOpenTag(t){var n,i,a,s;this.openTagStart=this.startIndex,this.tagname=t;const o=this.htmlMode&&openImpliesClose.get(t);if(o)for(;this.stack.length>0&&o.has(this.stack[0]);){const l=this.stack.shift();(i=(n=this.cbs).onclosetag)===null||i===void 0||i.call(n,l,!0)}this.isVoidElement(t)||(this.stack.unshift(t),this.htmlMode&&(foreignContextElements.has(t)?this.foreignContext.unshift(!0):htmlIntegrationElements.has(t)&&this.foreignContext.unshift(!1))),(s=(a=this.cbs).onopentagname)===null||s===void 0||s.call(a,t),this.cbs.onopentag&&(this.attribs={})}endOpenTag(t){var n,i;this.startIndex=this.openTagStart,this.attribs&&((i=(n=this.cbs).onopentag)===null||i===void 0||i.call(n,this.tagname,this.attribs,t),this.attribs=null),this.cbs.onclosetag&&this.isVoidElement(this.tagname)&&this.cbs.onclosetag(this.tagname,!0),this.tagname=""}onopentagend(t){this.endIndex=t,this.endOpenTag(!1),this.startIndex=t+1}onclosetag(t,n){var i,a,s,o,l,m,_,A;this.endIndex=n;let x=this.getSlice(t,n);if(this.lowerCaseTagNames&&(x=x.toLowerCase()),this.htmlMode&&(foreignContextElements.has(x)||htmlIntegrationElements.has(x))&&this.foreignContext.shift(),this.isVoidElement(x))this.htmlMode&&x==="br"&&((o=(s=this.cbs).onopentagname)===null||o===void 0||o.call(s,"br"),(m=(l=this.cbs).onopentag)===null||m===void 0||m.call(l,"br",{},!0),(A=(_=this.cbs).onclosetag)===null||A===void 0||A.call(_,"br",!1));else{const N=this.stack.indexOf(x);if(N!==-1)for(let I=0;I<=N;I++){const k=this.stack.shift();(a=(i=this.cbs).onclosetag)===null||a===void 0||a.call(i,k,I!==N)}else this.htmlMode&&x==="p"&&(this.emitOpenTag("p"),this.closeCurrentTag(!0))}this.startIndex=n+1}onselfclosingtag(t){this.endIndex=t,this.recognizeSelfClosing||this.foreignContext[0]?(this.closeCurrentTag(!1),this.startIndex=t+1):this.onopentagend(t)}closeCurrentTag(t){var n,i;const a=this.tagname;this.endOpenTag(t),this.stack[0]===a&&((i=(n=this.cbs).onclosetag)===null||i===void 0||i.call(n,a,!t),this.stack.shift())}onattribname(t,n){this.startIndex=t;const i=this.getSlice(t,n);this.attribname=this.lowerCaseAttributeNames?i.toLowerCase():i}onattribdata(t,n){this.attribvalue+=this.getSlice(t,n)}onattribentity(t){this.attribvalue+=fromCodePoint(t)}onattribend(t,n){var i,a;this.endIndex=n,(a=(i=this.cbs).onattribute)===null||a===void 0||a.call(i,this.attribname,this.attribvalue,t===QuoteType.Double?'"':t===QuoteType.Single?"'":t===QuoteType.NoValue?void 0:null),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribvalue=""}getInstructionName(t){const n=t.search(reNameEnd);let i=n<0?t:t.substr(0,n);return this.lowerCaseTagNames&&(i=i.toLowerCase()),i}ondeclaration(t,n){this.endIndex=n;const i=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(i);this.cbs.onprocessinginstruction(`!${a}`,`!${i}`)}this.startIndex=n+1}onprocessinginstruction(t,n){this.endIndex=n;const i=this.getSlice(t,n);if(this.cbs.onprocessinginstruction){const a=this.getInstructionName(i);this.cbs.onprocessinginstruction(`?${a}`,`?${i}`)}this.startIndex=n+1}oncomment(t,n,i){var a,s,o,l;this.endIndex=n,(s=(a=this.cbs).oncomment)===null||s===void 0||s.call(a,this.getSlice(t,n-i)),(l=(o=this.cbs).oncommentend)===null||l===void 0||l.call(o),this.startIndex=n+1}oncdata(t,n,i){var a,s,o,l,m,_,A,x,N,I;this.endIndex=n;const k=this.getSlice(t,n-i);!this.htmlMode||this.options.recognizeCDATA?((s=(a=this.cbs).oncdatastart)===null||s===void 0||s.call(a),(l=(o=this.cbs).ontext)===null||l===void 0||l.call(o,k),(_=(m=this.cbs).oncdataend)===null||_===void 0||_.call(m)):((x=(A=this.cbs).oncomment)===null||x===void 0||x.call(A,`[CDATA[${k}]]`),(I=(N=this.cbs).oncommentend)===null||I===void 0||I.call(N)),this.startIndex=n+1}onend(){var t,n;if(this.cbs.onclosetag){this.endIndex=this.startIndex;for(let i=0;i<this.stack.length;i++)this.cbs.onclosetag(this.stack[i],!0)}(n=(t=this.cbs).onend)===null||n===void 0||n.call(t)}reset(){var t,n,i,a;(n=(t=this.cbs).onreset)===null||n===void 0||n.call(t),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack.length=0,this.startIndex=0,this.endIndex=0,(a=(i=this.cbs).onparserinit)===null||a===void 0||a.call(i,this),this.buffers.length=0,this.foreignContext.length=0,this.foreignContext.unshift(!this.htmlMode),this.bufferOffset=0,this.writeIndex=0,this.ended=!1}parseComplete(t){this.reset(),this.end(t)}getSlice(t,n){for(;t-this.bufferOffset>=this.buffers[0].length;)this.shiftBuffer();let i=this.buffers[0].slice(t-this.bufferOffset,n-this.bufferOffset);for(;n-this.bufferOffset>this.buffers[0].length;)this.shiftBuffer(),i+=this.buffers[0].slice(0,n-this.bufferOffset);return i}shiftBuffer(){this.bufferOffset+=this.buffers[0].length,this.writeIndex--,this.buffers.shift()}write(t){var n,i;if(this.ended){(i=(n=this.cbs).onerror)===null||i===void 0||i.call(n,new Error(".write() after done!"));return}this.buffers.push(t),this.tokenizer.running&&(this.tokenizer.write(t),this.writeIndex++)}end(t){var n,i;if(this.ended){(i=(n=this.cbs).onerror)===null||i===void 0||i.call(n,new Error(".end() after done!"));return}t&&this.write(t),this.ended=!0,this.tokenizer.end()}pause(){this.tokenizer.pause()}resume(){for(this.tokenizer.resume();this.tokenizer.running&&this.writeIndex<this.buffers.length;)this.tokenizer.write(this.buffers[this.writeIndex++]);this.ended&&this.tokenizer.end()}parseChunk(t){this.write(t)}done(t){this.end(t)}};function parseDocument(e,t){const n=new DomHandler(void 0,t);return new Parser$1(n,t).end(e),n.root}var _a;const hasOwn=(_a=Object.hasOwn)!==null&&_a!==void 0?_a:((e,t)=>Object.prototype.hasOwnProperty.call(e,t)),rspace=/\s+/,dataAttrPrefix="data-",rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,rbrace=/^{[^]*}$|^\[[^]*]$/;function getAttr(e,t,n){var i;if(!(!e||!isTag(e))){if((i=e.attribs)!==null&&i!==void 0||(e.attribs={}),!t)return e.attribs;if(hasOwn(e.attribs,t))return!n&&rboolean.test(t)?t:e.attribs[t];if(e.name==="option"&&t==="value")return text$1(e.children);if(e.name==="input"&&(e.attribs.type==="radio"||e.attribs.type==="checkbox")&&t==="value")return"on"}}function setAttr(e,t,n){n===null?removeAttribute(e,t):e.attribs[t]=`${n}`}function attr(e,t){if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e!="string")throw new Error("Bad combination of arguments.");return domEach(this,(n,i)=>{isTag(n)&&setAttr(n,e,t.call(n,i,n.attribs[e]))})}return domEach(this,n=>{if(isTag(n))if(typeof e=="object")for(const i of Object.keys(e)){const a=e[i];setAttr(n,i,a)}else setAttr(n,e,t)})}return arguments.length>1?this:getAttr(this[0],e,this.options.xmlMode)}function getProp(e,t,n){return t in e?e[t]:!n&&rboolean.test(t)?getAttr(e,t,!1)!==void 0:getAttr(e,t,n)}function setProp(e,t,n,i){t in e?e[t]=n:setAttr(e,t,!i&&rboolean.test(t)?n?"":null:`${n}`)}function prop(e,t){var n;if(typeof e=="string"&&t===void 0){const i=this[0];if(!i)return;switch(e){case"style":{const a=this.css(),s=Object.keys(a);for(let o=0;o<s.length;o++)a[o]=s[o];return a.length=s.length,a}case"tagName":case"nodeName":return isTag(i)?i.name.toUpperCase():void 0;case"href":case"src":{if(!isTag(i))return;const a=(n=i.attribs)===null||n===void 0?void 0:n[e];return typeof URL<"u"&&(e==="href"&&(i.tagName==="a"||i.tagName==="link")||e==="src"&&(i.tagName==="img"||i.tagName==="iframe"||i.tagName==="audio"||i.tagName==="video"||i.tagName==="source"))&&a!==void 0&&this.options.baseURI?new URL(a,this.options.baseURI).href:a}case"innerText":return innerText(i);case"textContent":return textContent(i);case"outerHTML":return i.type===Root?this.html():this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return isTag(i)?getProp(i,e,this.options.xmlMode):void 0}}if(typeof e=="object"||t!==void 0){if(typeof t=="function"){if(typeof e=="object")throw new TypeError("Bad combination of arguments.");return domEach(this,(i,a)=>{isTag(i)&&setProp(i,e,t.call(i,a,getProp(i,e,this.options.xmlMode)),this.options.xmlMode)})}return domEach(this,i=>{if(isTag(i))if(typeof e=="object")for(const a of Object.keys(e)){const s=e[a];setProp(i,a,s,this.options.xmlMode)}else setProp(i,e,t,this.options.xmlMode)})}}function setData(e,t,n){var i;(i=e.data)!==null&&i!==void 0||(e.data={}),typeof t=="object"?Object.assign(e.data,t):typeof t=="string"&&n!==void 0&&(e.data[t]=n)}function readAllData(e){for(const t of Object.keys(e.attribs)){if(!t.startsWith(dataAttrPrefix))continue;const n=camelCase(t.slice(dataAttrPrefix.length));hasOwn(e.data,n)||(e.data[n]=parseDataValue(e.attribs[t]))}return e.data}function readData(e,t){const n=dataAttrPrefix+cssCase(t),i=e.data;if(hasOwn(i,t))return i[t];if(hasOwn(e.attribs,n))return i[t]=parseDataValue(e.attribs[n])}function parseDataValue(e){if(e==="null")return null;if(e==="true")return!0;if(e==="false")return!1;const t=Number(e);if(e===String(t))return t;if(rbrace.test(e))try{return JSON.parse(e)}catch{}return e}function data(e,t){var n;const i=this[0];if(!i||!isTag(i))return;const a=i;return(n=a.data)!==null&&n!==void 0||(a.data={}),e==null?readAllData(a):typeof e=="object"||t!==void 0?(domEach(this,s=>{isTag(s)&&(typeof e=="object"?setData(s,e):setData(s,e,t))}),this):readData(a,e)}function val(e){const t=arguments.length===0,n=this[0];if(!n||!isTag(n))return t?void 0:this;switch(n.name){case"textarea":return this.text(e);case"select":{const i=this.find("option:selected");if(!t){if(this.attr("multiple")==null&&typeof e=="object")return this;this.find("option").removeAttr("selected");const a=typeof e=="object"?e:[e];for(const s of a)this.find(`option[value="${s}"]`).attr("selected","");return this}return this.attr("multiple")?i.toArray().map(a=>text$1(a.children)):i.attr("value")}case"input":case"option":return t?this.attr("value"):this.attr("value",e)}}function removeAttribute(e,t){!e.attribs||!hasOwn(e.attribs,t)||delete e.attribs[t]}function splitNames(e){return e?e.trim().split(rspace):[]}function removeAttr(e){const t=splitNames(e);for(const n of t)domEach(this,i=>{isTag(i)&&removeAttribute(i,n)});return this}function hasClass(e){return this.toArray().some(t=>{const n=isTag(t)&&t.attribs.class;let i=-1;if(n&&e.length>0)for(;(i=n.indexOf(e,i+1))>-1;){const a=i+e.length;if((i===0||rspace.test(n[i-1]))&&(a===n.length||rspace.test(n[a])))return!0}return!1})}function addClass(e){if(typeof e=="function")return domEach(this,(i,a)=>{if(isTag(i)){const s=i.attribs.class||"";addClass.call([i],e.call(i,a,s))}});if(!e||typeof e!="string")return this;const t=e.split(rspace),n=this.length;for(let i=0;i<n;i++){const a=this[i];if(!isTag(a))continue;const s=getAttr(a,"class",!1);if(s){let o=` ${s} `;for(const l of t){const m=`${l} `;o.includes(` ${m}`)||(o+=m)}setAttr(a,"class",o.trim())}else setAttr(a,"class",t.join(" ").trim())}return this}function removeClass(e){if(typeof e=="function")return domEach(this,(a,s)=>{isTag(a)&&removeClass.call([a],e.call(a,s,a.attribs.class||""))});const t=splitNames(e),n=t.length,i=arguments.length===0;return domEach(this,a=>{if(isTag(a))if(i)a.attribs.class="";else{const s=splitNames(a.attribs.class);let o=!1;for(let l=0;l<n;l++){const m=s.indexOf(t[l]);m!==-1&&(s.splice(m,1),o=!0,l--)}o&&(a.attribs.class=s.join(" "))}})}function toggleClass(e,t){if(typeof e=="function")return domEach(this,(o,l)=>{isTag(o)&&toggleClass.call([o],e.call(o,l,o.attribs.class||"",t),t)});if(!e||typeof e!="string")return this;const n=e.split(rspace),i=n.length,a=typeof t=="boolean"?t?1:-1:0,s=this.length;for(let o=0;o<s;o++){const l=this[o];if(!isTag(l))continue;const m=splitNames(l.attribs.class);for(let _=0;_<i;_++){const A=m.indexOf(n[_]);a>=0&&A===-1?m.push(n[_]):a<=0&&A!==-1&&m.splice(A,1)}l.attribs.class=m.join(" ")}return this}const Attributes=Object.freeze(Object.defineProperty({__proto__:null,addClass,attr,data,hasClass,prop,removeAttr,removeClass,toggleClass,val},Symbol.toStringTag,{value:"Module"}));var SelectorType;(function(e){e.Attribute="attribute",e.Pseudo="pseudo",e.PseudoElement="pseudo-element",e.Tag="tag",e.Universal="universal",e.Adjacent="adjacent",e.Child="child",e.Descendant="descendant",e.Parent="parent",e.Sibling="sibling",e.ColumnCombinator="column-combinator"})(SelectorType||(SelectorType={}));var AttributeAction;(function(e){e.Any="any",e.Element="element",e.End="end",e.Equals="equals",e.Exists="exists",e.Hyphen="hyphen",e.Not="not",e.Start="start"})(AttributeAction||(AttributeAction={}));const reName=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,reEscape=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,actionTypes=new Map([[126,AttributeAction.Element],[94,AttributeAction.Start],[36,AttributeAction.End],[42,AttributeAction.Any],[33,AttributeAction.Not],[124,AttributeAction.Hyphen]]),unpackPseudos=new Set(["has","not","matches","is","where","host","host-context"]);function isTraversal$1(e){switch(e.type){case SelectorType.Adjacent:case SelectorType.Child:case SelectorType.Descendant:case SelectorType.Parent:case SelectorType.Sibling:case SelectorType.ColumnCombinator:return!0;default:return!1}}const stripQuotesFromPseudos=new Set(["contains","icontains"]);function funescape(e,t,n){const i=parseInt(t,16)-65536;return i!==i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)}function unescapeCSS(e){return e.replace(reEscape,funescape)}function isQuote(e){return e===39||e===34}function isWhitespace$1(e){return e===32||e===9||e===10||e===12||e===13}function parse$5(e){const t=[],n=parseSelector(t,`${e}`,0);if(n<e.length)throw new Error(`Unmatched selector: ${e.slice(n)}`);return t}function parseSelector(e,t,n){let i=[];function a(N){const I=t.slice(n+N).match(reName);if(!I)throw new Error(`Expected name, found ${t.slice(n)}`);const[k]=I;return n+=N+k.length,unescapeCSS(k)}function s(N){for(n+=N;n<t.length&&isWhitespace$1(t.charCodeAt(n));)n++}function o(){n+=1;const N=n;let I=1;for(;I>0&&n<t.length;n++)t.charCodeAt(n)===40&&!l(n)?I++:t.charCodeAt(n)===41&&!l(n)&&I--;if(I)throw new Error("Parenthesis not matched");return unescapeCSS(t.slice(N,n-1))}function l(N){let I=0;for(;t.charCodeAt(--N)===92;)I++;return(I&1)===1}function m(){if(i.length>0&&isTraversal$1(i[i.length-1]))throw new Error("Did not expect successive traversals.")}function _(N){if(i.length>0&&i[i.length-1].type===SelectorType.Descendant){i[i.length-1].type=N;return}m(),i.push({type:N})}function A(N,I){i.push({type:SelectorType.Attribute,name:N,action:I,value:a(1),namespace:null,ignoreCase:"quirks"})}function x(){if(i.length&&i[i.length-1].type===SelectorType.Descendant&&i.pop(),i.length===0)throw new Error("Empty sub-selector");e.push(i)}if(s(0),t.length===n)return n;e:for(;n<t.length;){const N=t.charCodeAt(n);switch(N){case 32:case 9:case 10:case 12:case 13:{(i.length===0||i[0].type!==SelectorType.Descendant)&&(m(),i.push({type:SelectorType.Descendant})),s(1);break}case 62:{_(SelectorType.Child),s(1);break}case 60:{_(SelectorType.Parent),s(1);break}case 126:{_(SelectorType.Sibling),s(1);break}case 43:{_(SelectorType.Adjacent),s(1);break}case 46:{A("class",AttributeAction.Element);break}case 35:{A("id",AttributeAction.Equals);break}case 91:{s(1);let I,k=null;t.charCodeAt(n)===124?I=a(1):t.startsWith("*|",n)?(k="*",I=a(2)):(I=a(0),t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==61&&(k=I,I=a(1))),s(0);let R=AttributeAction.Exists;const M=actionTypes.get(t.charCodeAt(n));if(M){if(R=M,t.charCodeAt(n+1)!==61)throw new Error("Expected `=`");s(2)}else t.charCodeAt(n)===61&&(R=AttributeAction.Equals,s(1));let L="",B=null;if(R!=="exists"){if(isQuote(t.charCodeAt(n))){const Y=t.charCodeAt(n);let ae=n+1;for(;ae<t.length&&(t.charCodeAt(ae)!==Y||l(ae));)ae+=1;if(t.charCodeAt(ae)!==Y)throw new Error("Attribute value didn't end");L=unescapeCSS(t.slice(n+1,ae)),n=ae+1}else{const Y=n;for(;n<t.length&&(!isWhitespace$1(t.charCodeAt(n))&&t.charCodeAt(n)!==93||l(n));)n+=1;L=unescapeCSS(t.slice(Y,n))}s(0);const V=t.charCodeAt(n)|32;V===115?(B=!1,s(1)):V===105&&(B=!0,s(1))}if(t.charCodeAt(n)!==93)throw new Error("Attribute selector didn't terminate");n+=1;const H={type:SelectorType.Attribute,name:I,action:R,value:L,namespace:k,ignoreCase:B};i.push(H);break}case 58:{if(t.charCodeAt(n+1)===58){i.push({type:SelectorType.PseudoElement,name:a(2).toLowerCase(),data:t.charCodeAt(n)===40?o():null});continue}const I=a(1).toLowerCase();let k=null;if(t.charCodeAt(n)===40)if(unpackPseudos.has(I)){if(isQuote(t.charCodeAt(n+1)))throw new Error(`Pseudo-selector ${I} cannot be quoted`);if(k=[],n=parseSelector(k,t,n+1),t.charCodeAt(n)!==41)throw new Error(`Missing closing parenthesis in :${I} (${t})`);n+=1}else{if(k=o(),stripQuotesFromPseudos.has(I)){const R=k.charCodeAt(0);R===k.charCodeAt(k.length-1)&&isQuote(R)&&(k=k.slice(1,-1))}k=unescapeCSS(k)}i.push({type:SelectorType.Pseudo,name:I,data:k});break}case 44:{x(),i=[],s(1);break}default:{if(t.startsWith("/*",n)){const R=t.indexOf("*/",n+2);if(R<0)throw new Error("Comment was not terminated");n=R+2,i.length===0&&s(0);break}let I=null,k;if(N===42)n+=1,k="*";else if(N===124){if(k="",t.charCodeAt(n+1)===124){_(SelectorType.ColumnCombinator),s(2);break}}else if(reName.test(t.slice(n)))k=a(0);else break e;t.charCodeAt(n)===124&&t.charCodeAt(n+1)!==124&&(I=k,t.charCodeAt(n+1)===42?(k="*",n+=2):k=a(1)),i.push(k==="*"?{type:SelectorType.Universal,namespace:I}:{type:SelectorType.Tag,name:k,namespace:I})}}}return x(),n}var boolbase$1,hasRequiredBoolbase;function requireBoolbase(){return hasRequiredBoolbase||(hasRequiredBoolbase=1,boolbase$1={trueFunc:function(){return!0},falseFunc:function(){return!1}}),boolbase$1}var boolbaseExports=requireBoolbase();const boolbase=getDefaultExportFromCjs(boolbaseExports),procedure=new Map([[SelectorType.Universal,50],[SelectorType.Tag,30],[SelectorType.Attribute,1],[SelectorType.Pseudo,0]]);function isTraversal(e){return!procedure.has(e.type)}const attributes=new Map([[AttributeAction.Exists,10],[AttributeAction.Equals,8],[AttributeAction.Not,7],[AttributeAction.Start,6],[AttributeAction.End,6],[AttributeAction.Any,5]]);function sortByProcedure(e){const t=e.map(getProcedure);for(let n=1;n<e.length;n++){const i=t[n];if(!(i<0))for(let a=n-1;a>=0&&i<t[a];a--){const s=e[a+1];e[a+1]=e[a],e[a]=s,t[a+1]=t[a],t[a]=i}}}function getProcedure(e){var t,n;let i=(t=procedure.get(e.type))!==null&&t!==void 0?t:-1;return e.type===SelectorType.Attribute?(i=(n=attributes.get(e.action))!==null&&n!==void 0?n:4,e.action===AttributeAction.Equals&&e.name==="id"&&(i=9),e.ignoreCase&&(i>>=1)):e.type===SelectorType.Pseudo&&(e.data?e.name==="has"||e.name==="contains"?i=0:Array.isArray(e.data)?(i=Math.min(...e.data.map(a=>Math.min(...a.map(getProcedure)))),i<0&&(i=0)):i=2:i=3),i}const reChars=/[-[\]{}()*+?.,\\^$|#\s]/g;function escapeRegex(e){return e.replace(reChars,"\\$&")}const caseInsensitiveAttributes=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function shouldIgnoreCase(e,t){return typeof e.ignoreCase=="boolean"?e.ignoreCase:e.ignoreCase==="quirks"?!!t.quirksMode:!t.xmlMode&&caseInsensitiveAttributes.has(e.name)}const attributeRules={equals(e,t,n){const{adapter:i}=n,{name:a}=t;let{value:s}=t;return shouldIgnoreCase(t,n)?(s=s.toLowerCase(),o=>{const l=i.getAttributeValue(o,a);return l!=null&&l.length===s.length&&l.toLowerCase()===s&&e(o)}):o=>i.getAttributeValue(o,a)===s&&e(o)},hyphen(e,t,n){const{adapter:i}=n,{name:a}=t;let{value:s}=t;const o=s.length;return shouldIgnoreCase(t,n)?(s=s.toLowerCase(),function(m){const _=i.getAttributeValue(m,a);return _!=null&&(_.length===o||_.charAt(o)==="-")&&_.substr(0,o).toLowerCase()===s&&e(m)}):function(m){const _=i.getAttributeValue(m,a);return _!=null&&(_.length===o||_.charAt(o)==="-")&&_.substr(0,o)===s&&e(m)}},element(e,t,n){const{adapter:i}=n,{name:a,value:s}=t;if(/\s/.test(s))return boolbase.falseFunc;const o=new RegExp(`(?:^|\\s)${escapeRegex(s)}(?:$|\\s)`,shouldIgnoreCase(t,n)?"i":"");return function(m){const _=i.getAttributeValue(m,a);return _!=null&&_.length>=s.length&&o.test(_)&&e(m)}},exists(e,{name:t},{adapter:n}){return i=>n.hasAttrib(i,t)&&e(i)},start(e,t,n){const{adapter:i}=n,{name:a}=t;let{value:s}=t;const o=s.length;return o===0?boolbase.falseFunc:shouldIgnoreCase(t,n)?(s=s.toLowerCase(),l=>{const m=i.getAttributeValue(l,a);return m!=null&&m.length>=o&&m.substr(0,o).toLowerCase()===s&&e(l)}):l=>{var m;return!!(!((m=i.getAttributeValue(l,a))===null||m===void 0)&&m.startsWith(s))&&e(l)}},end(e,t,n){const{adapter:i}=n,{name:a}=t;let{value:s}=t;const o=-s.length;return o===0?boolbase.falseFunc:shouldIgnoreCase(t,n)?(s=s.toLowerCase(),l=>{var m;return((m=i.getAttributeValue(l,a))===null||m===void 0?void 0:m.substr(o).toLowerCase())===s&&e(l)}):l=>{var m;return!!(!((m=i.getAttributeValue(l,a))===null||m===void 0)&&m.endsWith(s))&&e(l)}},any(e,t,n){const{adapter:i}=n,{name:a,value:s}=t;if(s==="")return boolbase.falseFunc;if(shouldIgnoreCase(t,n)){const o=new RegExp(escapeRegex(s),"i");return function(m){const _=i.getAttributeValue(m,a);return _!=null&&_.length>=s.length&&o.test(_)&&e(m)}}return o=>{var l;return!!(!((l=i.getAttributeValue(o,a))===null||l===void 0)&&l.includes(s))&&e(o)}},not(e,t,n){const{adapter:i}=n,{name:a}=t;let{value:s}=t;return s===""?o=>!!i.getAttributeValue(o,a)&&e(o):shouldIgnoreCase(t,n)?(s=s.toLowerCase(),o=>{const l=i.getAttributeValue(o,a);return(l==null||l.length!==s.length||l.toLowerCase()!==s)&&e(o)}):o=>i.getAttributeValue(o,a)!==s&&e(o)}},whitespace=new Set([9,10,12,13,32]),ZERO=48,NINE=57;function parse$4(e){if(e=e.trim().toLowerCase(),e==="even")return[2,0];if(e==="odd")return[2,1];let t=0,n=0,i=s(),a=o();if(t<e.length&&e.charAt(t)==="n"&&(t++,n=i*(a??1),l(),t<e.length?(i=s(),l(),a=o()):i=a=0),a===null||t<e.length)throw new Error(`n-th rule couldn't be parsed ('${e}')`);return[n,i*a];function s(){return e.charAt(t)==="-"?(t++,-1):(e.charAt(t)==="+"&&t++,1)}function o(){const m=t;let _=0;for(;t<e.length&&e.charCodeAt(t)>=ZERO&&e.charCodeAt(t)<=NINE;)_=_*10+(e.charCodeAt(t)-ZERO),t++;return t===m?null:_}function l(){for(;t<e.length&&whitespace.has(e.charCodeAt(t));)t++}}function compile(e){const t=e[0],n=e[1]-1;if(n<0&&t<=0)return boolbase.falseFunc;if(t===-1)return s=>s<=n;if(t===0)return s=>s===n;if(t===1)return n<0?boolbase.trueFunc:s=>s>=n;const i=Math.abs(t),a=(n%i+i)%i;return t>1?s=>s>=n&&s%i===a:s=>s<=n&&s%i===a}function nthCheck(e){return compile(parse$4(e))}function getChildFunc(e,t){return n=>{const i=t.getParent(n);return i!=null&&t.isTag(i)&&e(n)}}const filters={contains(e,t,{adapter:n}){return function(a){return e(a)&&n.getText(a).includes(t)}},icontains(e,t,{adapter:n}){const i=t.toLowerCase();return function(s){return e(s)&&n.getText(s).toLowerCase().includes(i)}},"nth-child"(e,t,{adapter:n,equals:i}){const a=nthCheck(t);return a===boolbase.falseFunc?boolbase.falseFunc:a===boolbase.trueFunc?getChildFunc(e,n):function(o){const l=n.getSiblings(o);let m=0;for(let _=0;_<l.length&&!i(o,l[_]);_++)n.isTag(l[_])&&m++;return a(m)&&e(o)}},"nth-last-child"(e,t,{adapter:n,equals:i}){const a=nthCheck(t);return a===boolbase.falseFunc?boolbase.falseFunc:a===boolbase.trueFunc?getChildFunc(e,n):function(o){const l=n.getSiblings(o);let m=0;for(let _=l.length-1;_>=0&&!i(o,l[_]);_--)n.isTag(l[_])&&m++;return a(m)&&e(o)}},"nth-of-type"(e,t,{adapter:n,equals:i}){const a=nthCheck(t);return a===boolbase.falseFunc?boolbase.falseFunc:a===boolbase.trueFunc?getChildFunc(e,n):function(o){const l=n.getSiblings(o);let m=0;for(let _=0;_<l.length;_++){const A=l[_];if(i(o,A))break;n.isTag(A)&&n.getName(A)===n.getName(o)&&m++}return a(m)&&e(o)}},"nth-last-of-type"(e,t,{adapter:n,equals:i}){const a=nthCheck(t);return a===boolbase.falseFunc?boolbase.falseFunc:a===boolbase.trueFunc?getChildFunc(e,n):function(o){const l=n.getSiblings(o);let m=0;for(let _=l.length-1;_>=0;_--){const A=l[_];if(i(o,A))break;n.isTag(A)&&n.getName(A)===n.getName(o)&&m++}return a(m)&&e(o)}},root(e,t,{adapter:n}){return i=>{const a=n.getParent(i);return(a==null||!n.isTag(a))&&e(i)}},scope(e,t,n,i){const{equals:a}=n;return!i||i.length===0?filters.root(e,t,n):i.length===1?s=>a(i[0],s)&&e(s):s=>i.includes(s)&&e(s)},hover:dynamicStatePseudo("isHovered"),visited:dynamicStatePseudo("isVisited"),active:dynamicStatePseudo("isActive")};function dynamicStatePseudo(e){return function(n,i,{adapter:a}){const s=a[e];return typeof s!="function"?boolbase.falseFunc:function(l){return s(l)&&n(l)}}}const pseudos={empty(e,{adapter:t}){return!t.getChildren(e).some(n=>t.isTag(n)||t.getText(n)!=="")},"first-child"(e,{adapter:t,equals:n}){if(t.prevElementSibling)return t.prevElementSibling(e)==null;const i=t.getSiblings(e).find(a=>t.isTag(a));return i!=null&&n(e,i)},"last-child"(e,{adapter:t,equals:n}){const i=t.getSiblings(e);for(let a=i.length-1;a>=0;a--){if(n(e,i[a]))return!0;if(t.isTag(i[a]))break}return!1},"first-of-type"(e,{adapter:t,equals:n}){const i=t.getSiblings(e),a=t.getName(e);for(let s=0;s<i.length;s++){const o=i[s];if(n(e,o))return!0;if(t.isTag(o)&&t.getName(o)===a)break}return!1},"last-of-type"(e,{adapter:t,equals:n}){const i=t.getSiblings(e),a=t.getName(e);for(let s=i.length-1;s>=0;s--){const o=i[s];if(n(e,o))return!0;if(t.isTag(o)&&t.getName(o)===a)break}return!1},"only-of-type"(e,{adapter:t,equals:n}){const i=t.getName(e);return t.getSiblings(e).every(a=>n(e,a)||!t.isTag(a)||t.getName(a)!==i)},"only-child"(e,{adapter:t,equals:n}){return t.getSiblings(e).every(i=>n(e,i)||!t.isTag(i))}};function verifyPseudoArgs(e,t,n,i){if(n===null){if(e.length>i)throw new Error(`Pseudo-class :${t} requires an argument`)}else if(e.length===i)throw new Error(`Pseudo-class :${t} doesn't have any arguments`)}const aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:`:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"},PLACEHOLDER_ELEMENT={};function ensureIsTag(e,t){return e===boolbase.falseFunc?boolbase.falseFunc:n=>t.isTag(n)&&e(n)}function getNextSiblings(e,t){const n=t.getSiblings(e);if(n.length<=1)return[];const i=n.indexOf(e);return i<0||i===n.length-1?[]:n.slice(i+1).filter(t.isTag)}function copyOptions(e){return{xmlMode:!!e.xmlMode,lowerCaseAttributeNames:!!e.lowerCaseAttributeNames,lowerCaseTags:!!e.lowerCaseTags,quirksMode:!!e.quirksMode,cacheResults:!!e.cacheResults,pseudos:e.pseudos,adapter:e.adapter,equals:e.equals}}const is$3=(e,t,n,i,a)=>{const s=a(t,copyOptions(n),i);return s===boolbase.trueFunc?e:s===boolbase.falseFunc?boolbase.falseFunc:o=>s(o)&&e(o)},subselects={is:is$3,matches:is$3,where:is$3,not(e,t,n,i,a){const s=a(t,copyOptions(n),i);return s===boolbase.falseFunc?e:s===boolbase.trueFunc?boolbase.falseFunc:o=>!s(o)&&e(o)},has(e,t,n,i,a){const{adapter:s}=n,o=copyOptions(n);o.relativeSelector=!0;const l=t.some(A=>A.some(isTraversal))?[PLACEHOLDER_ELEMENT]:void 0,m=a(t,o,l);if(m===boolbase.falseFunc)return boolbase.falseFunc;const _=ensureIsTag(m,s);if(l&&m!==boolbase.trueFunc){const{shouldTestNextSiblings:A=!1}=m;return x=>{if(!e(x))return!1;l[0]=x;const N=s.getChildren(x),I=A?[...N,...getNextSiblings(x,s)]:N;return s.existsOne(_,I)}}return A=>e(A)&&s.existsOne(_,s.getChildren(A))}};function compilePseudoSelector(e,t,n,i,a){var s;const{name:o,data:l}=t;if(Array.isArray(l)){if(!(o in subselects))throw new Error(`Unknown pseudo-class :${o}(${l})`);return subselects[o](e,l,n,i,a)}const m=(s=n.pseudos)===null||s===void 0?void 0:s[o],_=typeof m=="string"?m:aliases[o];if(typeof _=="string"){if(l!=null)throw new Error(`Pseudo ${o} doesn't have any arguments`);const A=parse$5(_);return subselects.is(e,A,n,i,a)}if(typeof m=="function")return verifyPseudoArgs(m,o,l,1),A=>m(A,l)&&e(A);if(o in filters)return filters[o](e,l,n,i);if(o in pseudos){const A=pseudos[o];return verifyPseudoArgs(A,o,l,2),x=>A(x,n,l)&&e(x)}throw new Error(`Unknown pseudo-class :${o}`)}function getElementParent(e,t){const n=t.getParent(e);return n&&t.isTag(n)?n:null}function compileGeneralSelector(e,t,n,i,a){const{adapter:s,equals:o}=n;switch(t.type){case SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case SelectorType.Attribute:{if(t.namespace!=null)throw new Error("Namespaced attributes are not yet supported by css-select");return(!n.xmlMode||n.lowerCaseAttributeNames)&&(t.name=t.name.toLowerCase()),attributeRules[t.action](e,t,n)}case SelectorType.Pseudo:return compilePseudoSelector(e,t,n,i,a);case SelectorType.Tag:{if(t.namespace!=null)throw new Error("Namespaced tag names are not yet supported by css-select");let{name:l}=t;return(!n.xmlMode||n.lowerCaseTags)&&(l=l.toLowerCase()),function(_){return s.getName(_)===l&&e(_)}}case SelectorType.Descendant:{if(n.cacheResults===!1||typeof WeakSet>"u")return function(_){let A=_;for(;A=getElementParent(A,s);)if(e(A))return!0;return!1};const l=new WeakSet;return function(_){let A=_;for(;A=getElementParent(A,s);)if(!l.has(A)){if(s.isTag(A)&&e(A))return!0;l.add(A)}return!1}}case"_flexibleDescendant":return function(m){let _=m;do if(e(_))return!0;while(_=getElementParent(_,s));return!1};case SelectorType.Parent:return function(m){return s.getChildren(m).some(_=>s.isTag(_)&&e(_))};case SelectorType.Child:return function(m){const _=s.getParent(m);return _!=null&&s.isTag(_)&&e(_)};case SelectorType.Sibling:return function(m){const _=s.getSiblings(m);for(let A=0;A<_.length;A++){const x=_[A];if(o(m,x))break;if(s.isTag(x)&&e(x))return!0}return!1};case SelectorType.Adjacent:return s.prevElementSibling?function(m){const _=s.prevElementSibling(m);return _!=null&&e(_)}:function(m){const _=s.getSiblings(m);let A;for(let x=0;x<_.length;x++){const N=_[x];if(o(m,N))break;s.isTag(N)&&(A=N)}return!!A&&e(A)};case SelectorType.Universal:{if(t.namespace!=null&&t.namespace!=="*")throw new Error("Namespaced universal selectors are not yet supported by css-select");return e}}}function includesScopePseudo(e){return e.type===SelectorType.Pseudo&&(e.name==="scope"||Array.isArray(e.data)&&e.data.some(t=>t.some(includesScopePseudo)))}const DESCENDANT_TOKEN={type:SelectorType.Descendant},FLEXIBLE_DESCENDANT_TOKEN={type:"_flexibleDescendant"},SCOPE_TOKEN={type:SelectorType.Pseudo,name:"scope",data:null};function absolutize(e,{adapter:t},n){const i=!!n?.every(a=>{const s=t.isTag(a)&&t.getParent(a);return a===PLACEHOLDER_ELEMENT||s&&t.isTag(s)});for(const a of e){if(!(a.length>0&&isTraversal(a[0])&&a[0].type!==SelectorType.Descendant))if(i&&!a.some(includesScopePseudo))a.unshift(DESCENDANT_TOKEN);else continue;a.unshift(SCOPE_TOKEN)}}function compileToken(e,t,n){var i;e.forEach(sortByProcedure),n=(i=t.context)!==null&&i!==void 0?i:n;const a=Array.isArray(n),s=n&&(Array.isArray(n)?n:[n]);if(t.relativeSelector!==!1)absolutize(e,t,s);else if(e.some(m=>m.length>0&&isTraversal(m[0])))throw new Error("Relative selectors are not allowed when the `relativeSelector` option is disabled");let o=!1;const l=e.map(m=>{if(m.length>=2){const[_,A]=m;_.type!==SelectorType.Pseudo||_.name!=="scope"||(a&&A.type===SelectorType.Descendant?m[1]=FLEXIBLE_DESCENDANT_TOKEN:(A.type===SelectorType.Adjacent||A.type===SelectorType.Sibling)&&(o=!0))}return compileRules(m,t,s)}).reduce(reduceRules,boolbase.falseFunc);return l.shouldTestNextSiblings=o,l}function compileRules(e,t,n){var i;return e.reduce((a,s)=>a===boolbase.falseFunc?boolbase.falseFunc:compileGeneralSelector(a,s,t,n,compileToken),(i=t.rootFunc)!==null&&i!==void 0?i:boolbase.trueFunc)}function reduceRules(e,t){return t===boolbase.falseFunc||e===boolbase.trueFunc?e:e===boolbase.falseFunc||t===boolbase.trueFunc?t:function(i){return e(i)||t(i)}}const defaultEquals=(e,t)=>e===t,defaultOptions={adapter:DomUtils,equals:defaultEquals};function convertOptionFormats(e){var t,n,i,a;const s=e??defaultOptions;return(t=s.adapter)!==null&&t!==void 0||(s.adapter=DomUtils),(n=s.equals)!==null&&n!==void 0||(s.equals=(a=(i=s.adapter)===null||i===void 0?void 0:i.equals)!==null&&a!==void 0?a:defaultEquals),s}function wrapCompile(e){return function(n,i,a){const s=convertOptionFormats(i);return e(n,s,a)}}const _compileToken=wrapCompile(compileToken);function prepareContext(e,t,n=!1){return n&&(e=appendNextSiblings(e,t)),Array.isArray(e)?t.removeSubsets(e):t.getChildren(e)}function appendNextSiblings(e,t){const n=Array.isArray(e)?e.slice(0):[e],i=n.length;for(let a=0;a<i;a++){const s=getNextSiblings(n[a],t);n.push(...s)}return n}const filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]);function isFilter(e){return e.type!=="pseudo"?!1:filterNames.has(e.name)?!0:e.name==="not"&&Array.isArray(e.data)?e.data.some(t=>t.some(isFilter)):!1}function getLimit(e,t,n){const i=t!=null?parseInt(t,10):NaN;switch(e){case"first":return 1;case"nth":case"eq":return isFinite(i)?i>=0?i+1:1/0:0;case"lt":return isFinite(i)?i>=0?Math.min(i,n):1/0:0;case"gt":return isFinite(i)?1/0:0;case"odd":return 2*n;case"even":return 2*n-1;case"last":case"not":return 1/0}}function getDocumentRoot(e){for(;e.parent;)e=e.parent;return e}function groupSelectors(e){const t=[],n=[];for(const i of e)i.some(isFilter)?t.push(i):n.push(i);return[n,t]}const UNIVERSAL_SELECTOR={type:SelectorType.Universal,namespace:null},SCOPE_PSEUDO={type:SelectorType.Pseudo,name:"scope",data:null};function is$2(e,t,n={}){return some([e],t,n)}function some(e,t,n={}){if(typeof t=="function")return e.some(t);const[i,a]=groupSelectors(parse$5(t));return i.length>0&&e.some(_compileToken(i,n))||a.some(s=>filterBySelector(s,e,n).length>0)}function filterByPosition(e,t,n,i){const a=typeof n=="string"?parseInt(n,10):NaN;switch(e){case"first":case"lt":return t;case"last":return t.length>0?[t[t.length-1]]:t;case"nth":case"eq":return isFinite(a)&&Math.abs(a)<t.length?[a<0?t[t.length+a]:t[a]]:[];case"gt":return isFinite(a)?t.slice(a+1):[];case"even":return t.filter((s,o)=>o%2===0);case"odd":return t.filter((s,o)=>o%2===1);case"not":{const s=new Set(filterParsed(n,t,i));return t.filter(o=>!s.has(o))}}}function filter$1(e,t,n={}){return filterParsed(parse$5(e),t,n)}function filterParsed(e,t,n){if(t.length===0)return[];const[i,a]=groupSelectors(e);let s;if(i.length){const o=filterElements(t,i,n);if(a.length===0)return o;o.length&&(s=new Set(o))}for(let o=0;o<a.length&&s?.size!==t.length;o++){const l=a[o];if((s?t.filter(A=>isTag(A)&&!s.has(A)):t).length===0)break;const _=filterBySelector(l,t,n);if(_.length)if(s)_.forEach(A=>s.add(A));else{if(o===a.length-1)return _;s=new Set(_)}}return typeof s<"u"?s.size===t.length?t:t.filter(o=>s.has(o)):[]}function filterBySelector(e,t,n){var i;if(e.some(isTraversal$1)){const a=(i=n.root)!==null&&i!==void 0?i:getDocumentRoot(t[0]),s={...n,context:t,relativeSelector:!1};return e.push(SCOPE_PSEUDO),findFilterElements(a,e,s,!0,t.length)}return findFilterElements(t,e,n,!1,t.length)}function select(e,t,n={},i=1/0){if(typeof e=="function")return find$1(t,e);const[a,s]=groupSelectors(parse$5(e)),o=s.map(l=>findFilterElements(t,l,n,!0,i));return a.length&&o.push(findElements(t,a,n,i)),o.length===0?[]:o.length===1?o[0]:uniqueSort(o.reduce((l,m)=>[...l,...m]))}function findFilterElements(e,t,n,i,a){const s=t.findIndex(isFilter),o=t.slice(0,s),l=t[s],m=t.length-1===s?a:1/0,_=getLimit(l.name,l.data,m);if(_===0)return[];const x=(o.length===0&&!Array.isArray(e)?getChildren(e).filter(isTag):o.length===0?(Array.isArray(e)?e:[e]).filter(isTag):i||o.some(isTraversal$1)?findElements(e,[o],n,_):filterElements(e,[o],n)).slice(0,_);let N=filterByPosition(l.name,x,l.data,n);if(N.length===0||t.length===s+1)return N;const I=t.slice(s+1),k=I.some(isTraversal$1);if(k){if(isTraversal$1(I[0])){const{type:R}=I[0];(R===SelectorType.Sibling||R===SelectorType.Adjacent)&&(N=prepareContext(N,DomUtils,!0)),I.unshift(UNIVERSAL_SELECTOR)}n={...n,relativeSelector:!1,rootFunc:R=>N.includes(R)}}else n.rootFunc&&n.rootFunc!==boolbaseExports.trueFunc&&(n={...n,rootFunc:boolbaseExports.trueFunc});return I.some(isFilter)?findFilterElements(N,I,n,!1,a):k?findElements(N,[I],n,a):filterElements(N,[I],n)}function findElements(e,t,n,i){const a=_compileToken(t,n,e);return find$1(e,a,i)}function find$1(e,t,n=1/0){const i=prepareContext(e,DomUtils,t.shouldTestNextSiblings);return find$2(a=>isTag(a)&&t(a),i,!0,n)}function filterElements(e,t,n){const i=(Array.isArray(e)?e:[e]).filter(isTag);if(i.length===0)return i;const a=_compileToken(t,n);return a===boolbaseExports.trueFunc?i:i.filter(a)}const reSiblingSelector=/^\s*[+~]/;function find(e){if(!e)return this._make([]);if(typeof e!="string"){const t=isCheerio(e)?e.toArray():[e],n=this.toArray();return this._make(t.filter(i=>n.some(a=>contains(a,i))))}return this._findBySelector(e,Number.POSITIVE_INFINITY)}function _findBySelector(e,t){var n;const i=this.toArray(),a=reSiblingSelector.test(e)?i:this.children().toArray(),s={context:i,root:(n=this._root)===null||n===void 0?void 0:n[0],xmlMode:this.options.xmlMode,lowerCaseTags:this.options.lowerCaseTags,lowerCaseAttributeNames:this.options.lowerCaseAttributeNames,pseudos:this.options.pseudos,quirksMode:this.options.quirksMode};return this._make(select(e,a,s,t))}function _getMatcher(e){return function(t,...n){return function(i){var a;let s=e(t,this);return i&&(s=filterArray(s,i,this.options.xmlMode,(a=this._root)===null||a===void 0?void 0:a[0])),this._make(this.length>1&&s.length>1?n.reduce((o,l)=>l(o),s):s)}}}const _matcher=_getMatcher((e,t)=>{let n=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a.length>0&&(n=n.concat(a))}return n}),_singleMatcher=_getMatcher((e,t)=>{const n=[];for(let i=0;i<t.length;i++){const a=e(t[i]);a!==null&&n.push(a)}return n});function _matchUntil(e,...t){let n=null;const i=_getMatcher((a,s)=>{const o=[];return domEach(s,l=>{for(let m;(m=a(l))&&!n?.(m,o.length);l=m)o.push(m)}),o})(e,...t);return function(a,s){n=typeof a=="string"?l=>is$2(l,a,this.options):a?getFilterFn(a):null;const o=i.call(this,s);return n=null,o}}function _removeDuplicates(e){return e.length>1?Array.from(new Set(e)):e}const parent=_singleMatcher(({parent:e})=>e&&!isDocument(e)?e:null,_removeDuplicates),parents=_matcher(e=>{const t=[];for(;e.parent&&!isDocument(e.parent);)t.push(e.parent),e=e.parent;return t},uniqueSort,e=>e.reverse()),parentsUntil=_matchUntil(({parent:e})=>e&&!isDocument(e)?e:null,uniqueSort,e=>e.reverse());function closest(e){var t;const n=[];if(!e)return this._make(n);const i={xmlMode:this.options.xmlMode,root:(t=this._root)===null||t===void 0?void 0:t[0]},a=typeof e=="string"?s=>is$2(s,e,i):getFilterFn(e);return domEach(this,s=>{for(s&&!isDocument(s)&&!isTag(s)&&(s=s.parent);s&&isTag(s);){if(a(s,0)){n.includes(s)||n.push(s);break}s=s.parent}}),this._make(n)}const next$1=_singleMatcher(e=>nextElementSibling(e)),nextAll=_matcher(e=>{const t=[];for(;e.next;)e=e.next,isTag(e)&&t.push(e);return t},_removeDuplicates),nextUntil=_matchUntil(e=>nextElementSibling(e),_removeDuplicates),prev=_singleMatcher(e=>prevElementSibling(e)),prevAll=_matcher(e=>{const t=[];for(;e.prev;)e=e.prev,isTag(e)&&t.push(e);return t},_removeDuplicates),prevUntil=_matchUntil(e=>prevElementSibling(e),_removeDuplicates),siblings=_matcher(e=>getSiblings(e).filter(t=>isTag(t)&&t!==e),uniqueSort),children=_matcher(e=>getChildren(e).filter(isTag),_removeDuplicates);function contents(){const e=this.toArray().reduce((t,n)=>hasChildren(n)?t.concat(n.children):t,[]);return this._make(e)}function each(e){let t=0;const n=this.length;for(;t<n&&e.call(this[t],t,this[t])!==!1;)++t;return this}function map$1(e){let t=[];for(let n=0;n<this.length;n++){const i=this[n],a=e.call(i,n,i);a!=null&&(t=t.concat(a))}return this._make(t)}function getFilterFn(e){return typeof e=="function"?(t,n)=>e.call(t,n,t):isCheerio(e)?t=>Array.prototype.includes.call(e,t):function(t){return e===t}}function filter(e){var t;return this._make(filterArray(this.toArray(),e,this.options.xmlMode,(t=this._root)===null||t===void 0?void 0:t[0]))}function filterArray(e,t,n,i){return typeof t=="string"?filter$1(t,e,{xmlMode:n,root:i}):e.filter(getFilterFn(t))}function is$1(e){const t=this.toArray();return typeof e=="string"?some(t.filter(isTag),e,this.options):e?t.some(getFilterFn(e)):!1}function not(e){let t=this.toArray();if(typeof e=="string"){const n=new Set(filter$1(e,t,this.options));t=t.filter(i=>!n.has(i))}else{const n=getFilterFn(e);t=t.filter((i,a)=>!n(i,a))}return this._make(t)}function has$1(e){return this.filter(typeof e=="string"?`:has(${e})`:(t,n)=>this._make(n).find(e).length>0)}function first(){return this.length>1?this._make(this[0]):this}function last(){return this.length>0?this._make(this[this.length-1]):this}function eq(e){var t;return e=+e,e===0&&this.length<=1?this:(e<0&&(e=this.length+e),this._make((t=this[e])!==null&&t!==void 0?t:[]))}function get(e){return e==null?this.toArray():this[e<0?this.length+e:e]}function toArray(){return Array.prototype.slice.call(this)}function index(e){let t,n;return e==null?(t=this.parent().children(),n=this[0]):typeof e=="string"?(t=this._make(e),n=this[0]):(t=this,n=isCheerio(e)?e[0]:e),Array.prototype.indexOf.call(t,n)}function slice(e,t){return this._make(Array.prototype.slice.call(this,e,t))}function end(){var e;return(e=this.prevObject)!==null&&e!==void 0?e:this._make([])}function add(e,t){const n=this._make(e,t),i=uniqueSort([...this.get(),...n.get()]);return this._make(i)}function addBack(e){return this.prevObject?this.add(e?this.prevObject.filter(e):this.prevObject):this}const Traversing=Object.freeze(Object.defineProperty({__proto__:null,_findBySelector,add,addBack,children,closest,contents,each,end,eq,filter,filterArray,find,first,get,has:has$1,index,is:is$1,last,map:map$1,next:next$1,nextAll,nextUntil,not,parent,parents,parentsUntil,prev,prevAll,prevUntil,siblings,slice,toArray},Symbol.toStringTag,{value:"Module"}));function getParse(e){return function(n,i,a,s){if(typeof Buffer<"u"&&Buffer.isBuffer(n)&&(n=n.toString()),typeof n=="string")return e(n,i,a,s);const o=n;if(!Array.isArray(o)&&isDocument(o))return o;const l=new Document([]);return update(o,l),l}}function update(e,t){const n=Array.isArray(e)?e:[e];t?t.children=n:t=null;for(let i=0;i<n.length;i++){const a=n[i];a.parent&&a.parent.children!==n&&removeElement(a),t?(a.prev=n[i-1]||null,a.next=n[i+1]||null):a.prev=a.next=null,a.parent=t}return t}function _makeDomArray(e,t){if(e==null)return[];if(typeof e=="string")return this._parse(e,this.options,!1,null).children.slice(0);if("length"in e){if(e.length===1)return this._makeDomArray(e[0],t);const n=[];for(let i=0;i<e.length;i++){const a=e[i];if(typeof a=="object"){if(a==null)continue;if(!("length"in a)){n.push(t?cloneNode(a,!0):a);continue}}n.push(...this._makeDomArray(a,t))}return n}return[t?cloneNode(e,!0):e]}function _insert(e){return function(...t){const n=this.length-1;return domEach(this,(i,a)=>{if(!hasChildren(i))return;const s=typeof t[0]=="function"?t[0].call(i,a,this._render(i.children)):t,o=this._makeDomArray(s,a<n);e(o,i.children,i)})}}function uniqueSplice(e,t,n,i,a){var s,o;const l=[t,n,...i],m=t===0?null:e[t-1],_=t+n>=e.length?null:e[t+n];for(let A=0;A<i.length;++A){const x=i[A],N=x.parent;if(N){const k=N.children.indexOf(x);k!==-1&&(N.children.splice(k,1),a===N&&t>k&&l[0]--)}x.parent=a,x.prev&&(x.prev.next=(s=x.next)!==null&&s!==void 0?s:null),x.next&&(x.next.prev=(o=x.prev)!==null&&o!==void 0?o:null),x.prev=A===0?m:i[A-1],x.next=A===i.length-1?_:i[A+1]}return m&&(m.next=i[0]),_&&(_.prev=i[i.length-1]),e.splice(...l)}function appendTo(e){return(isCheerio(e)?e:this._make(e)).append(this),this}function prependTo(e){return(isCheerio(e)?e:this._make(e)).prepend(this),this}const append=_insert((e,t,n)=>{uniqueSplice(t,t.length,0,e,n)}),prepend=_insert((e,t,n)=>{uniqueSplice(t,0,0,e,n)});function _wrap(e){return function(t){const n=this.length-1,i=this.parents().last();for(let a=0;a<this.length;a++){const s=this[a],o=typeof t=="function"?t.call(s,a,s):typeof t=="string"&&!isHtml(t)?i.find(t).clone():t,[l]=this._makeDomArray(o,a<n);if(!l||!hasChildren(l))continue;let m=l,_=0;for(;_<m.children.length;){const A=m.children[_];isTag(A)?(m=A,_=0):_++}e(s,m,[l])}return this}}const wrap=_wrap((e,t,n)=>{const{parent:i}=e;if(!i)return;const a=i.children,s=a.indexOf(e);update([e],t),uniqueSplice(a,s,0,n,i)}),wrapInner=_wrap((e,t,n)=>{hasChildren(e)&&(update(e.children,t),update(n,e))});function unwrap(e){return this.parent(e).not("body").each((t,n)=>{this._make(n).replaceWith(n.children)}),this}function wrapAll(e){const t=this[0];if(t){const n=this._make(typeof e=="function"?e.call(t,0,t):e).insertBefore(t);let i;for(let s=0;s<n.length;s++)n[s].type===Tag&&(i=n[s]);let a=0;for(;i&&a<i.children.length;){const s=i.children[a];s.type===Tag?(i=s,a=0):a++}i&&this._make(i).append(this)}return this}function after(...e){const t=this.length-1;return domEach(this,(n,i)=>{if(!hasChildren(n)||!n.parent)return;const a=n.parent.children,s=a.indexOf(n);if(s===-1)return;const o=typeof e[0]=="function"?e[0].call(n,i,this._render(n.children)):e,l=this._makeDomArray(o,i<t);uniqueSplice(a,s+1,0,l,n.parent)})}function insertAfter(e){typeof e=="string"&&(e=this._make(e)),this.remove();const t=[];for(const n of this._makeDomArray(e)){const i=this.clone().toArray(),{parent:a}=n;if(!a)continue;const s=a.children,o=s.indexOf(n);o!==-1&&(uniqueSplice(s,o+1,0,i,a),t.push(...i))}return this._make(t)}function before(...e){const t=this.length-1;return domEach(this,(n,i)=>{if(!hasChildren(n)||!n.parent)return;const a=n.parent.children,s=a.indexOf(n);if(s===-1)return;const o=typeof e[0]=="function"?e[0].call(n,i,this._render(n.children)):e,l=this._makeDomArray(o,i<t);uniqueSplice(a,s,0,l,n.parent)})}function insertBefore(e){const t=this._make(e);this.remove();const n=[];return domEach(t,i=>{const a=this.clone().toArray(),{parent:s}=i;if(!s)return;const o=s.children,l=o.indexOf(i);l!==-1&&(uniqueSplice(o,l,0,a,s),n.push(...a))}),this._make(n)}function remove$1(e){const t=e?this.filter(e):this;return domEach(t,n=>{removeElement(n),n.prev=n.next=n.parent=null}),this}function replaceWith(e){return domEach(this,(t,n)=>{const{parent:i}=t;if(!i)return;const a=i.children,s=typeof e=="function"?e.call(t,n,t):e,o=this._makeDomArray(s);update(o,null);const l=a.indexOf(t);uniqueSplice(a,l,1,o,i),o.includes(t)||(t.parent=t.prev=t.next=null)})}function empty(){return domEach(this,e=>{if(hasChildren(e)){for(const t of e.children)t.next=t.prev=t.parent=null;e.children.length=0}})}function html$1(e){if(e===void 0){const t=this[0];return!t||!hasChildren(t)?null:this._render(t.children)}return domEach(this,t=>{if(!hasChildren(t))return;for(const i of t.children)i.next=i.prev=i.parent=null;const n=isCheerio(e)?e.toArray():this._parse(`${e}`,this.options,!1,t).children;update(n,t)})}function toString(){return this._render(this)}function text(e){return e===void 0?text$1(this):typeof e=="function"?domEach(this,(t,n)=>this._make(t).text(e.call(t,n,text$1([t])))):domEach(this,t=>{if(!hasChildren(t))return;for(const i of t.children)i.next=i.prev=i.parent=null;const n=new Text(`${e}`);update(n,t)})}function clone(){const e=Array.prototype.map.call(this.get(),n=>cloneNode(n,!0)),t=new Document(e);for(const n of e)n.parent=t;return this._make(e)}const Manipulation=Object.freeze(Object.defineProperty({__proto__:null,_makeDomArray,after,append,appendTo,before,clone,empty,html:html$1,insertAfter,insertBefore,prepend,prependTo,remove:remove$1,replaceWith,text,toString,unwrap,wrap,wrapAll,wrapInner},Symbol.toStringTag,{value:"Module"}));function css(e,t){if(e!=null&&t!=null||typeof e=="object"&&!Array.isArray(e))return domEach(this,(n,i)=>{isTag(n)&&setCss(n,e,t,i)});if(this.length!==0)return getCss(this[0],e)}function setCss(e,t,n,i){if(typeof t=="string"){const a=getCss(e),s=typeof n=="function"?n.call(e,i,a[t]):n;s===""?delete a[t]:s!=null&&(a[t]=s),e.attribs.style=stringify$1(a)}else if(typeof t=="object"){const a=Object.keys(t);for(let s=0;s<a.length;s++){const o=a[s];setCss(e,o,t[o],s)}}}function getCss(e,t){if(!e||!isTag(e))return;const n=parse$3(e.attribs.style);if(typeof t=="string")return n[t];if(Array.isArray(t)){const i={};for(const a of t)n[a]!=null&&(i[a]=n[a]);return i}return n}function stringify$1(e){return Object.keys(e).reduce((t,n)=>`${t}${t?" ":""}${n}: ${e[n]};`,"")}function parse$3(e){if(e=(e||"").trim(),!e)return{};const t={};let n;for(const i of e.split(";")){const a=i.indexOf(":");if(a<1||a===i.length-1){const s=i.trimEnd();s.length>0&&n!==void 0&&(t[n]+=`;${s}`)}else n=i.slice(0,a).trim(),t[n]=i.slice(a+1).trim()}return t}const Css=Object.freeze(Object.defineProperty({__proto__:null,css},Symbol.toStringTag,{value:"Module"})),submittableSelector="input,select,textarea,keygen",r20=/%20/g,rCRLF=/\r?\n/g;function serialize(){return this.serializeArray().map(n=>`${encodeURIComponent(n.name)}=${encodeURIComponent(n.value)}`).join("&").replace(r20,"+")}function serializeArray(){return this.map((e,t)=>{const n=this._make(t);return isTag(t)&&t.name==="form"?n.find(submittableSelector).toArray():n.filter(submittableSelector).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map((e,t)=>{var n;const i=this._make(t),a=i.attr("name"),s=(n=i.val())!==null&&n!==void 0?n:"";return Array.isArray(s)?s.map(o=>({name:a,value:o.replace(rCRLF,`\r
`)})):{name:a,value:s.replace(rCRLF,`\r
`)}}).toArray()}const Forms=Object.freeze(Object.defineProperty({__proto__:null,serialize,serializeArray},Symbol.toStringTag,{value:"Module"}));function getExtractDescr(e){var t;return typeof e=="string"?{selector:e,value:"textContent"}:{selector:e.selector,value:(t=e.value)!==null&&t!==void 0?t:"textContent"}}function extract(e){const t={};for(const n in e){const i=e[n],a=Array.isArray(i),{selector:s,value:o}=getExtractDescr(a?i[0]:i),l=typeof o=="function"?o:typeof o=="string"?m=>this._make(m).prop(o):m=>this._make(m).extract(o);if(a)t[n]=this._findBySelector(s,Number.POSITIVE_INFINITY).map((m,_)=>l(_,n,t)).get();else{const m=this._findBySelector(s,1);t[n]=m.length>0?l(m[0],n,t):void 0}}return t}const Extract=Object.freeze(Object.defineProperty({__proto__:null,extract},Symbol.toStringTag,{value:"Module"}));class Cheerio{constructor(t,n,i){if(this.length=0,this.options=i,this._root=n,t){for(let a=0;a<t.length;a++)this[a]=t[a];this.length=t.length}}}Cheerio.prototype.cheerio="[cheerio object]";Cheerio.prototype.splice=Array.prototype.splice;Cheerio.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator];Object.assign(Cheerio.prototype,Attributes,Traversing,Manipulation,Css,Forms,Extract);function getLoad(e,t){return function n(i,a,s=!0){if(i==null)throw new Error("cheerio.load() expects a string");const o=flattenOptions(a),l=e(i,o,s,null);class m extends Cheerio{_make(x,N){const I=_(x,N);return I.prevObject=this,I}_parse(x,N,I,k){return e(x,N,I,k)}_render(x){return t(x,this.options)}}function _(A,x,N=l,I){if(A&&isCheerio(A))return A;const k=flattenOptions(I,o),R=typeof N=="string"?[e(N,k,!1,null)]:"length"in N?N:[N],M=isCheerio(R)?R:new m(R,null,k);if(M._root=M,!A)return new m(void 0,M,k);const L=typeof A=="string"&&isHtml(A)?e(A,k,!1,null).children:isNode(A)?[A]:Array.isArray(A)?A:void 0,B=new m(L,M,k);if(L)return B;if(typeof A!="string")throw new TypeError("Unexpected type of selector");let H=A;const V=x?typeof x=="string"?isHtml(x)?new m([e(x,k,!1,null)],M,k):(H=`${x} ${H}`,M):isCheerio(x)?x:new m(Array.isArray(x)?x:[x],M,k):M;return V?V.find(H):B}return Object.assign(_,staticMethods,{load:n,_root:l,_options:o,fn:m.prototype,prototype:m.prototype}),_}}function isNode(e){return!!e.name||e.type===Root||e.type===Text$1||e.type===Comment$1}const UNDEFINED_CODE_POINTS=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),REPLACEMENT_CHARACTER="";var CODE_POINTS;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(CODE_POINTS||(CODE_POINTS={}));const SEQUENCES={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function isSurrogate(e){return e>=55296&&e<=57343}function isSurrogatePair(e){return e>=56320&&e<=57343}function getSurrogatePairCodePoint(e,t){return(e-55296)*1024+9216+t}function isControlCodePoint(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function isUndefinedCodePoint(e){return e>=64976&&e<=65007||UNDEFINED_CODE_POINTS.has(e)}var ERR;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(ERR||(ERR={}));const DEFAULT_BUFFER_WATERLINE=65536;class Preprocessor{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=DEFAULT_BUFFER_WATERLINE,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:i,col:a,offset:s}=this,o=a+n,l=s+n;return{code:t,startLine:i,endLine:i,startCol:o,endCol:o,startOffset:l,endOffset:l}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(isSurrogatePair(n))return this.pos++,this._addGap(),getSurrogatePairCodePoint(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,CODE_POINTS.EOF;return this._err(ERR.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let i=0;i<t.length;i++)if((this.html.charCodeAt(this.pos+i)|32)!==t.charCodeAt(i))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;const i=this.html.charCodeAt(n);return i===CODE_POINTS.CARRIAGE_RETURN?CODE_POINTS.LINE_FEED:i}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,CODE_POINTS.EOF;let t=this.html.charCodeAt(this.pos);return t===CODE_POINTS.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,CODE_POINTS.LINE_FEED):t===CODE_POINTS.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,isSurrogate(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===CODE_POINTS.LINE_FEED||t===CODE_POINTS.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){isControlCodePoint(t)?this._err(ERR.controlCharacterInInputStream):isUndefinedCodePoint(t)&&this._err(ERR.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var TokenType;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(TokenType||(TokenType={}));function getTokenAttr(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const htmlDecodeTree=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),decodeMap=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function replaceCodePoint(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=decodeMap.get(e))!==null&&t!==void 0?t:e}var CharCodes;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(CharCodes||(CharCodes={}));const TO_LOWER_BIT=32;var BinTrieFlags;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(BinTrieFlags||(BinTrieFlags={}));function isNumber(e){return e>=CharCodes.ZERO&&e<=CharCodes.NINE}function isHexadecimalCharacter(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_F||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_F}function isAsciiAlphaNumeric$1(e){return e>=CharCodes.UPPER_A&&e<=CharCodes.UPPER_Z||e>=CharCodes.LOWER_A&&e<=CharCodes.LOWER_Z||isNumber(e)}function isEntityInAttributeInvalidEnd(e){return e===CharCodes.EQUALS||isAsciiAlphaNumeric$1(e)}var EntityDecoderState;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(EntityDecoderState||(EntityDecoderState={}));var DecodingMode;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(DecodingMode||(DecodingMode={}));class EntityDecoder{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=EntityDecoderState.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=DecodingMode.Strict}startEntity(t){this.decodeMode=t,this.state=EntityDecoderState.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case EntityDecoderState.EntityStart:return t.charCodeAt(n)===CharCodes.NUM?(this.state=EntityDecoderState.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=EntityDecoderState.NamedEntity,this.stateNamedEntity(t,n));case EntityDecoderState.NumericStart:return this.stateNumericStart(t,n);case EntityDecoderState.NumericDecimal:return this.stateNumericDecimal(t,n);case EntityDecoderState.NumericHex:return this.stateNumericHex(t,n);case EntityDecoderState.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|TO_LOWER_BIT)===CharCodes.LOWER_X?(this.state=EntityDecoderState.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=EntityDecoderState.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,a){if(n!==i){const s=i-n;this.result=this.result*Math.pow(a,s)+Number.parseInt(t.substr(n,s),a),this.consumed+=s}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const a=t.charCodeAt(n);if(isNumber(a)||isHexadecimalCharacter(a))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const a=t.charCodeAt(n);if(isNumber(a))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===CharCodes.SEMI)this.consumed+=1;else if(this.decodeMode===DecodingMode.Strict)return 0;return this.emitCodePoint(replaceCodePoint(this.result),this.consumed),this.errors&&(t!==CharCodes.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let a=i[this.treeIndex],s=(a&BinTrieFlags.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const o=t.charCodeAt(n);if(this.treeIndex=determineBranch(i,a,this.treeIndex+Math.max(1,s),o),this.treeIndex<0)return this.result===0||this.decodeMode===DecodingMode.Attribute&&(s===0||isEntityInAttributeInvalidEnd(o))?0:this.emitNotTerminatedNamedEntity();if(a=i[this.treeIndex],s=(a&BinTrieFlags.VALUE_LENGTH)>>14,s!==0){if(o===CharCodes.SEMI)return this.emitNamedEntityData(this.treeIndex,s,this.consumed+this.excess);this.decodeMode!==DecodingMode.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,a=(i[n]&BinTrieFlags.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~BinTrieFlags.VALUE_LENGTH:a[t+1],i),n===3&&this.emitCodePoint(a[t+2],i),i}end(){var t;switch(this.state){case EntityDecoderState.NamedEntity:return this.result!==0&&(this.decodeMode!==DecodingMode.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case EntityDecoderState.NumericDecimal:return this.emitNumericEntity(0,2);case EntityDecoderState.NumericHex:return this.emitNumericEntity(0,3);case EntityDecoderState.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case EntityDecoderState.EntityStart:return 0}}}function determineBranch(e,t,n,i){const a=(t&BinTrieFlags.BRANCH_LENGTH)>>7,s=t&BinTrieFlags.JUMP_TABLE;if(a===0)return s!==0&&i===s?n:-1;if(s){const m=i-s;return m<0||m>=a?-1:e[n+m]-1}let o=n,l=o+a-1;for(;o<=l;){const m=o+l>>>1,_=e[m];if(_<i)o=m+1;else if(_>i)l=m-1;else return e[m+a]}return-1}var NS;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(NS||(NS={}));var ATTRS;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(ATTRS||(ATTRS={}));var DOCUMENT_MODE;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(DOCUMENT_MODE||(DOCUMENT_MODE={}));var TAG_NAMES;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(TAG_NAMES||(TAG_NAMES={}));var TAG_ID;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(TAG_ID||(TAG_ID={}));const TAG_NAME_TO_ID=new Map([[TAG_NAMES.A,TAG_ID.A],[TAG_NAMES.ADDRESS,TAG_ID.ADDRESS],[TAG_NAMES.ANNOTATION_XML,TAG_ID.ANNOTATION_XML],[TAG_NAMES.APPLET,TAG_ID.APPLET],[TAG_NAMES.AREA,TAG_ID.AREA],[TAG_NAMES.ARTICLE,TAG_ID.ARTICLE],[TAG_NAMES.ASIDE,TAG_ID.ASIDE],[TAG_NAMES.B,TAG_ID.B],[TAG_NAMES.BASE,TAG_ID.BASE],[TAG_NAMES.BASEFONT,TAG_ID.BASEFONT],[TAG_NAMES.BGSOUND,TAG_ID.BGSOUND],[TAG_NAMES.BIG,TAG_ID.BIG],[TAG_NAMES.BLOCKQUOTE,TAG_ID.BLOCKQUOTE],[TAG_NAMES.BODY,TAG_ID.BODY],[TAG_NAMES.BR,TAG_ID.BR],[TAG_NAMES.BUTTON,TAG_ID.BUTTON],[TAG_NAMES.CAPTION,TAG_ID.CAPTION],[TAG_NAMES.CENTER,TAG_ID.CENTER],[TAG_NAMES.CODE,TAG_ID.CODE],[TAG_NAMES.COL,TAG_ID.COL],[TAG_NAMES.COLGROUP,TAG_ID.COLGROUP],[TAG_NAMES.DD,TAG_ID.DD],[TAG_NAMES.DESC,TAG_ID.DESC],[TAG_NAMES.DETAILS,TAG_ID.DETAILS],[TAG_NAMES.DIALOG,TAG_ID.DIALOG],[TAG_NAMES.DIR,TAG_ID.DIR],[TAG_NAMES.DIV,TAG_ID.DIV],[TAG_NAMES.DL,TAG_ID.DL],[TAG_NAMES.DT,TAG_ID.DT],[TAG_NAMES.EM,TAG_ID.EM],[TAG_NAMES.EMBED,TAG_ID.EMBED],[TAG_NAMES.FIELDSET,TAG_ID.FIELDSET],[TAG_NAMES.FIGCAPTION,TAG_ID.FIGCAPTION],[TAG_NAMES.FIGURE,TAG_ID.FIGURE],[TAG_NAMES.FONT,TAG_ID.FONT],[TAG_NAMES.FOOTER,TAG_ID.FOOTER],[TAG_NAMES.FOREIGN_OBJECT,TAG_ID.FOREIGN_OBJECT],[TAG_NAMES.FORM,TAG_ID.FORM],[TAG_NAMES.FRAME,TAG_ID.FRAME],[TAG_NAMES.FRAMESET,TAG_ID.FRAMESET],[TAG_NAMES.H1,TAG_ID.H1],[TAG_NAMES.H2,TAG_ID.H2],[TAG_NAMES.H3,TAG_ID.H3],[TAG_NAMES.H4,TAG_ID.H4],[TAG_NAMES.H5,TAG_ID.H5],[TAG_NAMES.H6,TAG_ID.H6],[TAG_NAMES.HEAD,TAG_ID.HEAD],[TAG_NAMES.HEADER,TAG_ID.HEADER],[TAG_NAMES.HGROUP,TAG_ID.HGROUP],[TAG_NAMES.HR,TAG_ID.HR],[TAG_NAMES.HTML,TAG_ID.HTML],[TAG_NAMES.I,TAG_ID.I],[TAG_NAMES.IMG,TAG_ID.IMG],[TAG_NAMES.IMAGE,TAG_ID.IMAGE],[TAG_NAMES.INPUT,TAG_ID.INPUT],[TAG_NAMES.IFRAME,TAG_ID.IFRAME],[TAG_NAMES.KEYGEN,TAG_ID.KEYGEN],[TAG_NAMES.LABEL,TAG_ID.LABEL],[TAG_NAMES.LI,TAG_ID.LI],[TAG_NAMES.LINK,TAG_ID.LINK],[TAG_NAMES.LISTING,TAG_ID.LISTING],[TAG_NAMES.MAIN,TAG_ID.MAIN],[TAG_NAMES.MALIGNMARK,TAG_ID.MALIGNMARK],[TAG_NAMES.MARQUEE,TAG_ID.MARQUEE],[TAG_NAMES.MATH,TAG_ID.MATH],[TAG_NAMES.MENU,TAG_ID.MENU],[TAG_NAMES.META,TAG_ID.META],[TAG_NAMES.MGLYPH,TAG_ID.MGLYPH],[TAG_NAMES.MI,TAG_ID.MI],[TAG_NAMES.MO,TAG_ID.MO],[TAG_NAMES.MN,TAG_ID.MN],[TAG_NAMES.MS,TAG_ID.MS],[TAG_NAMES.MTEXT,TAG_ID.MTEXT],[TAG_NAMES.NAV,TAG_ID.NAV],[TAG_NAMES.NOBR,TAG_ID.NOBR],[TAG_NAMES.NOFRAMES,TAG_ID.NOFRAMES],[TAG_NAMES.NOEMBED,TAG_ID.NOEMBED],[TAG_NAMES.NOSCRIPT,TAG_ID.NOSCRIPT],[TAG_NAMES.OBJECT,TAG_ID.OBJECT],[TAG_NAMES.OL,TAG_ID.OL],[TAG_NAMES.OPTGROUP,TAG_ID.OPTGROUP],[TAG_NAMES.OPTION,TAG_ID.OPTION],[TAG_NAMES.P,TAG_ID.P],[TAG_NAMES.PARAM,TAG_ID.PARAM],[TAG_NAMES.PLAINTEXT,TAG_ID.PLAINTEXT],[TAG_NAMES.PRE,TAG_ID.PRE],[TAG_NAMES.RB,TAG_ID.RB],[TAG_NAMES.RP,TAG_ID.RP],[TAG_NAMES.RT,TAG_ID.RT],[TAG_NAMES.RTC,TAG_ID.RTC],[TAG_NAMES.RUBY,TAG_ID.RUBY],[TAG_NAMES.S,TAG_ID.S],[TAG_NAMES.SCRIPT,TAG_ID.SCRIPT],[TAG_NAMES.SEARCH,TAG_ID.SEARCH],[TAG_NAMES.SECTION,TAG_ID.SECTION],[TAG_NAMES.SELECT,TAG_ID.SELECT],[TAG_NAMES.SOURCE,TAG_ID.SOURCE],[TAG_NAMES.SMALL,TAG_ID.SMALL],[TAG_NAMES.SPAN,TAG_ID.SPAN],[TAG_NAMES.STRIKE,TAG_ID.STRIKE],[TAG_NAMES.STRONG,TAG_ID.STRONG],[TAG_NAMES.STYLE,TAG_ID.STYLE],[TAG_NAMES.SUB,TAG_ID.SUB],[TAG_NAMES.SUMMARY,TAG_ID.SUMMARY],[TAG_NAMES.SUP,TAG_ID.SUP],[TAG_NAMES.TABLE,TAG_ID.TABLE],[TAG_NAMES.TBODY,TAG_ID.TBODY],[TAG_NAMES.TEMPLATE,TAG_ID.TEMPLATE],[TAG_NAMES.TEXTAREA,TAG_ID.TEXTAREA],[TAG_NAMES.TFOOT,TAG_ID.TFOOT],[TAG_NAMES.TD,TAG_ID.TD],[TAG_NAMES.TH,TAG_ID.TH],[TAG_NAMES.THEAD,TAG_ID.THEAD],[TAG_NAMES.TITLE,TAG_ID.TITLE],[TAG_NAMES.TR,TAG_ID.TR],[TAG_NAMES.TRACK,TAG_ID.TRACK],[TAG_NAMES.TT,TAG_ID.TT],[TAG_NAMES.U,TAG_ID.U],[TAG_NAMES.UL,TAG_ID.UL],[TAG_NAMES.SVG,TAG_ID.SVG],[TAG_NAMES.VAR,TAG_ID.VAR],[TAG_NAMES.WBR,TAG_ID.WBR],[TAG_NAMES.XMP,TAG_ID.XMP]]);function getTagID(e){var t;return(t=TAG_NAME_TO_ID.get(e))!==null&&t!==void 0?t:TAG_ID.UNKNOWN}const $=TAG_ID,SPECIAL_ELEMENTS={[NS.HTML]:new Set([$.ADDRESS,$.APPLET,$.AREA,$.ARTICLE,$.ASIDE,$.BASE,$.BASEFONT,$.BGSOUND,$.BLOCKQUOTE,$.BODY,$.BR,$.BUTTON,$.CAPTION,$.CENTER,$.COL,$.COLGROUP,$.DD,$.DETAILS,$.DIR,$.DIV,$.DL,$.DT,$.EMBED,$.FIELDSET,$.FIGCAPTION,$.FIGURE,$.FOOTER,$.FORM,$.FRAME,$.FRAMESET,$.H1,$.H2,$.H3,$.H4,$.H5,$.H6,$.HEAD,$.HEADER,$.HGROUP,$.HR,$.HTML,$.IFRAME,$.IMG,$.INPUT,$.LI,$.LINK,$.LISTING,$.MAIN,$.MARQUEE,$.MENU,$.META,$.NAV,$.NOEMBED,$.NOFRAMES,$.NOSCRIPT,$.OBJECT,$.OL,$.P,$.PARAM,$.PLAINTEXT,$.PRE,$.SCRIPT,$.SECTION,$.SELECT,$.SOURCE,$.STYLE,$.SUMMARY,$.TABLE,$.TBODY,$.TD,$.TEMPLATE,$.TEXTAREA,$.TFOOT,$.TH,$.THEAD,$.TITLE,$.TR,$.TRACK,$.UL,$.WBR,$.XMP]),[NS.MATHML]:new Set([$.MI,$.MO,$.MN,$.MS,$.MTEXT,$.ANNOTATION_XML]),[NS.SVG]:new Set([$.TITLE,$.FOREIGN_OBJECT,$.DESC]),[NS.XLINK]:new Set,[NS.XML]:new Set,[NS.XMLNS]:new Set},NUMBERED_HEADERS=new Set([$.H1,$.H2,$.H3,$.H4,$.H5,$.H6]),UNESCAPED_TEXT=new Set([TAG_NAMES.STYLE,TAG_NAMES.SCRIPT,TAG_NAMES.XMP,TAG_NAMES.IFRAME,TAG_NAMES.NOEMBED,TAG_NAMES.NOFRAMES,TAG_NAMES.PLAINTEXT]);function hasUnescapedText(e,t){return UNESCAPED_TEXT.has(e)||t&&e===TAG_NAMES.NOSCRIPT}var State;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(State||(State={}));const TokenizerMode={DATA:State.DATA,RCDATA:State.RCDATA,RAWTEXT:State.RAWTEXT,SCRIPT_DATA:State.SCRIPT_DATA,PLAINTEXT:State.PLAINTEXT,CDATA_SECTION:State.CDATA_SECTION};function isAsciiDigit(e){return e>=CODE_POINTS.DIGIT_0&&e<=CODE_POINTS.DIGIT_9}function isAsciiUpper(e){return e>=CODE_POINTS.LATIN_CAPITAL_A&&e<=CODE_POINTS.LATIN_CAPITAL_Z}function isAsciiLower(e){return e>=CODE_POINTS.LATIN_SMALL_A&&e<=CODE_POINTS.LATIN_SMALL_Z}function isAsciiLetter(e){return isAsciiLower(e)||isAsciiUpper(e)}function isAsciiAlphaNumeric(e){return isAsciiLetter(e)||isAsciiDigit(e)}function toAsciiLower(e){return e+32}function isWhitespace(e){return e===CODE_POINTS.SPACE||e===CODE_POINTS.LINE_FEED||e===CODE_POINTS.TABULATION||e===CODE_POINTS.FORM_FEED}function isScriptDataDoubleEscapeSequenceEnd(e){return isWhitespace(e)||e===CODE_POINTS.SOLIDUS||e===CODE_POINTS.GREATER_THAN_SIGN}function getErrorForNumericCharacterReference(e){return e===CODE_POINTS.NULL?ERR.nullCharacterReference:e>1114111?ERR.characterReferenceOutsideUnicodeRange:isSurrogate(e)?ERR.surrogateCharacterReference:isUndefinedCodePoint(e)?ERR.noncharacterCharacterReference:isControlCodePoint(e)||e===CODE_POINTS.CARRIAGE_RETURN?ERR.controlCharacterReference:null}class Tokenizer{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=State.DATA,this.returnState=State.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new Preprocessor(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new EntityDecoder(htmlDecodeTree,(i,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(i)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(ERR.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:i=>{this._err(ERR.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+i)},validateNumericCharacterReference:i=>{const a=getErrorForNumericCharacterReference(i);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var i,a;(a=(i=this.handler).onParseError)===null||a===void 0||a.call(i,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,i){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||i?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:TokenType.START_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:TokenType.END_TAG,tagName:"",tagID:TAG_ID.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:TokenType.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:TokenType.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const i=this.currentToken;if(getTokenAttr(i,this.currentAttr.name)===null){if(i.attrs.push(this.currentAttr),i.location&&this.currentLocation){const a=(t=(n=i.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(ERR.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=getTagID(t.tagName),t.type===TokenType.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(ERR.endTagWithAttributes),t.selfClosing&&this._err(ERR.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case TokenType.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case TokenType.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case TokenType.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:TokenType.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=isWhitespace(t)?TokenType.WHITESPACE_CHARACTER:t===CODE_POINTS.NULL?TokenType.NULL_CHARACTER:TokenType.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(TokenType.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=State.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?DecodingMode.Attribute:DecodingMode.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===State.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===State.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case State.DATA:{this._stateData(t);break}case State.RCDATA:{this._stateRcdata(t);break}case State.RAWTEXT:{this._stateRawtext(t);break}case State.SCRIPT_DATA:{this._stateScriptData(t);break}case State.PLAINTEXT:{this._statePlaintext(t);break}case State.TAG_OPEN:{this._stateTagOpen(t);break}case State.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case State.TAG_NAME:{this._stateTagName(t);break}case State.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case State.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case State.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case State.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case State.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case State.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case State.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case State.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case State.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case State.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case State.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case State.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case State.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case State.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case State.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case State.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case State.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case State.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case State.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case State.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case State.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case State.BOGUS_COMMENT:{this._stateBogusComment(t);break}case State.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case State.COMMENT_START:{this._stateCommentStart(t);break}case State.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case State.COMMENT:{this._stateComment(t);break}case State.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case State.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case State.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case State.COMMENT_END:{this._stateCommentEnd(t);break}case State.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case State.DOCTYPE:{this._stateDoctype(t);break}case State.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case State.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case State.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case State.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case State.CDATA_SECTION:{this._stateCdataSection(t);break}case State.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case State.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case State.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case State.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.TAG_OPEN;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitCodePoint(t);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RCDATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.RAWTEXT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(isAsciiLetter(t))this._createStartTagToken(),this.state=State.TAG_NAME,this._stateTagName(t);else switch(t){case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.MARKUP_DECLARATION_OPEN;break}case CODE_POINTS.SOLIDUS:{this.state=State.END_TAG_OPEN;break}case CODE_POINTS.QUESTION_MARK:{this._err(ERR.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=State.BOGUS_COMMENT,this._stateBogusComment(t);break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=State.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(isAsciiLetter(t))this._createEndTagToken(),this.state=State.TAG_NAME,this._stateTagName(t);else switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingEndTagName),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(ERR.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.tagName+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(isAsciiUpper(t)?toAsciiLower(t):t)}}_stateRcdataLessThanSign(t){t===CODE_POINTS.SOLIDUS?this.state=State.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){isAsciiLetter(t)?(this.state=State.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=State.BEFORE_ATTRIBUTE_NAME,!1;case CODE_POINTS.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=State.SELF_CLOSING_START_TAG,!1;case CODE_POINTS.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=State.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=State.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===CODE_POINTS.SOLIDUS?this.state=State.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=State.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){isAsciiLetter(t)?(this.state=State.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=State.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case CODE_POINTS.SOLIDUS:{this.state=State.SCRIPT_DATA_END_TAG_OPEN;break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=State.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){isAsciiLetter(t)?(this.state=State.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===CODE_POINTS.HYPHEN_MINUS?(this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=State.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===CODE_POINTS.SOLIDUS?this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:isAsciiLetter(t)?(this._emitChars("<"),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){isAsciiLetter(t)?(this.state=State.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<SEQUENCES.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this._emitChars("-");break}case CODE_POINTS.LESS_THAN_SIGN:{this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.SCRIPT_DATA,this._emitChars(">");break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(REPLACEMENT_CHARACTER);break}case CODE_POINTS.EOF:{this._err(ERR.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===CODE_POINTS.SOLIDUS?(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith(SEQUENCES.SCRIPT,!1)&&isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek(SEQUENCES.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<SEQUENCES.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=State.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=State.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case CODE_POINTS.EQUALS_SIGN:{this._err(ERR.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=State.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:case CODE_POINTS.SOLIDUS:case CODE_POINTS.GREATER_THAN_SIGN:case CODE_POINTS.EOF:{this._leaveAttrName(),this.state=State.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case CODE_POINTS.EQUALS_SIGN:{this._leaveAttrName(),this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:{this._err(ERR.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.name+=REPLACEMENT_CHARACTER;break}default:this.currentAttr.name+=String.fromCodePoint(isAsciiUpper(t)?toAsciiLower(t):t)}}_stateAfterAttributeName(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.SOLIDUS:{this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.EQUALS_SIGN:{this.state=State.BEFORE_ATTRIBUTE_VALUE;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=State.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{this.state=State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this.state=State.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingAttributeValue),this.state=State.DATA,this.emitCurrentTagToken();break}default:this.state=State.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.AMPERSAND:{this._startCharacterReference();break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this.currentAttr.value+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.QUOTATION_MARK:case CODE_POINTS.APOSTROPHE:case CODE_POINTS.LESS_THAN_SIGN:case CODE_POINTS.EQUALS_SIGN:case CODE_POINTS.GRAVE_ACCENT:{this._err(ERR.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this._leaveAttrValue(),this.state=State.BEFORE_ATTRIBUTE_NAME;break}case CODE_POINTS.SOLIDUS:{this._leaveAttrValue(),this.state=State.SELF_CLOSING_START_TAG;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBetweenAttributes),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=State.DATA,this.emitCurrentTagToken();break}case CODE_POINTS.EOF:{this._err(ERR.eofInTag),this._emitEOFToken();break}default:this._err(ERR.unexpectedSolidusInTag),this.state=State.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.data+=REPLACEMENT_CHARACTER;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch(SEQUENCES.DASH_DASH,!0)?(this._createCommentToken(SEQUENCES.DASH_DASH.length+1),this.state=State.COMMENT_START):this._consumeSequenceIfMatch(SEQUENCES.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation(SEQUENCES.DOCTYPE.length+1),this.state=State.DOCTYPE):this._consumeSequenceIfMatch(SEQUENCES.CDATA_START,!0)?this.inForeignNode?this.state=State.CDATA_SECTION:(this._err(ERR.cdataInHtmlContent),this._createCommentToken(SEQUENCES.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=State.BOGUS_COMMENT):this._ensureHibernation()||(this._err(ERR.incorrectlyOpenedComment),this._createCommentToken(2),this.state=State.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_START_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=State.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptClosingOfEmptyComment),this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=State.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.LESS_THAN_SIGN:{n.data+="<",this.state=State.COMMENT_LESS_THAN_SIGN;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.data+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case CODE_POINTS.EXCLAMATION_MARK:{n.data+="!",this.state=State.COMMENT_LESS_THAN_SIGN_BANG;break}case CODE_POINTS.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=State.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=State.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===CODE_POINTS.HYPHEN_MINUS?this.state=State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=State.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==CODE_POINTS.GREATER_THAN_SIGN&&t!==CODE_POINTS.EOF&&this._err(ERR.nestedComment),this.state=State.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case CODE_POINTS.HYPHEN_MINUS:{this.state=State.COMMENT_END;break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=State.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EXCLAMATION_MARK:{this.state=State.COMMENT_END_BANG;break}case CODE_POINTS.HYPHEN_MINUS:{n.data+="-";break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=State.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case CODE_POINTS.HYPHEN_MINUS:{n.data+="--!",this.state=State.COMMENT_END_DASH;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.incorrectlyClosedComment),this.state=State.DATA,this.emitCurrentComment(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=State.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingWhitespaceBeforeDoctypeName),this.state=State.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(isAsciiUpper(t))this._createDoctypeToken(String.fromCharCode(toAsciiLower(t))),this.state=State.DOCTYPE_NAME;else switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),this._createDoctypeToken(REPLACEMENT_CHARACTER),this.state=State.DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=State.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.AFTER_DOCTYPE_NAME;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.name+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(isAsciiUpper(t)?toAsciiLower(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch(SEQUENCES.PUBLIC,!1)?this.state=State.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch(SEQUENCES.SYSTEM,!1)?this.state=State.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(ERR.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.publicId="",this.state=State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.publicId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.QUOTATION_MARK:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:{this.state=State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.QUOTATION_MARK:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.QUOTATION_MARK:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case CODE_POINTS.APOSTROPHE:{n.systemId="",this.state=State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.DATA,this.emitCurrentDoctype(n);break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case CODE_POINTS.QUOTATION_MARK:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case CODE_POINTS.APOSTROPHE:{this.state=State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter),n.systemId+=REPLACEMENT_CHARACTER;break}case CODE_POINTS.GREATER_THAN_SIGN:{this._err(ERR.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case CODE_POINTS.SPACE:case CODE_POINTS.LINE_FEED:case CODE_POINTS.TABULATION:case CODE_POINTS.FORM_FEED:break;case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.EOF:{this._err(ERR.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=State.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=State.DATA;break}case CODE_POINTS.NULL:{this._err(ERR.unexpectedNullCharacter);break}case CODE_POINTS.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this.state=State.CDATA_SECTION_BRACKET;break}case CODE_POINTS.EOF:{this._err(ERR.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===CODE_POINTS.RIGHT_SQUARE_BRACKET?this.state=State.CDATA_SECTION_END:(this._emitChars("]"),this.state=State.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case CODE_POINTS.GREATER_THAN_SIGN:{this.state=State.DATA;break}case CODE_POINTS.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=State.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(CODE_POINTS.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&isAsciiAlphaNumeric(this.preprocessor.peek(1))?State.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){isAsciiAlphaNumeric(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===CODE_POINTS.SEMICOLON&&this._err(ERR.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const IMPLICIT_END_TAG_REQUIRED=new Set([TAG_ID.DD,TAG_ID.DT,TAG_ID.LI,TAG_ID.OPTGROUP,TAG_ID.OPTION,TAG_ID.P,TAG_ID.RB,TAG_ID.RP,TAG_ID.RT,TAG_ID.RTC]),IMPLICIT_END_TAG_REQUIRED_THOROUGHLY=new Set([...IMPLICIT_END_TAG_REQUIRED,TAG_ID.CAPTION,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]),SCOPING_ELEMENTS_HTML=new Set([TAG_ID.APPLET,TAG_ID.CAPTION,TAG_ID.HTML,TAG_ID.MARQUEE,TAG_ID.OBJECT,TAG_ID.TABLE,TAG_ID.TD,TAG_ID.TEMPLATE,TAG_ID.TH]),SCOPING_ELEMENTS_HTML_LIST=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.OL,TAG_ID.UL]),SCOPING_ELEMENTS_HTML_BUTTON=new Set([...SCOPING_ELEMENTS_HTML,TAG_ID.BUTTON]),SCOPING_ELEMENTS_MATHML=new Set([TAG_ID.ANNOTATION_XML,TAG_ID.MI,TAG_ID.MN,TAG_ID.MO,TAG_ID.MS,TAG_ID.MTEXT]),SCOPING_ELEMENTS_SVG=new Set([TAG_ID.DESC,TAG_ID.FOREIGN_OBJECT,TAG_ID.TITLE]),TABLE_ROW_CONTEXT=new Set([TAG_ID.TR,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_BODY_CONTEXT=new Set([TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CONTEXT=new Set([TAG_ID.TABLE,TAG_ID.TEMPLATE,TAG_ID.HTML]),TABLE_CELLS=new Set([TAG_ID.TD,TAG_ID.TH]);class OpenElementStack{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,i){this.treeAdapter=n,this.handler=i,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=TAG_ID.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===TAG_ID.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===NS.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const i=this._indexOf(t);this.items[i]=n,i===this.stackTop&&(this.current=n)}insertAfter(t,n,i){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,i),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==NS.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(i,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(NUMBERED_HEADERS,NS.HTML)}popUntilTableCellPopped(){this.popUntilPopped(TABLE_CELLS,NS.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let i=this.stackTop;i>=0;i--)if(t.has(this.tagIDs[i])&&this.treeAdapter.getNamespaceURI(this.items[i])===n)return i;return-1}clearBackTo(t,n){const i=this._indexOfTagNames(t,n);this.shortenToLength(i+1)}clearBackToTableContext(){this.clearBackTo(TABLE_CONTEXT,NS.HTML)}clearBackToTableBodyContext(){this.clearBackTo(TABLE_BODY_CONTEXT,NS.HTML)}clearBackToTableRowContext(){this.clearBackTo(TABLE_ROW_CONTEXT,NS.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===TAG_ID.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===TAG_ID.HTML}hasInDynamicScope(t,n){for(let i=this.stackTop;i>=0;i--){const a=this.tagIDs[i];switch(this.treeAdapter.getNamespaceURI(this.items[i])){case NS.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(a))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,SCOPING_ELEMENTS_HTML)}hasInListItemScope(t){return this.hasInDynamicScope(t,SCOPING_ELEMENTS_HTML_LIST)}hasInButtonScope(t){return this.hasInDynamicScope(t,SCOPING_ELEMENTS_HTML_BUTTON)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case NS.HTML:{if(NUMBERED_HEADERS.has(n))return!0;if(SCOPING_ELEMENTS_HTML.has(n))return!1;break}case NS.SVG:{if(SCOPING_ELEMENTS_SVG.has(n))return!1;break}case NS.MATHML:{if(SCOPING_ELEMENTS_MATHML.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===NS.HTML)switch(this.tagIDs[n]){case t:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===NS.HTML)switch(this.tagIDs[t]){case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:return!0;case TAG_ID.TABLE:case TAG_ID.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===NS.HTML)switch(this.tagIDs[n]){case t:return!0;case TAG_ID.OPTION:case TAG_ID.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&IMPLICIT_END_TAG_REQUIRED_THOROUGHLY.has(this.currentTagId);)this.pop()}}const NOAH_ARK_CAPACITY=3;var EntryType;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(EntryType||(EntryType={}));const MARKER={type:EntryType.Marker};class FormattingElementList{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const i=[],a=n.length,s=this.treeAdapter.getTagName(t),o=this.treeAdapter.getNamespaceURI(t);for(let l=0;l<this.entries.length;l++){const m=this.entries[l];if(m.type===EntryType.Marker)break;const{element:_}=m;if(this.treeAdapter.getTagName(_)===s&&this.treeAdapter.getNamespaceURI(_)===o){const A=this.treeAdapter.getAttrList(_);A.length===a&&i.push({idx:l,attrs:A})}}return i}_ensureNoahArkCondition(t){if(this.entries.length<NOAH_ARK_CAPACITY)return;const n=this.treeAdapter.getAttrList(t),i=this._getNoahArkConditionCandidates(t,n);if(i.length<NOAH_ARK_CAPACITY)return;const a=new Map(n.map(o=>[o.name,o.value]));let s=0;for(let o=0;o<i.length;o++){const l=i[o];l.attrs.every(m=>a.get(m.name)===m.value)&&(s+=1,s>=NOAH_ARK_CAPACITY&&this.entries.splice(l.idx,1))}}insertMarker(){this.entries.unshift(MARKER)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:EntryType.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const i=this.entries.indexOf(this.bookmark);this.entries.splice(i,0,{type:EntryType.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(MARKER);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(i=>i.type===EntryType.Marker||this.treeAdapter.getTagName(i.element)===t);return n&&n.type===EntryType.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===EntryType.Element&&n.element===t)}}const defaultTreeAdapter={createDocument(){return{nodeName:"#document",mode:DOCUMENT_MODE.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const i=e.childNodes.indexOf(n);e.childNodes.splice(i,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,i){const a=e.childNodes.find(s=>s.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=i;else{const s={nodeName:"#documentType",name:t,publicId:n,systemId:i,parentNode:null};defaultTreeAdapter.appendChild(e,s)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(defaultTreeAdapter.isTextNode(n)){n.value+=t;return}}defaultTreeAdapter.appendChild(e,defaultTreeAdapter.createTextNode(t))},insertTextBefore(e,t,n){const i=e.childNodes[e.childNodes.indexOf(n)-1];i&&defaultTreeAdapter.isTextNode(i)?i.value+=t:defaultTreeAdapter.insertBefore(e,defaultTreeAdapter.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(i=>i.name));for(let i=0;i<t.length;i++)n.has(t[i].name)||e.attrs.push(t[i])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},VALID_DOCTYPE_NAME="html",VALID_SYSTEM_ID="about:legacy-compat",QUIRKS_MODE_SYSTEM_ID="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",QUIRKS_MODE_PUBLIC_ID_PREFIXES=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...QUIRKS_MODE_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],QUIRKS_MODE_PUBLIC_IDS=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),LIMITED_QUIRKS_PUBLIC_ID_PREFIXES=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES=[...LIMITED_QUIRKS_PUBLIC_ID_PREFIXES,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function hasPrefix(e,t){return t.some(n=>e.startsWith(n))}function isConforming(e){return e.name===VALID_DOCTYPE_NAME&&e.publicId===null&&(e.systemId===null||e.systemId===VALID_SYSTEM_ID)}function getDocumentMode(e){if(e.name!==VALID_DOCTYPE_NAME)return DOCUMENT_MODE.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===QUIRKS_MODE_SYSTEM_ID)return DOCUMENT_MODE.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),QUIRKS_MODE_PUBLIC_IDS.has(n))return DOCUMENT_MODE.QUIRKS;let i=t===null?QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES:QUIRKS_MODE_PUBLIC_ID_PREFIXES;if(hasPrefix(n,i))return DOCUMENT_MODE.QUIRKS;if(i=t===null?LIMITED_QUIRKS_PUBLIC_ID_PREFIXES:LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES,hasPrefix(n,i))return DOCUMENT_MODE.LIMITED_QUIRKS}return DOCUMENT_MODE.NO_QUIRKS}const MIME_TYPES={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},DEFINITION_URL_ATTR="definitionurl",ADJUSTED_DEFINITION_URL_ATTR="definitionURL",SVG_ATTRS_ADJUSTMENT_MAP=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),XML_ATTRS_ADJUSTMENT_MAP=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:NS.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:NS.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:NS.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:NS.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:NS.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:NS.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:NS.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:NS.XML}],["xml:space",{prefix:"xml",name:"space",namespace:NS.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:NS.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:NS.XMLNS}]]),SVG_TAG_NAMES_ADJUSTMENT_MAP=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),EXITS_FOREIGN_CONTENT=new Set([TAG_ID.B,TAG_ID.BIG,TAG_ID.BLOCKQUOTE,TAG_ID.BODY,TAG_ID.BR,TAG_ID.CENTER,TAG_ID.CODE,TAG_ID.DD,TAG_ID.DIV,TAG_ID.DL,TAG_ID.DT,TAG_ID.EM,TAG_ID.EMBED,TAG_ID.H1,TAG_ID.H2,TAG_ID.H3,TAG_ID.H4,TAG_ID.H5,TAG_ID.H6,TAG_ID.HEAD,TAG_ID.HR,TAG_ID.I,TAG_ID.IMG,TAG_ID.LI,TAG_ID.LISTING,TAG_ID.MENU,TAG_ID.META,TAG_ID.NOBR,TAG_ID.OL,TAG_ID.P,TAG_ID.PRE,TAG_ID.RUBY,TAG_ID.S,TAG_ID.SMALL,TAG_ID.SPAN,TAG_ID.STRONG,TAG_ID.STRIKE,TAG_ID.SUB,TAG_ID.SUP,TAG_ID.TABLE,TAG_ID.TT,TAG_ID.U,TAG_ID.UL,TAG_ID.VAR]);function causesExit(e){const t=e.tagID;return t===TAG_ID.FONT&&e.attrs.some(({name:i})=>i===ATTRS.COLOR||i===ATTRS.SIZE||i===ATTRS.FACE)||EXITS_FOREIGN_CONTENT.has(t)}function adjustTokenMathMLAttrs(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===DEFINITION_URL_ATTR){e.attrs[t].name=ADJUSTED_DEFINITION_URL_ATTR;break}}function adjustTokenSVGAttrs(e){for(let t=0;t<e.attrs.length;t++){const n=SVG_ATTRS_ADJUSTMENT_MAP.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function adjustTokenXMLAttrs(e){for(let t=0;t<e.attrs.length;t++){const n=XML_ATTRS_ADJUSTMENT_MAP.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function adjustTokenSVGTagName(e){const t=SVG_TAG_NAMES_ADJUSTMENT_MAP.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=getTagID(e.tagName))}function isMathMLTextIntegrationPoint(e,t){return t===NS.MATHML&&(e===TAG_ID.MI||e===TAG_ID.MO||e===TAG_ID.MN||e===TAG_ID.MS||e===TAG_ID.MTEXT)}function isHtmlIntegrationPoint(e,t,n){if(t===NS.MATHML&&e===TAG_ID.ANNOTATION_XML){for(let i=0;i<n.length;i++)if(n[i].name===ATTRS.ENCODING){const a=n[i].value.toLowerCase();return a===MIME_TYPES.TEXT_HTML||a===MIME_TYPES.APPLICATION_XML}}return t===NS.SVG&&(e===TAG_ID.FOREIGN_OBJECT||e===TAG_ID.DESC||e===TAG_ID.TITLE)}function isIntegrationPoint(e,t,n,i){return(!i||i===NS.HTML)&&isHtmlIntegrationPoint(e,t,n)||(!i||i===NS.MATHML)&&isMathMLTextIntegrationPoint(e,t)}const HIDDEN_INPUT_TYPE="hidden",AA_OUTER_LOOP_ITER=8,AA_INNER_LOOP_ITER=3;var InsertionMode;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(InsertionMode||(InsertionMode={}));const BASE_LOC={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},TABLE_STRUCTURE_TAGS=new Set([TAG_ID.TABLE,TAG_ID.TBODY,TAG_ID.TFOOT,TAG_ID.THEAD,TAG_ID.TR]),defaultParserOptions={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:defaultTreeAdapter,onParseError:null};class Parser{constructor(t,n,i=null,a=null){this.fragmentContext=i,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=InsertionMode.INITIAL,this.originalInsertionMode=InsertionMode.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...defaultParserOptions,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new Tokenizer(this.options,this),this.activeFormattingElements=new FormattingElementList(this.treeAdapter),this.fragmentContextID=i?getTagID(this.treeAdapter.getTagName(i)):TAG_ID.UNKNOWN,this._setContextModes(i??this.document,this.fragmentContextID),this.openElements=new OpenElementStack(this.document,this.treeAdapter,this)}static parse(t,n){const i=new this(n);return i.tokenizer.write(t,!0),i.document}static getFragmentParser(t,n){const i={...defaultParserOptions,...n};t??(t=i.treeAdapter.createElement(TAG_NAMES.TEMPLATE,NS.HTML,[]));const a=i.treeAdapter.createElement("documentmock",NS.HTML,[]),s=new this(i,a,t);return s.fragmentContextID===TAG_ID.TEMPLATE&&s.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE),s._initTokenizerForFragmentParsing(),s._insertFakeRootElement(),s._resetInsertionMode(),s._findFormInFragmentContext(),s}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,i){var a;if(!this.onParseError)return;const s=(a=t.location)!==null&&a!==void 0?a:BASE_LOC,o={code:n,startLine:s.startLine,startCol:s.startCol,startOffset:s.startOffset,endLine:i?s.startLine:s.endLine,endCol:i?s.startCol:s.endCol,endOffset:i?s.startOffset:s.endOffset};this.onParseError(o)}onItemPush(t,n,i){var a,s;(s=(a=this.treeAdapter).onItemPush)===null||s===void 0||s.call(a,t),i&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var i,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(i=this.treeAdapter).onItemPop)===null||a===void 0||a.call(i,t,this.openElements.current),n){let s,o;this.openElements.stackTop===0&&this.fragmentContext?(s=this.fragmentContext,o=this.fragmentContextID):{current:s,currentTagId:o}=this.openElements,this._setContextModes(s,o)}}_setContextModes(t,n){const i=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===NS.HTML;this.currentNotInHTML=!i,this.tokenizer.inForeignNode=!i&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,NS.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=InsertionMode.TEXT}switchToPlaintextParsing(){this.insertionMode=InsertionMode.TEXT,this.originalInsertionMode=InsertionMode.IN_BODY,this.tokenizer.state=TokenizerMode.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===TAG_NAMES.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==NS.HTML))switch(this.fragmentContextID){case TAG_ID.TITLE:case TAG_ID.TEXTAREA:{this.tokenizer.state=TokenizerMode.RCDATA;break}case TAG_ID.STYLE:case TAG_ID.XMP:case TAG_ID.IFRAME:case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:case TAG_ID.NOSCRIPT:{this.tokenizer.state=TokenizerMode.RAWTEXT;break}case TAG_ID.SCRIPT:{this.tokenizer.state=TokenizerMode.SCRIPT_DATA;break}case TAG_ID.PLAINTEXT:{this.tokenizer.state=TokenizerMode.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",i=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,i,a),t.location){const o=this.treeAdapter.getChildNodes(this.document).find(l=>this.treeAdapter.isDocumentTypeNode(l));o&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const i=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,i)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const i=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(i??this.document,t)}}_appendElement(t,n){const i=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(i,t.location)}_insertElement(t,n){const i=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(i,t.location),this.openElements.push(i,t.tagID)}_insertFakeElement(t,n){const i=this.treeAdapter.createElement(t,NS.HTML,[]);this._attachElementToTree(i,null),this.openElements.push(i,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,NS.HTML,t.attrs),i=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,i),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(TAG_NAMES.HTML,NS.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,TAG_ID.HTML)}_appendCommentNode(t,n){const i=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,i),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(i,t.location)}_insertCharacters(t){let n,i;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:i}=this._findFosterParentingLocation(),i?this.treeAdapter.insertTextBefore(n,t.chars,i):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),s=i?a.lastIndexOf(i):a.length,o=a[s-1];if(this.treeAdapter.getNodeSourceCodeLocation(o)){const{endLine:m,endCol:_,endOffset:A}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(o,{endLine:m,endCol:_,endOffset:A})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(o,t.location)}_adoptNodes(t,n){for(let i=this.treeAdapter.getFirstChild(t);i;i=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(i),this.treeAdapter.appendChild(n,i)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const i=n.location,a=this.treeAdapter.getTagName(t),s=n.type===TokenType.END_TAG&&a===n.tagName?{endTag:{...i},endLine:i.endLine,endCol:i.endCol,endOffset:i.endOffset}:{endLine:i.startLine,endCol:i.startCol,endOffset:i.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,s)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,i;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,i=this.fragmentContextID):{current:n,currentTagId:i}=this.openElements,t.tagID===TAG_ID.SVG&&this.treeAdapter.getTagName(n)===TAG_NAMES.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===NS.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===TAG_ID.MGLYPH||t.tagID===TAG_ID.MALIGNMARK)&&i!==void 0&&!this._isIntegrationPoint(i,n,NS.HTML)}_processToken(t){switch(t.type){case TokenType.CHARACTER:{this.onCharacter(t);break}case TokenType.NULL_CHARACTER:{this.onNullCharacter(t);break}case TokenType.COMMENT:{this.onComment(t);break}case TokenType.DOCTYPE:{this.onDoctype(t);break}case TokenType.START_TAG:{this._processStartTag(t);break}case TokenType.END_TAG:{this.onEndTag(t);break}case TokenType.EOF:{this.onEof(t);break}case TokenType.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,i){const a=this.treeAdapter.getNamespaceURI(n),s=this.treeAdapter.getAttrList(n);return isIntegrationPoint(t,a,s,i)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===EntryType.Marker||this.openElements.contains(a.element)),i=n===-1?t-1:n-1;for(let a=i;a>=0;a--){const s=this.activeFormattingElements.entries[a];this._insertElement(s.token,this.treeAdapter.getNamespaceURI(s.element)),s.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=InsertionMode.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.P),this.openElements.popUntilTagNamePopped(TAG_ID.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case TAG_ID.TR:{this.insertionMode=InsertionMode.IN_ROW;return}case TAG_ID.TBODY:case TAG_ID.THEAD:case TAG_ID.TFOOT:{this.insertionMode=InsertionMode.IN_TABLE_BODY;return}case TAG_ID.CAPTION:{this.insertionMode=InsertionMode.IN_CAPTION;return}case TAG_ID.COLGROUP:{this.insertionMode=InsertionMode.IN_COLUMN_GROUP;return}case TAG_ID.TABLE:{this.insertionMode=InsertionMode.IN_TABLE;return}case TAG_ID.BODY:{this.insertionMode=InsertionMode.IN_BODY;return}case TAG_ID.FRAMESET:{this.insertionMode=InsertionMode.IN_FRAMESET;return}case TAG_ID.SELECT:{this._resetInsertionModeForSelect(t);return}case TAG_ID.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case TAG_ID.HTML:{this.insertionMode=this.headElement?InsertionMode.AFTER_HEAD:InsertionMode.BEFORE_HEAD;return}case TAG_ID.TD:case TAG_ID.TH:{if(t>0){this.insertionMode=InsertionMode.IN_CELL;return}break}case TAG_ID.HEAD:{if(t>0){this.insertionMode=InsertionMode.IN_HEAD;return}break}}this.insertionMode=InsertionMode.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const i=this.openElements.tagIDs[n];if(i===TAG_ID.TEMPLATE)break;if(i===TAG_ID.TABLE){this.insertionMode=InsertionMode.IN_SELECT_IN_TABLE;return}}this.insertionMode=InsertionMode.IN_SELECT}_isElementCausesFosterParenting(t){return TABLE_STRUCTURE_TAGS.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case TAG_ID.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===NS.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case TAG_ID.TABLE:{const i=this.treeAdapter.getParentNode(n);return i?{parent:i,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const i=this.treeAdapter.getNamespaceURI(t);return SPECIAL_ELEMENTS[i].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){characterInForeignContent(this,t);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,t);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,t);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,t);break}case InsertionMode.IN_HEAD:{tokenInHead(this,t);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,t);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,t);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:{characterInBody(this,t);break}case InsertionMode.TEXT:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,t);break}case InsertionMode.IN_TABLE_TEXT:{characterInTableText(this,t);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,t);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,t);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){nullCharacterInForeignContent(this,t);return}switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,t);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,t);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,t);break}case InsertionMode.IN_HEAD:{tokenInHead(this,t);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,t);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,t);break}case InsertionMode.TEXT:{this._insertCharacters(t);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,t);break}case InsertionMode.IN_COLUMN_GROUP:{tokenInColumnGroup(this,t);break}case InsertionMode.AFTER_BODY:{tokenAfterBody(this,t);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){appendComment(this,t);return}switch(this.insertionMode){case InsertionMode.INITIAL:case InsertionMode.BEFORE_HTML:case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_TEMPLATE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{appendComment(this,t);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,t);break}case InsertionMode.AFTER_BODY:{appendCommentToRootHtmlElement(this,t);break}case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{appendCommentToDocument(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case InsertionMode.INITIAL:{doctypeInInitialMode(this,t);break}case InsertionMode.BEFORE_HEAD:case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:{this._err(t,ERR.misplacedDoctype);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,ERR.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?startTagInForeignContent(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,t);break}case InsertionMode.BEFORE_HTML:{startTagBeforeHtml(this,t);break}case InsertionMode.BEFORE_HEAD:{startTagBeforeHead(this,t);break}case InsertionMode.IN_HEAD:{startTagInHead(this,t);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{startTagInHeadNoScript(this,t);break}case InsertionMode.AFTER_HEAD:{startTagAfterHead(this,t);break}case InsertionMode.IN_BODY:{startTagInBody(this,t);break}case InsertionMode.IN_TABLE:{startTagInTable(this,t);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,t);break}case InsertionMode.IN_CAPTION:{startTagInCaption(this,t);break}case InsertionMode.IN_COLUMN_GROUP:{startTagInColumnGroup(this,t);break}case InsertionMode.IN_TABLE_BODY:{startTagInTableBody(this,t);break}case InsertionMode.IN_ROW:{startTagInRow(this,t);break}case InsertionMode.IN_CELL:{startTagInCell(this,t);break}case InsertionMode.IN_SELECT:{startTagInSelect(this,t);break}case InsertionMode.IN_SELECT_IN_TABLE:{startTagInSelectInTable(this,t);break}case InsertionMode.IN_TEMPLATE:{startTagInTemplate(this,t);break}case InsertionMode.AFTER_BODY:{startTagAfterBody(this,t);break}case InsertionMode.IN_FRAMESET:{startTagInFrameset(this,t);break}case InsertionMode.AFTER_FRAMESET:{startTagAfterFrameset(this,t);break}case InsertionMode.AFTER_AFTER_BODY:{startTagAfterAfterBody(this,t);break}case InsertionMode.AFTER_AFTER_FRAMESET:{startTagAfterAfterFrameset(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?endTagInForeignContent(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,t);break}case InsertionMode.BEFORE_HTML:{endTagBeforeHtml(this,t);break}case InsertionMode.BEFORE_HEAD:{endTagBeforeHead(this,t);break}case InsertionMode.IN_HEAD:{endTagInHead(this,t);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{endTagInHeadNoScript(this,t);break}case InsertionMode.AFTER_HEAD:{endTagAfterHead(this,t);break}case InsertionMode.IN_BODY:{endTagInBody(this,t);break}case InsertionMode.TEXT:{endTagInText(this,t);break}case InsertionMode.IN_TABLE:{endTagInTable(this,t);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,t);break}case InsertionMode.IN_CAPTION:{endTagInCaption(this,t);break}case InsertionMode.IN_COLUMN_GROUP:{endTagInColumnGroup(this,t);break}case InsertionMode.IN_TABLE_BODY:{endTagInTableBody(this,t);break}case InsertionMode.IN_ROW:{endTagInRow(this,t);break}case InsertionMode.IN_CELL:{endTagInCell(this,t);break}case InsertionMode.IN_SELECT:{endTagInSelect(this,t);break}case InsertionMode.IN_SELECT_IN_TABLE:{endTagInSelectInTable(this,t);break}case InsertionMode.IN_TEMPLATE:{endTagInTemplate(this,t);break}case InsertionMode.AFTER_BODY:{endTagAfterBody(this,t);break}case InsertionMode.IN_FRAMESET:{endTagInFrameset(this,t);break}case InsertionMode.AFTER_FRAMESET:{endTagAfterFrameset(this,t);break}case InsertionMode.AFTER_AFTER_BODY:{tokenAfterAfterBody(this,t);break}}}onEof(t){switch(this.insertionMode){case InsertionMode.INITIAL:{tokenInInitialMode(this,t);break}case InsertionMode.BEFORE_HTML:{tokenBeforeHtml(this,t);break}case InsertionMode.BEFORE_HEAD:{tokenBeforeHead(this,t);break}case InsertionMode.IN_HEAD:{tokenInHead(this,t);break}case InsertionMode.IN_HEAD_NO_SCRIPT:{tokenInHeadNoScript(this,t);break}case InsertionMode.AFTER_HEAD:{tokenAfterHead(this,t);break}case InsertionMode.IN_BODY:case InsertionMode.IN_TABLE:case InsertionMode.IN_CAPTION:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:case InsertionMode.IN_CELL:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:{eofInBody(this,t);break}case InsertionMode.TEXT:{eofInText(this,t);break}case InsertionMode.IN_TABLE_TEXT:{tokenInTableText(this,t);break}case InsertionMode.IN_TEMPLATE:{eofInTemplate(this,t);break}case InsertionMode.AFTER_BODY:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{stopParsing(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===CODE_POINTS.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case InsertionMode.IN_HEAD:case InsertionMode.IN_HEAD_NO_SCRIPT:case InsertionMode.AFTER_HEAD:case InsertionMode.TEXT:case InsertionMode.IN_COLUMN_GROUP:case InsertionMode.IN_SELECT:case InsertionMode.IN_SELECT_IN_TABLE:case InsertionMode.IN_FRAMESET:case InsertionMode.AFTER_FRAMESET:{this._insertCharacters(t);break}case InsertionMode.IN_BODY:case InsertionMode.IN_CAPTION:case InsertionMode.IN_CELL:case InsertionMode.IN_TEMPLATE:case InsertionMode.AFTER_BODY:case InsertionMode.AFTER_AFTER_BODY:case InsertionMode.AFTER_AFTER_FRAMESET:{whitespaceCharacterInBody(this,t);break}case InsertionMode.IN_TABLE:case InsertionMode.IN_TABLE_BODY:case InsertionMode.IN_ROW:{characterInTable(this,t);break}case InsertionMode.IN_TABLE_TEXT:{whitespaceCharacterInTableText(this,t);break}}}}function aaObtainFormattingElementEntry(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):genericEndTagInBody(e,t),n}function aaObtainFurthestBlock(e,t){let n=null,i=e.openElements.stackTop;for(;i>=0;i--){const a=e.openElements.items[i];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[i])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(i,0)),e.activeFormattingElements.removeEntry(t)),n}function aaInnerLoop(e,t,n){let i=t,a=e.openElements.getCommonAncestor(t);for(let s=0,o=a;o!==n;s++,o=a){a=e.openElements.getCommonAncestor(o);const l=e.activeFormattingElements.getElementEntry(o),m=l&&s>=AA_INNER_LOOP_ITER;!l||m?(m&&e.activeFormattingElements.removeEntry(l),e.openElements.remove(o)):(o=aaRecreateElementFromEntry(e,l),i===t&&(e.activeFormattingElements.bookmark=l),e.treeAdapter.detachNode(i),e.treeAdapter.appendChild(o,i),i=o)}return i}function aaRecreateElementFromEntry(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),i=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,i),t.element=i,i}function aaInsertLastNodeInCommonAncestor(e,t,n){const i=e.treeAdapter.getTagName(t),a=getTagID(i);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const s=e.treeAdapter.getNamespaceURI(t);a===TAG_ID.TEMPLATE&&s===NS.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function aaReplaceFormattingElement(e,t,n){const i=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,s=e.treeAdapter.createElement(a.tagName,i,a.attrs);e._adoptNodes(t,s),e.treeAdapter.appendChild(t,s),e.activeFormattingElements.insertElementAfterBookmark(s,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,s,a.tagID)}function callAdoptionAgency(e,t){for(let n=0;n<AA_OUTER_LOOP_ITER;n++){const i=aaObtainFormattingElementEntry(e,t);if(!i)break;const a=aaObtainFurthestBlock(e,i);if(!a)break;e.activeFormattingElements.bookmark=i;const s=aaInnerLoop(e,a,i.element),o=e.openElements.getCommonAncestor(i.element);e.treeAdapter.detachNode(s),o&&aaInsertLastNodeInCommonAncestor(e,o,s),aaReplaceFormattingElement(e,a,i)}}function appendComment(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function appendCommentToRootHtmlElement(e,t){e._appendCommentNode(t,e.openElements.items[0])}function appendCommentToDocument(e,t){e._appendCommentNode(t,e.document)}function stopParsing(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let i=e.openElements.stackTop;i>=n;i--)e._setEndLocation(e.openElements.items[i],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const i=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(i);if(a&&!a.endTag&&(e._setEndLocation(i,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],o=e.treeAdapter.getNodeSourceCodeLocation(s);o&&!o.endTag&&e._setEndLocation(s,t)}}}}function doctypeInInitialMode(e,t){e._setDocumentType(t);const n=t.forceQuirks?DOCUMENT_MODE.QUIRKS:getDocumentMode(t);isConforming(t)||e._err(t,ERR.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=InsertionMode.BEFORE_HTML}function tokenInInitialMode(e,t){e._err(t,ERR.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,DOCUMENT_MODE.QUIRKS),e.insertionMode=InsertionMode.BEFORE_HTML,e._processToken(t)}function startTagBeforeHtml(e,t){t.tagID===TAG_ID.HTML?(e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.BEFORE_HEAD):tokenBeforeHtml(e,t)}function endTagBeforeHtml(e,t){const n=t.tagID;(n===TAG_ID.HTML||n===TAG_ID.HEAD||n===TAG_ID.BODY||n===TAG_ID.BR)&&tokenBeforeHtml(e,t)}function tokenBeforeHtml(e,t){e._insertFakeRootElement(),e.insertionMode=InsertionMode.BEFORE_HEAD,e._processToken(t)}function startTagBeforeHead(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.HEAD:{e._insertElement(t,NS.HTML),e.headElement=e.openElements.current,e.insertionMode=InsertionMode.IN_HEAD;break}default:tokenBeforeHead(e,t)}}function endTagBeforeHead(e,t){const n=t.tagID;n===TAG_ID.HEAD||n===TAG_ID.BODY||n===TAG_ID.HTML||n===TAG_ID.BR?tokenBeforeHead(e,t):e._err(t,ERR.endTagWithoutMatchingOpenElement)}function tokenBeforeHead(e,t){e._insertFakeElement(TAG_NAMES.HEAD,TAG_ID.HEAD),e.headElement=e.openElements.current,e.insertionMode=InsertionMode.IN_HEAD,e._processToken(t)}function startTagInHead(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:{e._appendElement(t,NS.HTML),t.ackSelfClosing=!0;break}case TAG_ID.TITLE:{e._switchToTextParsing(t,TokenizerMode.RCDATA);break}case TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,TokenizerMode.RAWTEXT):(e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_HEAD_NO_SCRIPT);break}case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{e._switchToTextParsing(t,TokenizerMode.RAWTEXT);break}case TAG_ID.SCRIPT:{e._switchToTextParsing(t,TokenizerMode.SCRIPT_DATA);break}case TAG_ID.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=InsertionMode.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(InsertionMode.IN_TEMPLATE);break}case TAG_ID.HEAD:{e._err(t,ERR.misplacedStartTagForHeadElement);break}default:tokenInHead(e,t)}}function endTagInHead(e,t){switch(t.tagID){case TAG_ID.HEAD:{e.openElements.pop(),e.insertionMode=InsertionMode.AFTER_HEAD;break}case TAG_ID.BODY:case TAG_ID.BR:case TAG_ID.HTML:{tokenInHead(e,t);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}default:e._err(t,ERR.endTagWithoutMatchingOpenElement)}}function templateEndTagInHead(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==TAG_ID.TEMPLATE&&e._err(t,ERR.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,ERR.endTagWithoutMatchingOpenElement)}function tokenInHead(e,t){e.openElements.pop(),e.insertionMode=InsertionMode.AFTER_HEAD,e._processToken(t)}function startTagInHeadNoScript(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.HEAD:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.STYLE:{startTagInHead(e,t);break}case TAG_ID.NOSCRIPT:{e._err(t,ERR.nestedNoscriptInHead);break}default:tokenInHeadNoScript(e,t)}}function endTagInHeadNoScript(e,t){switch(t.tagID){case TAG_ID.NOSCRIPT:{e.openElements.pop(),e.insertionMode=InsertionMode.IN_HEAD;break}case TAG_ID.BR:{tokenInHeadNoScript(e,t);break}default:e._err(t,ERR.endTagWithoutMatchingOpenElement)}}function tokenInHeadNoScript(e,t){const n=t.type===TokenType.EOF?ERR.openElementsLeftAfterEof:ERR.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=InsertionMode.IN_HEAD,e._processToken(t)}function startTagAfterHead(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.BODY:{e._insertElement(t,NS.HTML),e.framesetOk=!1,e.insertionMode=InsertionMode.IN_BODY;break}case TAG_ID.FRAMESET:{e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_FRAMESET;break}case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{e._err(t,ERR.abandonedHeadElementChild),e.openElements.push(e.headElement,TAG_ID.HEAD),startTagInHead(e,t),e.openElements.remove(e.headElement);break}case TAG_ID.HEAD:{e._err(t,ERR.misplacedStartTagForHeadElement);break}default:tokenAfterHead(e,t)}}function endTagAfterHead(e,t){switch(t.tagID){case TAG_ID.BODY:case TAG_ID.HTML:case TAG_ID.BR:{tokenAfterHead(e,t);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}default:e._err(t,ERR.endTagWithoutMatchingOpenElement)}}function tokenAfterHead(e,t){e._insertFakeElement(TAG_NAMES.BODY,TAG_ID.BODY),e.insertionMode=InsertionMode.IN_BODY,modeInBody(e,t)}function modeInBody(e,t){switch(t.type){case TokenType.CHARACTER:{characterInBody(e,t);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInBody(e,t);break}case TokenType.COMMENT:{appendComment(e,t);break}case TokenType.START_TAG:{startTagInBody(e,t);break}case TokenType.END_TAG:{endTagInBody(e,t);break}case TokenType.EOF:{eofInBody(e,t);break}}}function whitespaceCharacterInBody(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function characterInBody(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function htmlStartTagInBody(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function bodyStartTagInBody(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function framesetStartTagInBody(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_FRAMESET)}function addressStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML)}function numberedHeaderStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&NUMBERED_HEADERS.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,NS.HTML)}function preStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function formStartTagInBody(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML),n||(e.formElement=e.openElements.current))}function listItemStartTagInBody(e,t){e.framesetOk=!1;const n=t.tagID;for(let i=e.openElements.stackTop;i>=0;i--){const a=e.openElements.tagIDs[i];if(n===TAG_ID.LI&&a===TAG_ID.LI||(n===TAG_ID.DD||n===TAG_ID.DT)&&(a===TAG_ID.DD||a===TAG_ID.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==TAG_ID.ADDRESS&&a!==TAG_ID.DIV&&a!==TAG_ID.P&&e._isSpecialElement(e.openElements.items[i],a))break}e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML)}function plaintextStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML),e.tokenizer.state=TokenizerMode.PLAINTEXT}function buttonStartTagInBody(e,t){e.openElements.hasInScope(TAG_ID.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(TAG_ID.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML),e.framesetOk=!1}function aStartTagInBody(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(TAG_NAMES.A);n&&(callAdoptionAgency(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function bStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function nobrStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(TAG_ID.NOBR)&&(callAdoptionAgency(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,NS.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function appletStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function tableStartTagInBody(e,t){e.treeAdapter.getDocumentMode(e.document)!==DOCUMENT_MODE.QUIRKS&&e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._insertElement(t,NS.HTML),e.framesetOk=!1,e.insertionMode=InsertionMode.IN_TABLE}function areaStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function isHiddenInput(e){const t=getTokenAttr(e,ATTRS.TYPE);return t!=null&&t.toLowerCase()===HIDDEN_INPUT_TYPE}function inputStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,NS.HTML),isHiddenInput(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function paramStartTagInBody(e,t){e._appendElement(t,NS.HTML),t.ackSelfClosing=!0}function hrStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._appendElement(t,NS.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function imageStartTagInBody(e,t){t.tagName=TAG_NAMES.IMG,t.tagID=TAG_ID.IMG,areaStartTagInBody(e,t)}function textareaStartTagInBody(e,t){e._insertElement(t,NS.HTML),e.skipNextNewLine=!0,e.tokenizer.state=TokenizerMode.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=InsertionMode.TEXT}function xmpStartTagInBody(e,t){e.openElements.hasInButtonScope(TAG_ID.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,TokenizerMode.RAWTEXT)}function iframeStartTagInBody(e,t){e.framesetOk=!1,e._switchToTextParsing(t,TokenizerMode.RAWTEXT)}function rawTextStartTagInBody(e,t){e._switchToTextParsing(t,TokenizerMode.RAWTEXT)}function selectStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===InsertionMode.IN_TABLE||e.insertionMode===InsertionMode.IN_CAPTION||e.insertionMode===InsertionMode.IN_TABLE_BODY||e.insertionMode===InsertionMode.IN_ROW||e.insertionMode===InsertionMode.IN_CELL?InsertionMode.IN_SELECT_IN_TABLE:InsertionMode.IN_SELECT}function optgroupStartTagInBody(e,t){e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML)}function rbStartTagInBody(e,t){e.openElements.hasInScope(TAG_ID.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,NS.HTML)}function rtStartTagInBody(e,t){e.openElements.hasInScope(TAG_ID.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.RTC),e._insertElement(t,NS.HTML)}function mathStartTagInBody(e,t){e._reconstructActiveFormattingElements(),adjustTokenMathMLAttrs(t),adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,NS.MATHML):e._insertElement(t,NS.MATHML),t.ackSelfClosing=!0}function svgStartTagInBody(e,t){e._reconstructActiveFormattingElements(),adjustTokenSVGAttrs(t),adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,NS.SVG):e._insertElement(t,NS.SVG),t.ackSelfClosing=!0}function genericStartTagInBody(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,NS.HTML)}function startTagInBody(e,t){switch(t.tagID){case TAG_ID.I:case TAG_ID.S:case TAG_ID.B:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{bStartTagInBody(e,t);break}case TAG_ID.A:{aStartTagInBody(e,t);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderStartTagInBody(e,t);break}case TAG_ID.P:case TAG_ID.DL:case TAG_ID.OL:case TAG_ID.UL:case TAG_ID.DIV:case TAG_ID.DIR:case TAG_ID.NAV:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.DETAILS:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressStartTagInBody(e,t);break}case TAG_ID.LI:case TAG_ID.DD:case TAG_ID.DT:{listItemStartTagInBody(e,t);break}case TAG_ID.BR:case TAG_ID.IMG:case TAG_ID.WBR:case TAG_ID.AREA:case TAG_ID.EMBED:case TAG_ID.KEYGEN:{areaStartTagInBody(e,t);break}case TAG_ID.HR:{hrStartTagInBody(e,t);break}case TAG_ID.RB:case TAG_ID.RTC:{rbStartTagInBody(e,t);break}case TAG_ID.RT:case TAG_ID.RP:{rtStartTagInBody(e,t);break}case TAG_ID.PRE:case TAG_ID.LISTING:{preStartTagInBody(e,t);break}case TAG_ID.XMP:{xmpStartTagInBody(e,t);break}case TAG_ID.SVG:{svgStartTagInBody(e,t);break}case TAG_ID.HTML:{htmlStartTagInBody(e,t);break}case TAG_ID.BASE:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.STYLE:case TAG_ID.TITLE:case TAG_ID.SCRIPT:case TAG_ID.BGSOUND:case TAG_ID.BASEFONT:case TAG_ID.TEMPLATE:{startTagInHead(e,t);break}case TAG_ID.BODY:{bodyStartTagInBody(e,t);break}case TAG_ID.FORM:{formStartTagInBody(e,t);break}case TAG_ID.NOBR:{nobrStartTagInBody(e,t);break}case TAG_ID.MATH:{mathStartTagInBody(e,t);break}case TAG_ID.TABLE:{tableStartTagInBody(e,t);break}case TAG_ID.INPUT:{inputStartTagInBody(e,t);break}case TAG_ID.PARAM:case TAG_ID.TRACK:case TAG_ID.SOURCE:{paramStartTagInBody(e,t);break}case TAG_ID.IMAGE:{imageStartTagInBody(e,t);break}case TAG_ID.BUTTON:{buttonStartTagInBody(e,t);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletStartTagInBody(e,t);break}case TAG_ID.IFRAME:{iframeStartTagInBody(e,t);break}case TAG_ID.SELECT:{selectStartTagInBody(e,t);break}case TAG_ID.OPTION:case TAG_ID.OPTGROUP:{optgroupStartTagInBody(e,t);break}case TAG_ID.NOEMBED:case TAG_ID.NOFRAMES:{rawTextStartTagInBody(e,t);break}case TAG_ID.FRAMESET:{framesetStartTagInBody(e,t);break}case TAG_ID.TEXTAREA:{textareaStartTagInBody(e,t);break}case TAG_ID.NOSCRIPT:{e.options.scriptingEnabled?rawTextStartTagInBody(e,t):genericStartTagInBody(e,t);break}case TAG_ID.PLAINTEXT:{plaintextStartTagInBody(e,t);break}case TAG_ID.COL:case TAG_ID.TH:case TAG_ID.TD:case TAG_ID.TR:case TAG_ID.HEAD:case TAG_ID.FRAME:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.CAPTION:case TAG_ID.COLGROUP:break;default:genericStartTagInBody(e,t)}}function bodyEndTagInBody(e,t){if(e.openElements.hasInScope(TAG_ID.BODY)&&(e.insertionMode=InsertionMode.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function htmlEndTagInBody(e,t){e.openElements.hasInScope(TAG_ID.BODY)&&(e.insertionMode=InsertionMode.AFTER_BODY,endTagAfterBody(e,t))}function addressEndTagInBody(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function formEndTagInBody(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(TAG_ID.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(TAG_ID.FORM):n&&e.openElements.remove(n))}function pEndTagInBody(e){e.openElements.hasInButtonScope(TAG_ID.P)||e._insertFakeElement(TAG_NAMES.P,TAG_ID.P),e._closePElement()}function liEndTagInBody(e){e.openElements.hasInListItemScope(TAG_ID.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(TAG_ID.LI),e.openElements.popUntilTagNamePopped(TAG_ID.LI))}function ddEndTagInBody(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function numberedHeaderEndTagInBody(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function appletEndTagInBody(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function brEndTagInBody(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(TAG_NAMES.BR,TAG_ID.BR),e.openElements.pop(),e.framesetOk=!1}function genericEndTagInBody(e,t){const n=t.tagName,i=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const s=e.openElements.items[a],o=e.openElements.tagIDs[a];if(i===o&&(i!==TAG_ID.UNKNOWN||e.treeAdapter.getTagName(s)===n)){e.openElements.generateImpliedEndTagsWithExclusion(i),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(s,o))break}}function endTagInBody(e,t){switch(t.tagID){case TAG_ID.A:case TAG_ID.B:case TAG_ID.I:case TAG_ID.S:case TAG_ID.U:case TAG_ID.EM:case TAG_ID.TT:case TAG_ID.BIG:case TAG_ID.CODE:case TAG_ID.FONT:case TAG_ID.NOBR:case TAG_ID.SMALL:case TAG_ID.STRIKE:case TAG_ID.STRONG:{callAdoptionAgency(e,t);break}case TAG_ID.P:{pEndTagInBody(e);break}case TAG_ID.DL:case TAG_ID.UL:case TAG_ID.OL:case TAG_ID.DIR:case TAG_ID.DIV:case TAG_ID.NAV:case TAG_ID.PRE:case TAG_ID.MAIN:case TAG_ID.MENU:case TAG_ID.ASIDE:case TAG_ID.BUTTON:case TAG_ID.CENTER:case TAG_ID.FIGURE:case TAG_ID.FOOTER:case TAG_ID.HEADER:case TAG_ID.HGROUP:case TAG_ID.DIALOG:case TAG_ID.ADDRESS:case TAG_ID.ARTICLE:case TAG_ID.DETAILS:case TAG_ID.SEARCH:case TAG_ID.SECTION:case TAG_ID.SUMMARY:case TAG_ID.LISTING:case TAG_ID.FIELDSET:case TAG_ID.BLOCKQUOTE:case TAG_ID.FIGCAPTION:{addressEndTagInBody(e,t);break}case TAG_ID.LI:{liEndTagInBody(e);break}case TAG_ID.DD:case TAG_ID.DT:{ddEndTagInBody(e,t);break}case TAG_ID.H1:case TAG_ID.H2:case TAG_ID.H3:case TAG_ID.H4:case TAG_ID.H5:case TAG_ID.H6:{numberedHeaderEndTagInBody(e);break}case TAG_ID.BR:{brEndTagInBody(e);break}case TAG_ID.BODY:{bodyEndTagInBody(e,t);break}case TAG_ID.HTML:{htmlEndTagInBody(e,t);break}case TAG_ID.FORM:{formEndTagInBody(e);break}case TAG_ID.APPLET:case TAG_ID.OBJECT:case TAG_ID.MARQUEE:{appletEndTagInBody(e,t);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}default:genericEndTagInBody(e,t)}}function eofInBody(e,t){e.tmplInsertionModeStack.length>0?eofInTemplate(e,t):stopParsing(e,t)}function endTagInText(e,t){var n;t.tagID===TAG_ID.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function eofInText(e,t){e._err(t,ERR.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function characterInTable(e,t){if(e.openElements.currentTagId!==void 0&&TABLE_STRUCTURE_TAGS.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=InsertionMode.IN_TABLE_TEXT,t.type){case TokenType.CHARACTER:{characterInTableText(e,t);break}case TokenType.WHITESPACE_CHARACTER:{whitespaceCharacterInTableText(e,t);break}}else tokenInTable(e,t)}function captionStartTagInTable(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_CAPTION}function colgroupStartTagInTable(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_COLUMN_GROUP}function colStartTagInTable(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(TAG_NAMES.COLGROUP,TAG_ID.COLGROUP),e.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(e,t)}function tbodyStartTagInTable(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_TABLE_BODY}function tdStartTagInTable(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(TAG_NAMES.TBODY,TAG_ID.TBODY),e.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(e,t)}function tableStartTagInTable(e,t){e.openElements.hasInTableScope(TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(TAG_ID.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function inputStartTagInTable(e,t){isHiddenInput(t)?e._appendElement(t,NS.HTML):tokenInTable(e,t),t.ackSelfClosing=!0}function formStartTagInTable(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,NS.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function startTagInTable(e,t){switch(t.tagID){case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:{tdStartTagInTable(e,t);break}case TAG_ID.STYLE:case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(e,t);break}case TAG_ID.COL:{colStartTagInTable(e,t);break}case TAG_ID.FORM:{formStartTagInTable(e,t);break}case TAG_ID.TABLE:{tableStartTagInTable(e,t);break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{tbodyStartTagInTable(e,t);break}case TAG_ID.INPUT:{inputStartTagInTable(e,t);break}case TAG_ID.CAPTION:{captionStartTagInTable(e,t);break}case TAG_ID.COLGROUP:{colgroupStartTagInTable(e,t);break}default:tokenInTable(e,t)}}function endTagInTable(e,t){switch(t.tagID){case TAG_ID.TABLE:{e.openElements.hasInTableScope(TAG_ID.TABLE)&&(e.openElements.popUntilTagNamePopped(TAG_ID.TABLE),e._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:tokenInTable(e,t)}}function tokenInTable(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,modeInBody(e,t),e.fosterParentingEnabled=n}function whitespaceCharacterInTableText(e,t){e.pendingCharacterTokens.push(t)}function characterInTableText(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function tokenInTableText(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)tokenInTable(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const TABLE_VOID_ELEMENTS=new Set([TAG_ID.CAPTION,TAG_ID.COL,TAG_ID.COLGROUP,TAG_ID.TBODY,TAG_ID.TD,TAG_ID.TFOOT,TAG_ID.TH,TAG_ID.THEAD,TAG_ID.TR]);function startTagInCaption(e,t){const n=t.tagID;TABLE_VOID_ELEMENTS.has(n)?e.openElements.hasInTableScope(TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=InsertionMode.IN_TABLE,startTagInTable(e,t)):startTagInBody(e,t)}function endTagInCaption(e,t){const n=t.tagID;switch(n){case TAG_ID.CAPTION:case TAG_ID.TABLE:{e.openElements.hasInTableScope(TAG_ID.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(TAG_ID.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=InsertionMode.IN_TABLE,n===TAG_ID.TABLE&&endTagInTable(e,t));break}case TAG_ID.BODY:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TBODY:case TAG_ID.TD:case TAG_ID.TFOOT:case TAG_ID.TH:case TAG_ID.THEAD:case TAG_ID.TR:break;default:endTagInBody(e,t)}}function startTagInColumnGroup(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.COL:{e._appendElement(t,NS.HTML),t.ackSelfClosing=!0;break}case TAG_ID.TEMPLATE:{startTagInHead(e,t);break}default:tokenInColumnGroup(e,t)}}function endTagInColumnGroup(e,t){switch(t.tagID){case TAG_ID.COLGROUP:{e.openElements.currentTagId===TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}case TAG_ID.COL:break;default:tokenInColumnGroup(e,t)}}function tokenInColumnGroup(e,t){e.openElements.currentTagId===TAG_ID.COLGROUP&&(e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE,e._processToken(t))}function startTagInTableBody(e,t){switch(t.tagID){case TAG_ID.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_ROW;break}case TAG_ID.TH:case TAG_ID.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(TAG_NAMES.TR,TAG_ID.TR),e.insertionMode=InsertionMode.IN_ROW,startTagInRow(e,t);break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE,startTagInTable(e,t));break}default:startTagInTable(e,t)}}function endTagInTableBody(e,t){const n=t.tagID;switch(t.tagID){case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE);break}case TAG_ID.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE,endTagInTable(e,t));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:case TAG_ID.TR:break;default:endTagInTable(e,t)}}function startTagInRow(e,t){switch(t.tagID){case TAG_ID.TH:case TAG_ID.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,NS.HTML),e.insertionMode=InsertionMode.IN_CELL,e.activeFormattingElements.insertMarker();break}case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{e.openElements.hasInTableScope(TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(e,t));break}default:startTagInTable(e,t)}}function endTagInRow(e,t){switch(t.tagID){case TAG_ID.TR:{e.openElements.hasInTableScope(TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE_BODY);break}case TAG_ID.TABLE:{e.openElements.hasInTableScope(TAG_ID.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(e,t));break}case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(TAG_ID.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=InsertionMode.IN_TABLE_BODY,endTagInTableBody(e,t));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:case TAG_ID.TD:case TAG_ID.TH:break;default:endTagInTable(e,t)}}function startTagInCell(e,t){const n=t.tagID;TABLE_VOID_ELEMENTS.has(n)?(e.openElements.hasInTableScope(TAG_ID.TD)||e.openElements.hasInTableScope(TAG_ID.TH))&&(e._closeTableCell(),startTagInRow(e,t)):startTagInBody(e,t)}function endTagInCell(e,t){const n=t.tagID;switch(n){case TAG_ID.TD:case TAG_ID.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=InsertionMode.IN_ROW);break}case TAG_ID.TABLE:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:case TAG_ID.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),endTagInRow(e,t));break}case TAG_ID.BODY:case TAG_ID.CAPTION:case TAG_ID.COL:case TAG_ID.COLGROUP:case TAG_ID.HTML:break;default:endTagInBody(e,t)}}function startTagInSelect(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.OPTION:{e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.pop(),e._insertElement(t,NS.HTML);break}case TAG_ID.OPTGROUP:{e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===TAG_ID.OPTGROUP&&e.openElements.pop(),e._insertElement(t,NS.HTML);break}case TAG_ID.HR:{e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.pop(),e.openElements.currentTagId===TAG_ID.OPTGROUP&&e.openElements.pop(),e._appendElement(t,NS.HTML),t.ackSelfClosing=!0;break}case TAG_ID.INPUT:case TAG_ID.KEYGEN:case TAG_ID.TEXTAREA:case TAG_ID.SELECT:{e.openElements.hasInSelectScope(TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(TAG_ID.SELECT),e._resetInsertionMode(),t.tagID!==TAG_ID.SELECT&&e._processStartTag(t));break}case TAG_ID.SCRIPT:case TAG_ID.TEMPLATE:{startTagInHead(e,t);break}}}function endTagInSelect(e,t){switch(t.tagID){case TAG_ID.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===TAG_ID.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===TAG_ID.OPTGROUP&&e.openElements.pop();break}case TAG_ID.OPTION:{e.openElements.currentTagId===TAG_ID.OPTION&&e.openElements.pop();break}case TAG_ID.SELECT:{e.openElements.hasInSelectScope(TAG_ID.SELECT)&&(e.openElements.popUntilTagNamePopped(TAG_ID.SELECT),e._resetInsertionMode());break}case TAG_ID.TEMPLATE:{templateEndTagInHead(e,t);break}}}function startTagInSelectInTable(e,t){const n=t.tagID;n===TAG_ID.CAPTION||n===TAG_ID.TABLE||n===TAG_ID.TBODY||n===TAG_ID.TFOOT||n===TAG_ID.THEAD||n===TAG_ID.TR||n===TAG_ID.TD||n===TAG_ID.TH?(e.openElements.popUntilTagNamePopped(TAG_ID.SELECT),e._resetInsertionMode(),e._processStartTag(t)):startTagInSelect(e,t)}function endTagInSelectInTable(e,t){const n=t.tagID;n===TAG_ID.CAPTION||n===TAG_ID.TABLE||n===TAG_ID.TBODY||n===TAG_ID.TFOOT||n===TAG_ID.THEAD||n===TAG_ID.TR||n===TAG_ID.TD||n===TAG_ID.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(TAG_ID.SELECT),e._resetInsertionMode(),e.onEndTag(t)):endTagInSelect(e,t)}function startTagInTemplate(e,t){switch(t.tagID){case TAG_ID.BASE:case TAG_ID.BASEFONT:case TAG_ID.BGSOUND:case TAG_ID.LINK:case TAG_ID.META:case TAG_ID.NOFRAMES:case TAG_ID.SCRIPT:case TAG_ID.STYLE:case TAG_ID.TEMPLATE:case TAG_ID.TITLE:{startTagInHead(e,t);break}case TAG_ID.CAPTION:case TAG_ID.COLGROUP:case TAG_ID.TBODY:case TAG_ID.TFOOT:case TAG_ID.THEAD:{e.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE,e.insertionMode=InsertionMode.IN_TABLE,startTagInTable(e,t);break}case TAG_ID.COL:{e.tmplInsertionModeStack[0]=InsertionMode.IN_COLUMN_GROUP,e.insertionMode=InsertionMode.IN_COLUMN_GROUP,startTagInColumnGroup(e,t);break}case TAG_ID.TR:{e.tmplInsertionModeStack[0]=InsertionMode.IN_TABLE_BODY,e.insertionMode=InsertionMode.IN_TABLE_BODY,startTagInTableBody(e,t);break}case TAG_ID.TD:case TAG_ID.TH:{e.tmplInsertionModeStack[0]=InsertionMode.IN_ROW,e.insertionMode=InsertionMode.IN_ROW,startTagInRow(e,t);break}default:e.tmplInsertionModeStack[0]=InsertionMode.IN_BODY,e.insertionMode=InsertionMode.IN_BODY,startTagInBody(e,t)}}function endTagInTemplate(e,t){t.tagID===TAG_ID.TEMPLATE&&templateEndTagInHead(e,t)}function eofInTemplate(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(TAG_ID.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):stopParsing(e,t)}function startTagAfterBody(e,t){t.tagID===TAG_ID.HTML?startTagInBody(e,t):tokenAfterBody(e,t)}function endTagAfterBody(e,t){var n;if(t.tagID===TAG_ID.HTML){if(e.fragmentContext||(e.insertionMode=InsertionMode.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===TAG_ID.HTML){e._setEndLocation(e.openElements.items[0],t);const i=e.openElements.items[1];i&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(i))===null||n===void 0)&&n.endTag)&&e._setEndLocation(i,t)}}else tokenAfterBody(e,t)}function tokenAfterBody(e,t){e.insertionMode=InsertionMode.IN_BODY,modeInBody(e,t)}function startTagInFrameset(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.FRAMESET:{e._insertElement(t,NS.HTML);break}case TAG_ID.FRAME:{e._appendElement(t,NS.HTML),t.ackSelfClosing=!0;break}case TAG_ID.NOFRAMES:{startTagInHead(e,t);break}}}function endTagInFrameset(e,t){t.tagID===TAG_ID.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==TAG_ID.FRAMESET&&(e.insertionMode=InsertionMode.AFTER_FRAMESET))}function startTagAfterFrameset(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.NOFRAMES:{startTagInHead(e,t);break}}}function endTagAfterFrameset(e,t){t.tagID===TAG_ID.HTML&&(e.insertionMode=InsertionMode.AFTER_AFTER_FRAMESET)}function startTagAfterAfterBody(e,t){t.tagID===TAG_ID.HTML?startTagInBody(e,t):tokenAfterAfterBody(e,t)}function tokenAfterAfterBody(e,t){e.insertionMode=InsertionMode.IN_BODY,modeInBody(e,t)}function startTagAfterAfterFrameset(e,t){switch(t.tagID){case TAG_ID.HTML:{startTagInBody(e,t);break}case TAG_ID.NOFRAMES:{startTagInHead(e,t);break}}}function nullCharacterInForeignContent(e,t){t.chars=REPLACEMENT_CHARACTER,e._insertCharacters(t)}function characterInForeignContent(e,t){e._insertCharacters(t),e.framesetOk=!1}function popUntilHtmlOrIntegrationPoint(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==NS.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function startTagInForeignContent(e,t){if(causesExit(t))popUntilHtmlOrIntegrationPoint(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),i=e.treeAdapter.getNamespaceURI(n);i===NS.MATHML?adjustTokenMathMLAttrs(t):i===NS.SVG&&(adjustTokenSVGTagName(t),adjustTokenSVGAttrs(t)),adjustTokenXMLAttrs(t),t.selfClosing?e._appendElement(t,i):e._insertElement(t,i),t.ackSelfClosing=!0}}function endTagInForeignContent(e,t){if(t.tagID===TAG_ID.P||t.tagID===TAG_ID.BR){popUntilHtmlOrIntegrationPoint(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const i=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(i)===NS.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(i);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}function getEscaper(e,t){return function(i){let a,s=0,o="";for(;a=e.exec(i);)s!==a.index&&(o+=i.substring(s,a.index)),o+=t.get(a[0].charCodeAt(0)),s=a.index+1;return o+i.substring(s)}}const escapeAttribute=getEscaper(/["&\u00A0]/g,new Map([[34,"&quot;"],[38,"&amp;"],[160,"&nbsp;"]])),escapeText=getEscaper(/[&<>\u00A0]/g,new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[160,"&nbsp;"]])),VOID_ELEMENTS=new Set([TAG_NAMES.AREA,TAG_NAMES.BASE,TAG_NAMES.BASEFONT,TAG_NAMES.BGSOUND,TAG_NAMES.BR,TAG_NAMES.COL,TAG_NAMES.EMBED,TAG_NAMES.FRAME,TAG_NAMES.HR,TAG_NAMES.IMG,TAG_NAMES.INPUT,TAG_NAMES.KEYGEN,TAG_NAMES.LINK,TAG_NAMES.META,TAG_NAMES.PARAM,TAG_NAMES.SOURCE,TAG_NAMES.TRACK,TAG_NAMES.WBR]);function isVoidElement(e,t){return t.treeAdapter.isElementNode(e)&&t.treeAdapter.getNamespaceURI(e)===NS.HTML&&VOID_ELEMENTS.has(t.treeAdapter.getTagName(e))}const defaultOpts={treeAdapter:defaultTreeAdapter,scriptingEnabled:!0};function serializeOuter(e,t){const n={...defaultOpts,...t};return serializeNode(e,n)}function serializeChildNodes(e,t){let n="";const i=t.treeAdapter.isElementNode(e)&&t.treeAdapter.getTagName(e)===TAG_NAMES.TEMPLATE&&t.treeAdapter.getNamespaceURI(e)===NS.HTML?t.treeAdapter.getTemplateContent(e):e,a=t.treeAdapter.getChildNodes(i);if(a)for(const s of a)n+=serializeNode(s,t);return n}function serializeNode(e,t){return t.treeAdapter.isElementNode(e)?serializeElement(e,t):t.treeAdapter.isTextNode(e)?serializeTextNode(e,t):t.treeAdapter.isCommentNode(e)?serializeCommentNode(e,t):t.treeAdapter.isDocumentTypeNode(e)?serializeDocumentTypeNode(e,t):""}function serializeElement(e,t){const n=t.treeAdapter.getTagName(e);return`<${n}${serializeAttributes(e,t)}>${isVoidElement(e,t)?"":`${serializeChildNodes(e,t)}</${n}>`}`}function serializeAttributes(e,{treeAdapter:t}){let n="";for(const i of t.getAttrList(e)){if(n+=" ",i.namespace)switch(i.namespace){case NS.XML:{n+=`xml:${i.name}`;break}case NS.XMLNS:{i.name!=="xmlns"&&(n+="xmlns:"),n+=i.name;break}case NS.XLINK:{n+=`xlink:${i.name}`;break}default:n+=`${i.prefix}:${i.name}`}else n+=i.name;n+=`="${escapeAttribute(i.value)}"`}return n}function serializeTextNode(e,t){const{treeAdapter:n}=t,i=n.getTextNodeContent(e),a=n.getParentNode(e),s=a&&n.isElementNode(a)&&n.getTagName(a);return s&&n.getNamespaceURI(a)===NS.HTML&&hasUnescapedText(s,t.scriptingEnabled)?i:escapeText(i)}function serializeCommentNode(e,{treeAdapter:t}){return`<!--${t.getCommentNodeContent(e)}-->`}function serializeDocumentTypeNode(e,{treeAdapter:t}){return`<!DOCTYPE ${t.getDocumentTypeNodeName(e)}>`}function parse$2(e,t){return Parser.parse(e,t)}function parseFragment(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const i=Parser.getFragmentParser(e,n);return i.tokenizer.write(t,!0),i.getFragment()}function enquoteDoctypeId(e){const t=e.includes('"')?"'":'"';return t+e+t}function serializeDoctypeContent(e,t,n){let i="!DOCTYPE ";return e&&(i+=e),t?i+=` PUBLIC ${enquoteDoctypeId(t)}`:n&&(i+=" SYSTEM"),n&&(i+=` ${enquoteDoctypeId(n)}`),i}const adapter={isCommentNode:isComment,isElementNode:isTag,isTextNode:isText,createDocument(){const e=new Document([]);return e["x-mode"]=DOCUMENT_MODE.NO_QUIRKS,e},createDocumentFragment(){return new Document([])},createElement(e,t,n){const i=Object.create(null),a=Object.create(null),s=Object.create(null);for(let l=0;l<n.length;l++){const m=n[l].name;i[m]=n[l].value,a[m]=n[l].namespace,s[m]=n[l].prefix}const o=new Element(e,i,[]);return o.namespace=t,o["x-attribsNamespace"]=a,o["x-attribsPrefix"]=s,o},createCommentNode(e){return new Comment(e)},createTextNode(e){return new Text(e)},appendChild(e,t){const n=e.children[e.children.length-1];n&&(n.next=t,t.prev=n),e.children.push(t),t.parent=e},insertBefore(e,t,n){const i=e.children.indexOf(n),{prev:a}=n;a&&(a.next=t,t.prev=a),n.prev=t,t.next=n,e.children.splice(i,0,t),t.parent=e},setTemplateContent(e,t){adapter.appendChild(e,t)},getTemplateContent(e){return e.children[0]},setDocumentType(e,t,n,i){const a=serializeDoctypeContent(t,n,i);let s=e.children.find(o=>isDirective(o)&&o.name==="!doctype");s?s.data=a??null:(s=new ProcessingInstruction("!doctype",a),adapter.appendChild(e,s)),s["x-name"]=t,s["x-publicId"]=n,s["x-systemId"]=i},setDocumentMode(e,t){e["x-mode"]=t},getDocumentMode(e){return e["x-mode"]},detachNode(e){if(e.parent){const t=e.parent.children.indexOf(e),{prev:n,next:i}=e;e.prev=null,e.next=null,n&&(n.next=i),i&&(i.prev=n),e.parent.children.splice(t,1),e.parent=null}},insertText(e,t){const n=e.children[e.children.length-1];n&&isText(n)?n.data+=t:adapter.appendChild(e,adapter.createTextNode(t))},insertTextBefore(e,t,n){const i=e.children[e.children.indexOf(n)-1];i&&isText(i)?i.data+=t:adapter.insertBefore(e,adapter.createTextNode(t),n)},adoptAttributes(e,t){for(let n=0;n<t.length;n++){const i=t[n].name;e.attribs[i]===void 0&&(e.attribs[i]=t[n].value,e["x-attribsNamespace"][i]=t[n].namespace,e["x-attribsPrefix"][i]=t[n].prefix)}},getFirstChild(e){return e.children[0]},getChildNodes(e){return e.children},getParentNode(e){return e.parent},getAttrList(e){return e.attributes},getTagName(e){return e.name},getNamespaceURI(e){return e.namespace},getTextNodeContent(e){return e.data},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){var t;return(t=e["x-name"])!==null&&t!==void 0?t:""},getDocumentTypeNodePublicId(e){var t;return(t=e["x-publicId"])!==null&&t!==void 0?t:""},getDocumentTypeNodeSystemId(e){var t;return(t=e["x-systemId"])!==null&&t!==void 0?t:""},isDocumentTypeNode(e){return isDirective(e)&&e.name==="!doctype"},setNodeSourceCodeLocation(e,t){t&&(e.startIndex=t.startOffset,e.endIndex=t.endOffset),e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){t.endOffset!=null&&(e.endIndex=t.endOffset),e.sourceCodeLocation={...e.sourceCodeLocation,...t}}};function parseWithParse5(e,t,n,i){var a;return(a=t.treeAdapter)!==null&&a!==void 0||(t.treeAdapter=adapter),t.scriptingEnabled!==!1&&(t.scriptingEnabled=!0),n?parse$2(e,t):parseFragment(i,e,t)}const renderOpts={treeAdapter:adapter};function renderWithParse5(e){const t="length"in e?e:[e];for(let i=0;i<t.length;i+=1){const a=t[i];isDocument(a)&&Array.prototype.splice.call(t,i,1,...a.children)}let n="";for(let i=0;i<t.length;i+=1){const a=t[i];n+=serializeOuter(a,renderOpts)}return n}const parse$1=getParse((e,t,n,i)=>t._useHtmlParser2?parseDocument(e,t):parseWithParse5(e,t,n,i)),load=getLoad(parse$1,(e,t)=>t._useHtmlParser2?render$1(e,t):renderWithParse5(e));var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(e,t){(function(n,i){e.exports=i()})(dayjs_min,(function(){var n=1e3,i=6e4,a=36e5,s="millisecond",o="second",l="minute",m="hour",_="day",A="week",x="month",N="quarter",I="year",k="date",R="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(O){var Q=["th","st","nd","rd"],fe=O%100;return"["+O+(Q[(fe-20)%10]||Q[fe]||Q[0])+"]"}},H=function(O,Q,fe){var J=String(O);return!J||J.length>=Q?O:""+Array(Q+1-J.length).join(fe)+O},V={s:H,z:function(O){var Q=-O.utcOffset(),fe=Math.abs(Q),J=Math.floor(fe/60),Z=fe%60;return(Q<=0?"+":"-")+H(J,2,"0")+":"+H(Z,2,"0")},m:function O(Q,fe){if(Q.date()<fe.date())return-O(fe,Q);var J=12*(fe.year()-Q.year())+(fe.month()-Q.month()),Z=Q.clone().add(J,x),ue=fe-Z<0,z=Q.clone().add(J+(ue?-1:1),x);return+(-(J+(fe-Z)/(ue?Z-z:z-Z))||0)},a:function(O){return O<0?Math.ceil(O)||0:Math.floor(O)},p:function(O){return{M:x,y:I,w:A,d:_,D:k,h:m,m:l,s:o,ms:s,Q:N}[O]||String(O||"").toLowerCase().replace(/s$/,"")},u:function(O){return O===void 0}},Y="en",ae={};ae[Y]=B;var oe="$isDayjsObject",be=function(O){return O instanceof j||!(!O||!O[oe])},ie=function O(Q,fe,J){var Z;if(!Q)return Y;if(typeof Q=="string"){var ue=Q.toLowerCase();ae[ue]&&(Z=ue),fe&&(ae[ue]=fe,Z=ue);var z=Q.split("-");if(!Z&&z.length>1)return O(z[0])}else{var w=Q.name;ae[w]=Q,Z=w}return!J&&Z&&(Y=Z),Z||!J&&Y},Te=function(O,Q){if(be(O))return O.clone();var fe=typeof Q=="object"?Q:{};return fe.date=O,fe.args=arguments,new j(fe)},Ie=V;Ie.l=ie,Ie.i=be,Ie.w=function(O,Q){return Te(O,{locale:Q.$L,utc:Q.$u,x:Q.$x,$offset:Q.$offset})};var j=(function(){function O(fe){this.$L=ie(fe.locale,null,!0),this.parse(fe),this.$x=this.$x||fe.x||{},this[oe]=!0}var Q=O.prototype;return Q.parse=function(fe){this.$d=(function(J){var Z=J.date,ue=J.utc;if(Z===null)return new Date(NaN);if(Ie.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var z=Z.match(M);if(z){var w=z[2]-1||0,q=(z[7]||"0").substring(0,3);return ue?new Date(Date.UTC(z[1],w,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)):new Date(z[1],w,z[3]||1,z[4]||0,z[5]||0,z[6]||0,q)}}return new Date(Z)})(fe),this.init()},Q.init=function(){var fe=this.$d;this.$y=fe.getFullYear(),this.$M=fe.getMonth(),this.$D=fe.getDate(),this.$W=fe.getDay(),this.$H=fe.getHours(),this.$m=fe.getMinutes(),this.$s=fe.getSeconds(),this.$ms=fe.getMilliseconds()},Q.$utils=function(){return Ie},Q.isValid=function(){return this.$d.toString()!==R},Q.isSame=function(fe,J){var Z=Te(fe);return this.startOf(J)<=Z&&Z<=this.endOf(J)},Q.isAfter=function(fe,J){return Te(fe)<this.startOf(J)},Q.isBefore=function(fe,J){return this.endOf(J)<Te(fe)},Q.$g=function(fe,J,Z){return Ie.u(fe)?this[J]:this.set(Z,fe)},Q.unix=function(){return Math.floor(this.valueOf()/1e3)},Q.valueOf=function(){return this.$d.getTime()},Q.startOf=function(fe,J){var Z=this,ue=!!Ie.u(J)||J,z=Ie.p(fe),w=function(De,ye){var Ne=Ie.w(Z.$u?Date.UTC(Z.$y,ye,De):new Date(Z.$y,ye,De),Z);return ue?Ne:Ne.endOf(_)},q=function(De,ye){return Ie.w(Z.toDate()[De].apply(Z.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(ye)),Z)},ce=this.$W,le=this.$M,ee=this.$D,Ce="set"+(this.$u?"UTC":"");switch(z){case I:return ue?w(1,0):w(31,11);case x:return ue?w(1,le):w(0,le+1);case A:var Se=this.$locale().weekStart||0,Ae=(ce<Se?ce+7:ce)-Se;return w(ue?ee-Ae:ee+(6-Ae),le);case _:case k:return q(Ce+"Hours",0);case m:return q(Ce+"Minutes",1);case l:return q(Ce+"Seconds",2);case o:return q(Ce+"Milliseconds",3);default:return this.clone()}},Q.endOf=function(fe){return this.startOf(fe,!1)},Q.$set=function(fe,J){var Z,ue=Ie.p(fe),z="set"+(this.$u?"UTC":""),w=(Z={},Z[_]=z+"Date",Z[k]=z+"Date",Z[x]=z+"Month",Z[I]=z+"FullYear",Z[m]=z+"Hours",Z[l]=z+"Minutes",Z[o]=z+"Seconds",Z[s]=z+"Milliseconds",Z)[ue],q=ue===_?this.$D+(J-this.$W):J;if(ue===x||ue===I){var ce=this.clone().set(k,1);ce.$d[w](q),ce.init(),this.$d=ce.set(k,Math.min(this.$D,ce.daysInMonth())).$d}else w&&this.$d[w](q);return this.init(),this},Q.set=function(fe,J){return this.clone().$set(fe,J)},Q.get=function(fe){return this[Ie.p(fe)]()},Q.add=function(fe,J){var Z,ue=this;fe=Number(fe);var z=Ie.p(J),w=function(le){var ee=Te(ue);return Ie.w(ee.date(ee.date()+Math.round(le*fe)),ue)};if(z===x)return this.set(x,this.$M+fe);if(z===I)return this.set(I,this.$y+fe);if(z===_)return w(1);if(z===A)return w(7);var q=(Z={},Z[l]=i,Z[m]=a,Z[o]=n,Z)[z]||1,ce=this.$d.getTime()+fe*q;return Ie.w(ce,this)},Q.subtract=function(fe,J){return this.add(-1*fe,J)},Q.format=function(fe){var J=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||R;var ue=fe||"YYYY-MM-DDTHH:mm:ssZ",z=Ie.z(this),w=this.$H,q=this.$m,ce=this.$M,le=Z.weekdays,ee=Z.months,Ce=Z.meridiem,Se=function(ye,Ne,Re,ke){return ye&&(ye[Ne]||ye(J,ue))||Re[Ne].slice(0,ke)},Ae=function(ye){return Ie.s(w%12||12,ye,"0")},De=Ce||function(ye,Ne,Re){var ke=ye<12?"AM":"PM";return Re?ke.toLowerCase():ke};return ue.replace(L,(function(ye,Ne){return Ne||(function(Re){switch(Re){case"YY":return String(J.$y).slice(-2);case"YYYY":return Ie.s(J.$y,4,"0");case"M":return ce+1;case"MM":return Ie.s(ce+1,2,"0");case"MMM":return Se(Z.monthsShort,ce,ee,3);case"MMMM":return Se(ee,ce);case"D":return J.$D;case"DD":return Ie.s(J.$D,2,"0");case"d":return String(J.$W);case"dd":return Se(Z.weekdaysMin,J.$W,le,2);case"ddd":return Se(Z.weekdaysShort,J.$W,le,3);case"dddd":return le[J.$W];case"H":return String(w);case"HH":return Ie.s(w,2,"0");case"h":return Ae(1);case"hh":return Ae(2);case"a":return De(w,q,!0);case"A":return De(w,q,!1);case"m":return String(q);case"mm":return Ie.s(q,2,"0");case"s":return String(J.$s);case"ss":return Ie.s(J.$s,2,"0");case"SSS":return Ie.s(J.$ms,3,"0");case"Z":return z}return null})(ye)||z.replace(":","")}))},Q.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Q.diff=function(fe,J,Z){var ue,z=this,w=Ie.p(J),q=Te(fe),ce=(q.utcOffset()-this.utcOffset())*i,le=this-q,ee=function(){return Ie.m(z,q)};switch(w){case I:ue=ee()/12;break;case x:ue=ee();break;case N:ue=ee()/3;break;case A:ue=(le-ce)/6048e5;break;case _:ue=(le-ce)/864e5;break;case m:ue=le/a;break;case l:ue=le/i;break;case o:ue=le/n;break;default:ue=le}return Z?ue:Ie.a(ue)},Q.daysInMonth=function(){return this.endOf(x).$D},Q.$locale=function(){return ae[this.$L]},Q.locale=function(fe,J){if(!fe)return this.$L;var Z=this.clone(),ue=ie(fe,J,!0);return ue&&(Z.$L=ue),Z},Q.clone=function(){return Ie.w(this.$d,this)},Q.toDate=function(){return new Date(this.valueOf())},Q.toJSON=function(){return this.isValid()?this.toISOString():null},Q.toISOString=function(){return this.$d.toISOString()},Q.toString=function(){return this.$d.toUTCString()},O})(),de=j.prototype;return Te.prototype=de,[["$ms",s],["$s",o],["$m",l],["$H",m],["$W",_],["$M",x],["$y",I],["$D",k]].forEach((function(O){de[O[1]]=function(Q){return this.$g(Q,O[0],O[1])}})),Te.extend=function(O,Q){return O.$i||(O(Q,j,Te),O.$i=!0),Te},Te.locale=ie,Te.isDayjs=be,Te.unix=function(O){return Te(1e3*O)},Te.en=ae[Y],Te.Ls=ae,Te.p={},Te}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const r$1=getDefaultExportFromCjs(dayjs_minExports);function D$1(e){let t=load(e),n=t(".title").text().trim();n||(n=t("title").text().trim()),n||(n="Untitled");let i=t(".content").html()||"",a=t(".content").text().trim()||"",s=[];t(".label").each((I,k)=>{let R=t(k).text().trim();R&&s.push(R)});let o=t(".archived").length>0,l=t(".pinned").length>0,m=t(".trashed").length>0,_=t(".heading").text().trim(),A=S$1(_),x=A,N=[];return t("img").each((I,k)=>{let R=t(k).attr("src");R&&N.push({filePath:R,mimeType:"image/jpeg"})}),{title:n,content:i,textContent:a,tags:s,created:A,updated:x,isArchived:o,isPinned:l,isTrashed:m,attachments:N}}function S$1(e){if(!e)return new Date().toISOString();let t=r$1(e);return t.isValid()?t.toISOString():new Date().toISOString()}function S(e,t={}){let n=`<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export3.dtd">
<en-export export-date="${r$1().format("YYYYMMDDTHHmmssZ")}" application="${t.application||"enex-io"}" version="1.0">`;for(let i of e)n+=`
  <note>
    <title>${d(i.title)}</title>
    <content><![CDATA[<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">
<en-note>${D(i.content)}</en-note>]]></content>
    <created>${p$1(i.created)}</created>
    <updated>${p$1(i.updated)}</updated>
    ${i.tags.map(a=>`<tag>${d(a)}</tag>`).join("")}
  </note>`;return n+=`
</en-export>`,n}function h(e){let t=load(e,{xmlMode:!0}),n=[];return t("note").each((i,a)=>{let s=t(a),o=s.find("title").text()||"Untitled",l=s.find("content").text(),m=/<en-note[^>]*>([\s\S]*)<\/en-note>/.exec(l),_=m&&m[1]?m[1]:"",A=u(s.find("created").text()),x=u(s.find("updated").text()),N=[];s.find("tag").each((I,k)=>{N.push(t(k).text())}),n.push({title:o,content:_,created:A,updated:x,tags:N})}),n}function d(e){return e?e.replace(/[<>&'"]/g,t=>{switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;";default:return t}}):""}function D(e){return e?e.replace(/<br>/g,"<br/>"):""}function p$1(e){return r$1(e).isValid()?r$1(e).format("YYYYMMDDTHHmmssZ"):r$1().format("YYYYMMDDTHHmmssZ")}function u(e){if(!e)return new Date().toISOString();let t=e.replace(/^(\d{4})(\d{2})(\d{2})T(\d{2})(\d{2})(\d{2})Z$/,"$1-$2-$3T$4:$5:$6Z");return r$1(t).isValid()?t:new Date().toISOString()}function extend(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e}function repeat(e,t){return Array(t+1).join(e)}function trimLeadingNewlines(e){return e.replace(/^\n*/,"")}function trimTrailingNewlines(e){for(var t=e.length;t>0&&e[t-1]===`
`;)t--;return e.substring(0,t)}function trimNewlines(e){return trimTrailingNewlines(trimLeadingNewlines(e))}var blockElements=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function isBlock(e){return is(e,blockElements)}var voidElements=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function isVoid(e){return is(e,voidElements)}function hasVoid(e){return has(e,voidElements)}var meaningfulWhenBlankElements=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function isMeaningfulWhenBlank(e){return is(e,meaningfulWhenBlankElements)}function hasMeaningfulWhenBlank(e){return has(e,meaningfulWhenBlankElements)}function is(e,t){return t.indexOf(e.nodeName)>=0}function has(e,t){return e.getElementsByTagName&&t.some(function(n){return e.getElementsByTagName(n).length})}var rules={};rules.paragraph={filter:"p",replacement:function(e){return`

`+e+`

`}};rules.lineBreak={filter:"br",replacement:function(e,t,n){return n.br+`
`}};rules.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,n){var i=Number(t.nodeName.charAt(1));if(n.headingStyle==="setext"&&i<3){var a=repeat(i===1?"=":"-",e.length);return`

`+e+`
`+a+`

`}else return`

`+repeat("#",i)+" "+e+`

`}};rules.blockquote={filter:"blockquote",replacement:function(e){return e=trimNewlines(e).replace(/^/gm,"> "),`

`+e+`

`}};rules.list={filter:["ul","ol"],replacement:function(e,t){var n=t.parentNode;return n.nodeName==="LI"&&n.lastElementChild===t?`
`+e:`

`+e+`

`}};rules.listItem={filter:"li",replacement:function(e,t,n){var i=n.bulletListMarker+"   ",a=t.parentNode;if(a.nodeName==="OL"){var s=a.getAttribute("start"),o=Array.prototype.indexOf.call(a.children,t);i=(s?Number(s)+o:o+1)+".  "}var l=/\n$/.test(e);return e=trimNewlines(e)+(l?`
`:""),e=e.replace(/\n/gm,`
`+" ".repeat(i.length)),i+e+(t.nextSibling?`
`:"")}};rules.indentedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="indented"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){return`

    `+t.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};rules.fencedCodeBlock={filter:function(e,t){return t.codeBlockStyle==="fenced"&&e.nodeName==="PRE"&&e.firstChild&&e.firstChild.nodeName==="CODE"},replacement:function(e,t,n){for(var i=t.firstChild.getAttribute("class")||"",a=(i.match(/language-(\S+)/)||[null,""])[1],s=t.firstChild.textContent,o=n.fence.charAt(0),l=3,m=new RegExp("^"+o+"{3,}","gm"),_;_=m.exec(s);)_[0].length>=l&&(l=_[0].length+1);var A=repeat(o,l);return`

`+A+a+`
`+s.replace(/\n$/,"")+`
`+A+`

`}};rules.horizontalRule={filter:"hr",replacement:function(e,t,n){return`

`+n.hr+`

`}};rules.inlineLink={filter:function(e,t){return t.linkStyle==="inlined"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t){var n=t.getAttribute("href");n&&(n=n.replace(/([()])/g,"\\$1"));var i=cleanAttribute(t.getAttribute("title"));return i&&(i=' "'+i.replace(/"/g,'\\"')+'"'),"["+e+"]("+n+i+")"}};rules.referenceLink={filter:function(e,t){return t.linkStyle==="referenced"&&e.nodeName==="A"&&e.getAttribute("href")},replacement:function(e,t,n){var i=t.getAttribute("href"),a=cleanAttribute(t.getAttribute("title"));a&&(a=' "'+a+'"');var s,o;switch(n.linkReferenceStyle){case"collapsed":s="["+e+"][]",o="["+e+"]: "+i+a;break;case"shortcut":s="["+e+"]",o="["+e+"]: "+i+a;break;default:var l=this.references.length+1;s="["+e+"]["+l+"]",o="["+l+"]: "+i+a}return this.references.push(o),s},references:[],append:function(e){var t="";return this.references.length&&(t=`

`+this.references.join(`
`)+`

`,this.references=[]),t}};rules.emphasis={filter:["em","i"],replacement:function(e,t,n){return e.trim()?n.emDelimiter+e+n.emDelimiter:""}};rules.strong={filter:["strong","b"],replacement:function(e,t,n){return e.trim()?n.strongDelimiter+e+n.strongDelimiter:""}};rules.code={filter:function(e){var t=e.previousSibling||e.nextSibling,n=e.parentNode.nodeName==="PRE"&&!t;return e.nodeName==="CODE"&&!n},replacement:function(e){if(!e)return"";e=e.replace(/\r?\n|\r/g," ");for(var t=/^`|^ .*?[^ ].* $|`$/.test(e)?" ":"",n="`",i=e.match(/`+/gm)||[];i.indexOf(n)!==-1;)n=n+"`";return n+t+e+t+n}};rules.image={filter:"img",replacement:function(e,t){var n=cleanAttribute(t.getAttribute("alt")),i=t.getAttribute("src")||"",a=cleanAttribute(t.getAttribute("title")),s=a?' "'+a+'"':"";return i?"!["+n+"]("+i+s+")":""}};function cleanAttribute(e){return e?e.replace(/(\n+\s*)+/g,`
`):""}function Rules(e){this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[];for(var t in e.rules)this.array.push(e.rules[t])}Rules.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){if(e.isBlank)return this.blankRule;var t;return(t=findRule(this.array,e,this.options))||(t=findRule(this._keep,e,this.options))||(t=findRule(this._remove,e,this.options))?t:this.defaultRule},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};function findRule(e,t,n){for(var i=0;i<e.length;i++){var a=e[i];if(filterValue(a,t,n))return a}}function filterValue(e,t,n){var i=e.filter;if(typeof i=="string"){if(i===t.nodeName.toLowerCase())return!0}else if(Array.isArray(i)){if(i.indexOf(t.nodeName.toLowerCase())>-1)return!0}else if(typeof i=="function"){if(i.call(e,t,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function collapseWhitespace(e){var t=e.element,n=e.isBlock,i=e.isVoid,a=e.isPre||function(x){return x.nodeName==="PRE"};if(!(!t.firstChild||a(t))){for(var s=null,o=!1,l=null,m=next(l,t,a);m!==t;){if(m.nodeType===3||m.nodeType===4){var _=m.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!o&&_[0]===" "&&(_=_.substr(1)),!_){m=remove(m);continue}m.data=_,s=m}else if(m.nodeType===1)n(m)||m.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,o=!1):i(m)||a(m)?(s=null,o=!0):s&&(o=!1);else{m=remove(m);continue}var A=next(l,m,a);l=m,m=A}s&&(s.data=s.data.replace(/ $/,""),s.data||remove(s))}}function remove(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function next(e,t,n){return e&&e.parentNode===t||n(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var root=typeof window<"u"?window:{};function canParseHTMLNatively(){var e=root.DOMParser,t=!1;try{new e().parseFromString("","text/html")&&(t=!0)}catch{}return t}function createHTMLParser(){var e=function(){};return shouldUseActiveX()?e.prototype.parseFromString=function(t){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(t),n.close(),n}:e.prototype.parseFromString=function(t){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(t),n.close(),n},e}function shouldUseActiveX(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch{root.ActiveXObject&&(e=!0)}return e}var HTMLParser=canParseHTMLNatively()?root.DOMParser:createHTMLParser();function RootNode(e,t){var n;if(typeof e=="string"){var i=htmlParser().parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html");n=i.getElementById("turndown-root")}else n=e.cloneNode(!0);return collapseWhitespace({element:n,isBlock,isVoid,isPre:t.preformattedCode?isPreOrCode:null}),n}var _htmlParser;function htmlParser(){return _htmlParser=_htmlParser||new HTMLParser,_htmlParser}function isPreOrCode(e){return e.nodeName==="PRE"||e.nodeName==="CODE"}function Node(e,t){return e.isBlock=isBlock(e),e.isCode=e.nodeName==="CODE"||e.parentNode.isCode,e.isBlank=isBlank(e),e.flankingWhitespace=flankingWhitespace(e,t),e}function isBlank(e){return!isVoid(e)&&!isMeaningfulWhenBlank(e)&&/^\s*$/i.test(e.textContent)&&!hasVoid(e)&&!hasMeaningfulWhenBlank(e)}function flankingWhitespace(e,t){if(e.isBlock||t.preformattedCode&&e.isCode)return{leading:"",trailing:""};var n=edgeWhitespace(e.textContent);return n.leadingAscii&&isFlankedByWhitespace("left",e,t)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&isFlankedByWhitespace("right",e,t)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function edgeWhitespace(e){var t=e.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:t[1],leadingAscii:t[2],leadingNonAscii:t[3],trailing:t[4],trailingNonAscii:t[5],trailingAscii:t[6]}}function isFlankedByWhitespace(e,t,n){var i,a,s;return e==="left"?(i=t.previousSibling,a=/ $/):(i=t.nextSibling,a=/^ /),i&&(i.nodeType===3?s=a.test(i.nodeValue):n.preformattedCode&&i.nodeName==="CODE"?s=!1:i.nodeType===1&&!isBlock(i)&&(s=a.test(i.textContent))),s}var reduce=Array.prototype.reduce,escapes=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function TurndownService(e){if(!(this instanceof TurndownService))return new TurndownService(e);var t={rules,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,i){return i.isBlock?`

`:""},keepReplacement:function(n,i){return i.isBlock?`

`+i.outerHTML+`

`:i.outerHTML},defaultReplacement:function(n,i){return i.isBlock?`

`+n+`

`:n}};this.options=extend({},t,e),this.rules=new Rules(this.options)}TurndownService.prototype={turndown:function(e){if(!canConvert(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(e==="")return"";var t=process$1.call(this,new RootNode(e,this.options));return postProcess.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else if(typeof e=="function")e(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return escapes.reduce(function(t,n){return t.replace(n[0],n[1])},e)}};function process$1(e){var t=this;return reduce.call(e.childNodes,function(n,i){i=new Node(i,t.options);var a="";return i.nodeType===3?a=i.isCode?i.nodeValue:t.escape(i.nodeValue):i.nodeType===1&&(a=replacementForNode.call(t,i)),join(n,a)},"")}function postProcess(e){var t=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(e=join(e,n.append(t.options)))}),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function replacementForNode(e){var t=this.rules.forNode(e),n=process$1.call(this,e),i=e.flankingWhitespace;return(i.leading||i.trailing)&&(n=n.trim()),i.leading+t.replacement(n,e,this.options)+i.trailing}function join(e,t){var n=trimTrailingNewlines(e),i=trimLeadingNewlines(t),a=Math.max(e.length-n.length,t.length-i.length),s=`

`.substring(0,a);return n+s+i}function canConvert(e){return e!=null&&(typeof e=="string"||e.nodeType&&(e.nodeType===1||e.nodeType===9||e.nodeType===11))}function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let _defaults=_getDefaults();function changeDefaults(e){_defaults=e}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=e=>escapeReplacements[e];function escape$1(e,t){if(t){if(escapeTest.test(e))return e.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(e))return e.replace(escapeReplaceNoEncode,getEscapeReplacement);return e}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape(e){return e.replace(unescapeTest,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const caret=/(^|[^\[])\^/g;function edit(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const i={replace:(a,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(caret,"$1"),n=n.replace(a,o),i},getRegex:()=>new RegExp(n,t)};return i}function cleanUrl(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const noopTest={exec:()=>null};function splitCells(e,t){const n=e.replace(/\|/g,(s,o,l)=>{let m=!1,_=o;for(;--_>=0&&l[_]==="\\";)m=!m;return m?"|":" |"}),i=n.split(/ \|/);let a=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;a<i.length;a++)i[a]=i[a].trim().replace(/\\\|/g,"|");return i}function rtrim(e,t,n){const i=e.length;if(i===0)return"";let a=0;for(;a<i&&e.charAt(i-a-1)===t;)a++;return e.slice(0,i-a)}function findClosingBracket(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}function outputLink(e,t,n,i){const a=t.href,s=t.title?escape$1(t.title):null,o=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const l={type:"link",raw:n,href:a,title:s,text:o,tokens:i.inlineTokens(o)};return i.state.inLink=!1,l}return{type:"image",raw:n,href:a,title:s,text:escape$1(o)}}function indentCodeCompensation(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(a=>{const s=a.match(/^\s+/);if(s===null)return a;const[o]=s;return o.length>=i.length?a.slice(i.length):a}).join(`
`)}class _Tokenizer{options;rules;lexer;constructor(t){this.options=t||_defaults}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const i=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:rtrim(i,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const i=n[0],a=indentCodeCompensation(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:a}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(/#$/.test(i)){const a=rtrim(i,"#");(this.options.pedantic||!a||/ $/.test(a))&&(i=a.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:n[0]}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){const i=rtrim(n[0].replace(/^ *>[ \t]?/gm,""),`
`),a=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(i);return this.lexer.state.top=a,{type:"blockquote",raw:n[0],tokens:s,text:i}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim();const a=i.length>1,s={type:"list",raw:"",ordered:a,start:a?+i.slice(0,-1):"",loose:!1,items:[]};i=a?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=a?i:"[*+-]");const o=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",m="",_=!1;for(;t;){let A=!1;if(!(n=o.exec(t))||this.rules.block.hr.test(t))break;l=n[0],t=t.substring(l.length);let x=n[2].split(`
`,1)[0].replace(/^\t+/,L=>" ".repeat(3*L.length)),N=t.split(`
`,1)[0],I=0;this.options.pedantic?(I=2,m=x.trimStart()):(I=n[2].search(/[^ ]/),I=I>4?1:I,m=x.slice(I),I+=n[1].length);let k=!1;if(!x&&/^ *$/.test(N)&&(l+=N+`
`,t=t.substring(N.length+1),A=!0),!A){const L=new RegExp(`^ {0,${Math.min(3,I-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),B=new RegExp(`^ {0,${Math.min(3,I-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),H=new RegExp(`^ {0,${Math.min(3,I-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,I-1)}}#`);for(;t;){const Y=t.split(`
`,1)[0];if(N=Y,this.options.pedantic&&(N=N.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),H.test(N)||V.test(N)||L.test(N)||B.test(t))break;if(N.search(/[^ ]/)>=I||!N.trim())m+=`
`+N.slice(I);else{if(k||x.search(/[^ ]/)>=4||H.test(x)||V.test(x)||B.test(x))break;m+=`
`+N}!k&&!N.trim()&&(k=!0),l+=Y+`
`,t=t.substring(Y.length+1),x=N.slice(I)}}s.loose||(_?s.loose=!0:/\n *\n *$/.test(l)&&(_=!0));let R=null,M;this.options.gfm&&(R=/^\[[ xX]\] /.exec(m),R&&(M=R[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:l,task:!!R,checked:M,loose:!1,text:m,tokens:[]}),s.raw+=l}s.items[s.items.length-1].raw=l.trimEnd(),s.items[s.items.length-1].text=m.trimEnd(),s.raw=s.raw.trimEnd();for(let A=0;A<s.items.length;A++)if(this.lexer.state.top=!1,s.items[A].tokens=this.lexer.blockTokens(s.items[A].text,[]),!s.loose){const x=s.items[A].tokens.filter(I=>I.type==="space"),N=x.length>0&&x.some(I=>/\n.*\n/.test(I.raw));s.loose=N}if(s.loose)for(let A=0;A<s.items.length;A++)s.items[A].loose=!0;return s}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),a=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:a,title:s}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const i=splitCells(n[1]),a=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===a.length){for(const l of a)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of i)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of s)o.rows.push(splitCells(l,o.header.length).map(m=>({text:m,tokens:this.lexer.inline(m)})));return o}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:escape$1(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=rtrim(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=findClosingBracket(n[2],"()");if(o>-1){const m=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,m).trim(),n[3]=""}}let a=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(a);o&&(a=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return a=a.trim(),/^</.test(a)&&(this.options.pedantic&&!/>$/.test(i)?a=a.slice(1):a=a.slice(1,-1)),outputLink(n,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){const a=(i[2]||i[1]).replace(/\s+/g," "),s=n[a.toLowerCase()];if(!s){const o=i[0].charAt(0);return{type:"text",raw:o,text:o}}return outputLink(i,s,i[0],this.lexer)}}emStrong(t,n,i=""){let a=this.rules.inline.emStrongLDelim.exec(t);if(!a||a[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(a[1]||a[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const o=[...a[0]].length-1;let l,m,_=o,A=0;const x=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(x.lastIndex=0,n=n.slice(-1*t.length+o);(a=x.exec(n))!=null;){if(l=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!l)continue;if(m=[...l].length,a[3]||a[4]){_+=m;continue}else if((a[5]||a[6])&&o%3&&!((o+m)%3)){A+=m;continue}if(_-=m,_>0)continue;m=Math.min(m,m+_+A);const N=[...a[0]][0].length,I=t.slice(0,o+a.index+N+m);if(Math.min(o,m)%2){const R=I.slice(1,-1);return{type:"em",raw:I,text:R,tokens:this.lexer.inlineTokens(R)}}const k=I.slice(2,-2);return{type:"strong",raw:I,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(/\n/g," ");const a=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return a&&s&&(i=i.substring(1,i.length-1)),i=escape$1(i,!0),{type:"codespan",raw:n[0],text:i}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let i,a;return n[2]==="@"?(i=escape$1(n[1]),a="mailto:"+i):(i=escape$1(n[1]),a=i),{type:"link",raw:n[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let n;if(n=this.rules.inline.url.exec(t)){let i,a;if(n[2]==="@")i=escape$1(n[0]),a="mailto:"+i;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);i=escape$1(n[0]),n[1]==="www."?a="http://"+n[0]:a=n[0]}return{type:"link",raw:n[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let i;return this.lexer.state.inRawBlock?i=n[0]:i=escape$1(n[0]),{type:"text",raw:n[0],text:i}}}}const newline=/^(?: *(?:\n|$))+/,blockCode=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheading=edit(/^(?!bull )((?:.|\n(?!\s*?\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,bullet).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,blockText=/^[^\n]+/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockquote=edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),blockNormal={blockquote,code:blockCode,def,fences,heading,hr,html,lheading,list,newline,paragraph,table:noopTest,text:blockText},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},escape=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,inlineCode=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br=/^( {2,}|\\)\n(?!\s*$)/,inlineText=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,_punctuation="\\p{P}$+<=>`^|~",punctuation=edit(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,_punctuation).getRegex(),blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,emStrongLDelim=edit(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAst=edit("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,_punctuation).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\([punct])/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:-->|$)","-->").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,link=edit(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),reflinkSearch=edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip,br,code:inlineCode,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape,link,nolink,punctuation,reflink,reflinkSearch,tag,text:inlineText,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,escape:edit(escape).replace("])","~|])").getRegex(),url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic};class _Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:block.normal,inline:inline.normal};this.options.pedantic?(n.block=block.pedantic,n.inline=inline.pedantic):this.options.gfm&&(n.block=block.gfm,this.options.breaks?n.inline=inline.breaks:n.inline=inline.gfm),this.tokenizer.rules=n}static get rules(){return{block,inline}}static lex(t,n){return new _Lexer(n).lex(t)}static lexInline(t,n){return new _Lexer(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(l,m,_)=>m+"    ".repeat(_.length));let i,a,s,o;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(i=l.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(t)){t=t.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(t)){t=t.substring(i.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i);continue}if(i=this.tokenizer.fences(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(t)){t=t.substring(i.raw.length),a=n[n.length-1],a&&(a.type==="paragraph"||a.type==="text")?(a.raw+=`
`+i.raw,a.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=a.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(t)){t=t.substring(i.raw.length),n.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const m=t.slice(1);let _;this.options.extensions.startBlock.forEach(A=>{_=A.call({lexer:this},m),typeof _=="number"&&_>=0&&(l=Math.min(l,_))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){a=n[n.length-1],o&&a.type==="paragraph"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i),o=s.length!==t.length,t=t.substring(i.raw.length);continue}if(i=this.tokenizer.text(t)){t=t.substring(i.raw.length),a=n[n.length-1],a&&a.type==="text"?(a.raw+=`
`+i.raw,a.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=a.text):n.push(i);continue}if(t){const l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i,a,s,o=t,l,m,_;if(this.tokens.links){const A=Object.keys(this.tokens.links);if(A.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)A.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(m||(_=""),m=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(A=>(i=A.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),a=n[n.length-1],a&&i.type==="text"&&a.type==="text"?(a.raw+=i.raw,a.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),a=n[n.length-1],a&&i.type==="text"&&a.type==="text"?(a.raw+=i.raw,a.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(t,o,_)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(t)){t=t.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t))){t=t.substring(i.raw.length),n.push(i);continue}if(s=t,this.options.extensions&&this.options.extensions.startInline){let A=1/0;const x=t.slice(1);let N;this.options.extensions.startInline.forEach(I=>{N=I.call({lexer:this},x),typeof N=="number"&&N>=0&&(A=Math.min(A,N))}),A<1/0&&A>=0&&(s=t.substring(0,A+1))}if(i=this.tokenizer.inlineText(s)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(_=i.raw.slice(-1)),m=!0,a=n[n.length-1],a&&a.type==="text"?(a.raw+=i.raw,a.text+=i.text):n.push(i);continue}if(t){const A="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(A);break}else throw new Error(A)}}return n}}class _Renderer{options;constructor(t){this.options=t||_defaults}code(t,n,i){const a=(n||"").match(/^\S*/)?.[0];return t=t.replace(/\n$/,"")+`
`,a?'<pre><code class="language-'+escape$1(a)+'">'+(i?t:escape$1(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:escape$1(t,!0))+`</code></pre>
`}blockquote(t){return`<blockquote>
${t}</blockquote>
`}html(t,n){return t}heading(t,n,i){return`<h${n}>${t}</h${n}>
`}hr(){return`<hr>
`}list(t,n,i){const a=n?"ol":"ul",s=n&&i!==1?' start="'+i+'"':"";return"<"+a+s+`>
`+t+"</"+a+`>
`}listitem(t,n,i){return`<li>${t}</li>
`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(t){return`<p>${t}</p>
`}table(t,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+n+`</table>
`}tablerow(t){return`<tr>
${t}</tr>
`}tablecell(t,n){const i=n.header?"th":"td";return(n.align?`<${i} align="${n.align}">`:`<${i}>`)+t+`</${i}>
`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return"<br>"}del(t){return`<del>${t}</del>`}link(t,n,i){const a=cleanUrl(t);if(a===null)return i;t=a;let s='<a href="'+t+'"';return n&&(s+=' title="'+n+'"'),s+=">"+i+"</a>",s}image(t,n,i){const a=cleanUrl(t);if(a===null)return i;t=a;let s=`<img src="${t}" alt="${i}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(t){return t}}class _TextRenderer{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,n,i){return""+i}image(t,n,i){return""+i}br(){return""}}class _Parser{options;renderer;textRenderer;constructor(t){this.options=t||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer}static parse(t,n){return new _Parser(n).parse(t)}static parseInline(t,n){return new _Parser(n).parseInline(t)}parse(t,n=!0){let i="";for(let a=0;a<t.length;a++){const s=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=s,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){i+=l||"";continue}}switch(s.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{const o=s;i+=this.renderer.heading(this.parseInline(o.tokens),o.depth,unescape(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=s;i+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=s;let l="",m="";for(let A=0;A<o.header.length;A++)m+=this.renderer.tablecell(this.parseInline(o.header[A].tokens),{header:!0,align:o.align[A]});l+=this.renderer.tablerow(m);let _="";for(let A=0;A<o.rows.length;A++){const x=o.rows[A];m="";for(let N=0;N<x.length;N++)m+=this.renderer.tablecell(this.parseInline(x[N].tokens),{header:!1,align:o.align[N]});_+=this.renderer.tablerow(m)}i+=this.renderer.table(l,_);continue}case"blockquote":{const o=s,l=this.parse(o.tokens);i+=this.renderer.blockquote(l);continue}case"list":{const o=s,l=o.ordered,m=o.start,_=o.loose;let A="";for(let x=0;x<o.items.length;x++){const N=o.items[x],I=N.checked,k=N.task;let R="";if(N.task){const M=this.renderer.checkbox(!!I);_?N.tokens.length>0&&N.tokens[0].type==="paragraph"?(N.tokens[0].text=M+" "+N.tokens[0].text,N.tokens[0].tokens&&N.tokens[0].tokens.length>0&&N.tokens[0].tokens[0].type==="text"&&(N.tokens[0].tokens[0].text=M+" "+N.tokens[0].tokens[0].text)):N.tokens.unshift({type:"text",text:M+" "}):R+=M+" "}R+=this.parse(N.tokens,_),A+=this.renderer.listitem(R,k,!!I)}i+=this.renderer.list(A,l,m);continue}case"html":{const o=s;i+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=s;i+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,l=o.tokens?this.parseInline(o.tokens):o.text;for(;a+1<t.length&&t[a+1].type==="text";)o=t[++a],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);i+=n?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}parseInline(t,n){n=n||this.renderer;let i="";for(let a=0;a<t.length;a++){const s=t[a];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=o||"";continue}}switch(s.type){case"escape":{const o=s;i+=n.text(o.text);break}case"html":{const o=s;i+=n.html(o.text);break}case"link":{const o=s;i+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=s;i+=n.image(o.href,o.title,o.text);break}case"strong":{const o=s;i+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=s;i+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=s;i+=n.codespan(o.text);break}case"br":{i+=n.br();break}case"del":{const o=s;i+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=s;i+=n.text(o.text);break}default:{const o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return i}}class _Hooks{options;constructor(t){this.options=t||_defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}}class Marked{defaults=_getDefaults();options=this.setOptions;parse=this.#e(_Lexer.lex,_Parser.parse);parseInline=this.#e(_Lexer.lexInline,_Parser.parseInline);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...t){this.use(...t)}walkTokens(t,n){let i=[];for(const a of t)switch(i=i.concat(n.call(this,a)),a.type){case"table":{const s=a;for(const o of s.header)i=i.concat(this.walkTokens(o.tokens,n));for(const o of s.rows)for(const l of o)i=i.concat(this.walkTokens(l.tokens,n));break}case"list":{const s=a;i=i.concat(this.walkTokens(s.items,n));break}default:{const s=a;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{const l=s[o].flat(1/0);i=i.concat(this.walkTokens(l,n))}):s.tokens&&(i=i.concat(this.walkTokens(s.tokens,n)))}}return i}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{const a={...i};if(a.async=this.defaults.async||a.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...l){let m=s.renderer.apply(this,l);return m===!1&&(m=o.apply(this,l)),m}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),a.extensions=n),i.renderer){const s=this.defaults.renderer||new _Renderer(this.defaults);for(const o in i.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,m=i.renderer[l],_=s[l];s[l]=(...A)=>{let x=m.apply(s,A);return x===!1&&(x=_.apply(s,A)),x||""}}a.renderer=s}if(i.tokenizer){const s=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const o in i.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,m=i.tokenizer[l],_=s[l];s[l]=(...A)=>{let x=m.apply(s,A);return x===!1&&(x=_.apply(s,A)),x}}a.tokenizer=s}if(i.hooks){const s=this.defaults.hooks||new _Hooks;for(const o in i.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,m=i.hooks[l],_=s[l];_Hooks.passThroughHooks.has(o)?s[l]=A=>{if(this.defaults.async)return Promise.resolve(m.call(s,A)).then(N=>_.call(s,N));const x=m.call(s,A);return _.call(s,x)}:s[l]=(...A)=>{let x=m.apply(s,A);return x===!1&&(x=_.apply(s,A)),x}}a.hooks=s}if(i.walkTokens){const s=this.defaults.walkTokens,o=i.walkTokens;a.walkTokens=function(l){let m=[];return m.push(o.call(this,l)),s&&(m=m.concat(s.call(this,l))),m}}this.defaults={...this.defaults,...a}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return _Lexer.lex(t,n??this.defaults)}parser(t,n){return _Parser.parse(t,n??this.defaults)}#e(t,n){return(i,a)=>{const s={...a},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=this.#t(!!o.silent,!!o.async);if(typeof i>"u"||i===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(m=>t(m,o)).then(m=>o.hooks?o.hooks.processAllTokens(m):m).then(m=>o.walkTokens?Promise.all(this.walkTokens(m,o.walkTokens)).then(()=>m):m).then(m=>n(m,o)).then(m=>o.hooks?o.hooks.postprocess(m):m).catch(l);try{o.hooks&&(i=o.hooks.preprocess(i));let m=t(i,o);o.hooks&&(m=o.hooks.processAllTokens(m)),o.walkTokens&&this.walkTokens(m,o.walkTokens);let _=n(m,o);return o.hooks&&(_=o.hooks.postprocess(_)),_}catch(m){return l(m)}}}#t(t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const a="<p>An error occurred:</p><pre>"+escape$1(i.message+"",!0)+"</pre>";return n?Promise.resolve(a):a}if(n)return Promise.reject(i);throw i}}}const markedInstance=new Marked;function marked(e,t){return markedInstance.parse(e,t)}marked.options=marked.setOptions=function(e){return markedInstance.setOptions(e),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...e){return markedInstance.use(...e),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(e,t){return markedInstance.walkTokens(e,t)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var kindOf,hasRequiredKindOf;function requireKindOf(){if(hasRequiredKindOf)return kindOf;hasRequiredKindOf=1;var e=Object.prototype.toString;kindOf=function(x){if(x===void 0)return"undefined";if(x===null)return"null";var N=typeof x;if(N==="boolean")return"boolean";if(N==="string")return"string";if(N==="number")return"number";if(N==="symbol")return"symbol";if(N==="function")return o(x)?"generatorfunction":"function";if(n(x))return"array";if(_(x))return"buffer";if(m(x))return"arguments";if(a(x))return"date";if(i(x))return"error";if(s(x))return"regexp";switch(t(x)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(l(x))return"generator";switch(N=e.call(x),N){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return N.slice(8,-1).toLowerCase().replace(/\s/g,"")};function t(A){return typeof A.constructor=="function"?A.constructor.name:null}function n(A){return Array.isArray?Array.isArray(A):A instanceof Array}function i(A){return A instanceof Error||typeof A.message=="string"&&A.constructor&&typeof A.constructor.stackTraceLimit=="number"}function a(A){return A instanceof Date?!0:typeof A.toDateString=="function"&&typeof A.getDate=="function"&&typeof A.setDate=="function"}function s(A){return A instanceof RegExp?!0:typeof A.flags=="string"&&typeof A.ignoreCase=="boolean"&&typeof A.multiline=="boolean"&&typeof A.global=="boolean"}function o(A,x){return t(A)==="GeneratorFunction"}function l(A){return typeof A.throw=="function"&&typeof A.return=="function"&&typeof A.next=="function"}function m(A){try{if(typeof A.length=="number"&&typeof A.callee=="function")return!0}catch(x){if(x.message.indexOf("callee")!==-1)return!0}return!1}function _(A){return A.constructor&&typeof A.constructor.isBuffer=="function"?A.constructor.isBuffer(A):!1}return kindOf}var isExtendable,hasRequiredIsExtendable;function requireIsExtendable(){return hasRequiredIsExtendable||(hasRequiredIsExtendable=1,isExtendable=function(t){return typeof t<"u"&&t!==null&&(typeof t=="object"||typeof t=="function")}),isExtendable}var extendShallow,hasRequiredExtendShallow;function requireExtendShallow(){if(hasRequiredExtendShallow)return extendShallow;hasRequiredExtendShallow=1;var e=requireIsExtendable();extendShallow=function(a){e(a)||(a={});for(var s=arguments.length,o=1;o<s;o++){var l=arguments[o];e(l)&&t(a,l)}return a};function t(i,a){for(var s in a)n(a,s)&&(i[s]=a[s])}function n(i,a){return Object.prototype.hasOwnProperty.call(i,a)}return extendShallow}var sectionMatter,hasRequiredSectionMatter;function requireSectionMatter(){if(hasRequiredSectionMatter)return sectionMatter;hasRequiredSectionMatter=1;var e=requireKindOf(),t=requireExtendShallow();sectionMatter=function(m,_){typeof _=="function"&&(_={parse:_});var A=i(m),x={section_delimiter:"---",parse:o},N=t({},x,_),I=N.section_delimiter,k=A.content.split(/\r?\n/),R=null,M=s(),L=[],B=[];function H(ie){A.content=ie,R=[],L=[]}function V(ie){B.length&&(M.key=a(B[0],I),M.content=ie,N.parse(M,R),R.push(M),M=s(),L=[],B=[])}for(var Y=0;Y<k.length;Y++){var ae=k[Y],oe=B.length,be=ae.trim();if(n(be,I)){if(be.length===3&&Y!==0){if(oe===0||oe===2){L.push(ae);continue}B.push(be),M.data=L.join(`
`),L=[];continue}R===null&&H(L.join(`
`)),oe===2&&V(L.join(`
`)),B.push(be);continue}L.push(ae)}return R===null?H(L.join(`
`)):V(L.join(`
`)),A.sections=R,A};function n(m,_){return!(m.slice(0,_.length)!==_||m.charAt(_.length+1)===_.slice(-1))}function i(m){if(e(m)!=="object"&&(m={content:m}),typeof m.content!="string"&&!l(m.content))throw new TypeError("expected a buffer or string");return m.content=m.content.toString(),m.sections=[],m}function a(m,_){return m?m.slice(_.length).trim():""}function s(){return{key:"",data:"",content:""}}function o(m){return m}function l(m){return m&&m.constructor&&typeof m.constructor.isBuffer=="function"?m.constructor.isBuffer(m):!1}return sectionMatter}var engines={exports:{}},jsYaml$1={},loader={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;function e(o){return typeof o>"u"||o===null}function t(o){return typeof o=="object"&&o!==null}function n(o){return Array.isArray(o)?o:e(o)?[]:[o]}function i(o,l){var m,_,A,x;if(l)for(x=Object.keys(l),m=0,_=x.length;m<_;m+=1)A=x[m],o[A]=l[A];return o}function a(o,l){var m="",_;for(_=0;_<l;_+=1)m+=o;return m}function s(o){return o===0&&Number.NEGATIVE_INFINITY===1/o}return common.isNothing=e,common.isObject=t,common.toArray=n,common.repeat=a,common.isNegativeZero=s,common.extend=i,common}var exception,hasRequiredException;function requireException(){if(hasRequiredException)return exception;hasRequiredException=1;function e(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.prototype.toString=function(n){var i=this.name+": ";return i+=this.reason||"(unknown reason)",!n&&this.mark&&(i+=" "+this.mark.toString()),i},exception=e,exception}var mark,hasRequiredMark;function requireMark(){if(hasRequiredMark)return mark;hasRequiredMark=1;var e=requireCommon();function t(n,i,a,s,o){this.name=n,this.buffer=i,this.position=a,this.line=s,this.column=o}return t.prototype.getSnippet=function(i,a){var s,o,l,m,_;if(!this.buffer)return null;for(i=i||4,a=a||75,s="",o=this.position;o>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(o-1))===-1;)if(o-=1,this.position-o>a/2-1){s=" ... ",o+=5;break}for(l="",m=this.position;m<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(m))===-1;)if(m+=1,m-this.position>a/2-1){l=" ... ",m-=5;break}return _=this.buffer.slice(o,m),e.repeat(" ",i)+s+_+l+`
`+e.repeat(" ",i+this.position-o+s.length)+"^"},t.prototype.toString=function(i){var a,s="";return this.name&&(s+='in "'+this.name+'" '),s+="at line "+(this.line+1)+", column "+(this.column+1),i||(a=this.getSnippet(),a&&(s+=`:
`+a)),s},mark=t,mark}var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1;var e=requireException(),t=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],n=["scalar","sequence","mapping"];function i(s){var o={};return s!==null&&Object.keys(s).forEach(function(l){s[l].forEach(function(m){o[String(m)]=l})}),o}function a(s,o){if(o=o||{},Object.keys(o).forEach(function(l){if(t.indexOf(l)===-1)throw new e('Unknown option "'+l+'" is met in definition of "'+s+'" YAML type.')}),this.tag=s,this.kind=o.kind||null,this.resolve=o.resolve||function(){return!0},this.construct=o.construct||function(l){return l},this.instanceOf=o.instanceOf||null,this.predicate=o.predicate||null,this.represent=o.represent||null,this.defaultStyle=o.defaultStyle||null,this.styleAliases=i(o.styleAliases||null),n.indexOf(this.kind)===-1)throw new e('Unknown kind "'+this.kind+'" is specified for "'+s+'" YAML type.')}return type=a,type}var schema,hasRequiredSchema;function requireSchema(){if(hasRequiredSchema)return schema;hasRequiredSchema=1;var e=requireCommon(),t=requireException(),n=requireType();function i(o,l,m){var _=[];return o.include.forEach(function(A){m=i(A,l,m)}),o[l].forEach(function(A){m.forEach(function(x,N){x.tag===A.tag&&x.kind===A.kind&&_.push(N)}),m.push(A)}),m.filter(function(A,x){return _.indexOf(x)===-1})}function a(){var o={scalar:{},sequence:{},mapping:{},fallback:{}},l,m;function _(A){o[A.kind][A.tag]=o.fallback[A.tag]=A}for(l=0,m=arguments.length;l<m;l+=1)arguments[l].forEach(_);return o}function s(o){this.include=o.include||[],this.implicit=o.implicit||[],this.explicit=o.explicit||[],this.implicit.forEach(function(l){if(l.loadKind&&l.loadKind!=="scalar")throw new t("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=i(this,"implicit",[]),this.compiledExplicit=i(this,"explicit",[]),this.compiledTypeMap=a(this.compiledImplicit,this.compiledExplicit)}return s.DEFAULT=null,s.create=function(){var l,m;switch(arguments.length){case 1:l=s.DEFAULT,m=arguments[0];break;case 2:l=arguments[0],m=arguments[1];break;default:throw new t("Wrong number of arguments for Schema.create function")}if(l=e.toArray(l),m=e.toArray(m),!l.every(function(_){return _ instanceof s}))throw new t("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!m.every(function(_){return _ instanceof n}))throw new t("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new s({include:l,explicit:m})},schema=s,schema}var str,hasRequiredStr;function requireStr(){if(hasRequiredStr)return str;hasRequiredStr=1;var e=requireType();return str=new e("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),str}var seq,hasRequiredSeq;function requireSeq(){if(hasRequiredSeq)return seq;hasRequiredSeq=1;var e=requireType();return seq=new e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),seq}var map,hasRequiredMap;function requireMap(){if(hasRequiredMap)return map;hasRequiredMap=1;var e=requireType();return map=new e("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),map}var failsafe,hasRequiredFailsafe;function requireFailsafe(){if(hasRequiredFailsafe)return failsafe;hasRequiredFailsafe=1;var e=requireSchema();return failsafe=new e({explicit:[requireStr(),requireSeq(),requireMap()]}),failsafe}var _null,hasRequired_null;function require_null(){if(hasRequired_null)return _null;hasRequired_null=1;var e=requireType();function t(a){if(a===null)return!0;var s=a.length;return s===1&&a==="~"||s===4&&(a==="null"||a==="Null"||a==="NULL")}function n(){return null}function i(a){return a===null}return _null=new e("tag:yaml.org,2002:null",{kind:"scalar",resolve:t,construct:n,predicate:i,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),_null}var bool,hasRequiredBool;function requireBool(){if(hasRequiredBool)return bool;hasRequiredBool=1;var e=requireType();function t(a){if(a===null)return!1;var s=a.length;return s===4&&(a==="true"||a==="True"||a==="TRUE")||s===5&&(a==="false"||a==="False"||a==="FALSE")}function n(a){return a==="true"||a==="True"||a==="TRUE"}function i(a){return Object.prototype.toString.call(a)==="[object Boolean]"}return bool=new e("tag:yaml.org,2002:bool",{kind:"scalar",resolve:t,construct:n,predicate:i,represent:{lowercase:function(a){return a?"true":"false"},uppercase:function(a){return a?"TRUE":"FALSE"},camelcase:function(a){return a?"True":"False"}},defaultStyle:"lowercase"}),bool}var int,hasRequiredInt;function requireInt(){if(hasRequiredInt)return int;hasRequiredInt=1;var e=requireCommon(),t=requireType();function n(m){return 48<=m&&m<=57||65<=m&&m<=70||97<=m&&m<=102}function i(m){return 48<=m&&m<=55}function a(m){return 48<=m&&m<=57}function s(m){if(m===null)return!1;var _=m.length,A=0,x=!1,N;if(!_)return!1;if(N=m[A],(N==="-"||N==="+")&&(N=m[++A]),N==="0"){if(A+1===_)return!0;if(N=m[++A],N==="b"){for(A++;A<_;A++)if(N=m[A],N!=="_"){if(N!=="0"&&N!=="1")return!1;x=!0}return x&&N!=="_"}if(N==="x"){for(A++;A<_;A++)if(N=m[A],N!=="_"){if(!n(m.charCodeAt(A)))return!1;x=!0}return x&&N!=="_"}for(;A<_;A++)if(N=m[A],N!=="_"){if(!i(m.charCodeAt(A)))return!1;x=!0}return x&&N!=="_"}if(N==="_")return!1;for(;A<_;A++)if(N=m[A],N!=="_"){if(N===":")break;if(!a(m.charCodeAt(A)))return!1;x=!0}return!x||N==="_"?!1:N!==":"?!0:/^(:[0-5]?[0-9])+$/.test(m.slice(A))}function o(m){var _=m,A=1,x,N,I=[];return _.indexOf("_")!==-1&&(_=_.replace(/_/g,"")),x=_[0],(x==="-"||x==="+")&&(x==="-"&&(A=-1),_=_.slice(1),x=_[0]),_==="0"?0:x==="0"?_[1]==="b"?A*parseInt(_.slice(2),2):_[1]==="x"?A*parseInt(_,16):A*parseInt(_,8):_.indexOf(":")!==-1?(_.split(":").forEach(function(k){I.unshift(parseInt(k,10))}),_=0,N=1,I.forEach(function(k){_+=k*N,N*=60}),A*_):A*parseInt(_,10)}function l(m){return Object.prototype.toString.call(m)==="[object Number]"&&m%1===0&&!e.isNegativeZero(m)}return int=new t("tag:yaml.org,2002:int",{kind:"scalar",resolve:s,construct:o,predicate:l,represent:{binary:function(m){return m>=0?"0b"+m.toString(2):"-0b"+m.toString(2).slice(1)},octal:function(m){return m>=0?"0"+m.toString(8):"-0"+m.toString(8).slice(1)},decimal:function(m){return m.toString(10)},hexadecimal:function(m){return m>=0?"0x"+m.toString(16).toUpperCase():"-0x"+m.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),int}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1;var e=requireCommon(),t=requireType(),n=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function i(m){return!(m===null||!n.test(m)||m[m.length-1]==="_")}function a(m){var _,A,x,N;return _=m.replace(/_/g,"").toLowerCase(),A=_[0]==="-"?-1:1,N=[],"+-".indexOf(_[0])>=0&&(_=_.slice(1)),_===".inf"?A===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:_===".nan"?NaN:_.indexOf(":")>=0?(_.split(":").forEach(function(I){N.unshift(parseFloat(I,10))}),_=0,x=1,N.forEach(function(I){_+=I*x,x*=60}),A*_):A*parseFloat(_,10)}var s=/^[-+]?[0-9]+e/;function o(m,_){var A;if(isNaN(m))switch(_){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===m)switch(_){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===m)switch(_){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(e.isNegativeZero(m))return"-0.0";return A=m.toString(10),s.test(A)?A.replace("e",".e"):A}function l(m){return Object.prototype.toString.call(m)==="[object Number]"&&(m%1!==0||e.isNegativeZero(m))}return float=new t("tag:yaml.org,2002:float",{kind:"scalar",resolve:i,construct:a,predicate:l,represent:o,defaultStyle:"lowercase"}),float}var json,hasRequiredJson;function requireJson(){if(hasRequiredJson)return json;hasRequiredJson=1;var e=requireSchema();return json=new e({include:[requireFailsafe()],implicit:[require_null(),requireBool(),requireInt(),requireFloat()]}),json}var core,hasRequiredCore;function requireCore(){if(hasRequiredCore)return core;hasRequiredCore=1;var e=requireSchema();return core=new e({include:[requireJson()]}),core}var timestamp,hasRequiredTimestamp;function requireTimestamp(){if(hasRequiredTimestamp)return timestamp;hasRequiredTimestamp=1;var e=requireType(),t=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),n=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function i(o){return o===null?!1:t.exec(o)!==null||n.exec(o)!==null}function a(o){var l,m,_,A,x,N,I,k=0,R=null,M,L,B;if(l=t.exec(o),l===null&&(l=n.exec(o)),l===null)throw new Error("Date resolve error");if(m=+l[1],_=+l[2]-1,A=+l[3],!l[4])return new Date(Date.UTC(m,_,A));if(x=+l[4],N=+l[5],I=+l[6],l[7]){for(k=l[7].slice(0,3);k.length<3;)k+="0";k=+k}return l[9]&&(M=+l[10],L=+(l[11]||0),R=(M*60+L)*6e4,l[9]==="-"&&(R=-R)),B=new Date(Date.UTC(m,_,A,x,N,I,k)),R&&B.setTime(B.getTime()-R),B}function s(o){return o.toISOString()}return timestamp=new e("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:i,construct:a,instanceOf:Date,represent:s}),timestamp}var merge,hasRequiredMerge;function requireMerge(){if(hasRequiredMerge)return merge;hasRequiredMerge=1;var e=requireType();function t(n){return n==="<<"||n===null}return merge=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:t}),merge}function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var binary,hasRequiredBinary;function requireBinary(){if(hasRequiredBinary)return binary;hasRequiredBinary=1;var e;try{var t=commonjsRequire;e=t("buffer").Buffer}catch{}var n=requireType(),i=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function a(m){if(m===null)return!1;var _,A,x=0,N=m.length,I=i;for(A=0;A<N;A++)if(_=I.indexOf(m.charAt(A)),!(_>64)){if(_<0)return!1;x+=6}return x%8===0}function s(m){var _,A,x=m.replace(/[\r\n=]/g,""),N=x.length,I=i,k=0,R=[];for(_=0;_<N;_++)_%4===0&&_&&(R.push(k>>16&255),R.push(k>>8&255),R.push(k&255)),k=k<<6|I.indexOf(x.charAt(_));return A=N%4*6,A===0?(R.push(k>>16&255),R.push(k>>8&255),R.push(k&255)):A===18?(R.push(k>>10&255),R.push(k>>2&255)):A===12&&R.push(k>>4&255),e?e.from?e.from(R):new e(R):R}function o(m){var _="",A=0,x,N,I=m.length,k=i;for(x=0;x<I;x++)x%3===0&&x&&(_+=k[A>>18&63],_+=k[A>>12&63],_+=k[A>>6&63],_+=k[A&63]),A=(A<<8)+m[x];return N=I%3,N===0?(_+=k[A>>18&63],_+=k[A>>12&63],_+=k[A>>6&63],_+=k[A&63]):N===2?(_+=k[A>>10&63],_+=k[A>>4&63],_+=k[A<<2&63],_+=k[64]):N===1&&(_+=k[A>>2&63],_+=k[A<<4&63],_+=k[64],_+=k[64]),_}function l(m){return e&&e.isBuffer(m)}return binary=new n("tag:yaml.org,2002:binary",{kind:"scalar",resolve:a,construct:s,predicate:l,represent:o}),binary}var omap,hasRequiredOmap;function requireOmap(){if(hasRequiredOmap)return omap;hasRequiredOmap=1;var e=requireType(),t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;function i(s){if(s===null)return!0;var o=[],l,m,_,A,x,N=s;for(l=0,m=N.length;l<m;l+=1){if(_=N[l],x=!1,n.call(_)!=="[object Object]")return!1;for(A in _)if(t.call(_,A))if(!x)x=!0;else return!1;if(!x)return!1;if(o.indexOf(A)===-1)o.push(A);else return!1}return!0}function a(s){return s!==null?s:[]}return omap=new e("tag:yaml.org,2002:omap",{kind:"sequence",resolve:i,construct:a}),omap}var pairs,hasRequiredPairs;function requirePairs(){if(hasRequiredPairs)return pairs;hasRequiredPairs=1;var e=requireType(),t=Object.prototype.toString;function n(a){if(a===null)return!0;var s,o,l,m,_,A=a;for(_=new Array(A.length),s=0,o=A.length;s<o;s+=1){if(l=A[s],t.call(l)!=="[object Object]"||(m=Object.keys(l),m.length!==1))return!1;_[s]=[m[0],l[m[0]]]}return!0}function i(a){if(a===null)return[];var s,o,l,m,_,A=a;for(_=new Array(A.length),s=0,o=A.length;s<o;s+=1)l=A[s],m=Object.keys(l),_[s]=[m[0],l[m[0]]];return _}return pairs=new e("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:n,construct:i}),pairs}var set,hasRequiredSet;function requireSet(){if(hasRequiredSet)return set;hasRequiredSet=1;var e=requireType(),t=Object.prototype.hasOwnProperty;function n(a){if(a===null)return!0;var s,o=a;for(s in o)if(t.call(o,s)&&o[s]!==null)return!1;return!0}function i(a){return a!==null?a:{}}return set=new e("tag:yaml.org,2002:set",{kind:"mapping",resolve:n,construct:i}),set}var default_safe,hasRequiredDefault_safe;function requireDefault_safe(){if(hasRequiredDefault_safe)return default_safe;hasRequiredDefault_safe=1;var e=requireSchema();return default_safe=new e({include:[requireCore()],implicit:[requireTimestamp(),requireMerge()],explicit:[requireBinary(),requireOmap(),requirePairs(),requireSet()]}),default_safe}var _undefined,hasRequired_undefined;function require_undefined(){if(hasRequired_undefined)return _undefined;hasRequired_undefined=1;var e=requireType();function t(){return!0}function n(){}function i(){return""}function a(s){return typeof s>"u"}return _undefined=new e("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:t,construct:n,predicate:a,represent:i}),_undefined}var regexp,hasRequiredRegexp;function requireRegexp(){if(hasRequiredRegexp)return regexp;hasRequiredRegexp=1;var e=requireType();function t(s){if(s===null||s.length===0)return!1;var o=s,l=/\/([gim]*)$/.exec(s),m="";return!(o[0]==="/"&&(l&&(m=l[1]),m.length>3||o[o.length-m.length-1]!=="/"))}function n(s){var o=s,l=/\/([gim]*)$/.exec(s),m="";return o[0]==="/"&&(l&&(m=l[1]),o=o.slice(1,o.length-m.length-1)),new RegExp(o,m)}function i(s){var o="/"+s.source+"/";return s.global&&(o+="g"),s.multiline&&(o+="m"),s.ignoreCase&&(o+="i"),o}function a(s){return Object.prototype.toString.call(s)==="[object RegExp]"}return regexp=new e("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:t,construct:n,predicate:a,represent:i}),regexp}var _function,hasRequired_function;function require_function(){if(hasRequired_function)return _function;hasRequired_function=1;var e;try{var t=commonjsRequire;e=t("esprima")}catch{typeof window<"u"&&(e=window.esprima)}var n=requireType();function i(l){if(l===null)return!1;try{var m="("+l+")",_=e.parse(m,{range:!0});return!(_.type!=="Program"||_.body.length!==1||_.body[0].type!=="ExpressionStatement"||_.body[0].expression.type!=="ArrowFunctionExpression"&&_.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function a(l){var m="("+l+")",_=e.parse(m,{range:!0}),A=[],x;if(_.type!=="Program"||_.body.length!==1||_.body[0].type!=="ExpressionStatement"||_.body[0].expression.type!=="ArrowFunctionExpression"&&_.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return _.body[0].expression.params.forEach(function(N){A.push(N.name)}),x=_.body[0].expression.body.range,_.body[0].expression.body.type==="BlockStatement"?new Function(A,m.slice(x[0]+1,x[1]-1)):new Function(A,"return "+m.slice(x[0],x[1]))}function s(l){return l.toString()}function o(l){return Object.prototype.toString.call(l)==="[object Function]"}return _function=new n("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:i,construct:a,predicate:o,represent:s}),_function}var default_full,hasRequiredDefault_full;function requireDefault_full(){if(hasRequiredDefault_full)return default_full;hasRequiredDefault_full=1;var e=requireSchema();return default_full=e.DEFAULT=new e({include:[requireDefault_safe()],explicit:[require_undefined(),requireRegexp(),require_function()]}),default_full}var hasRequiredLoader;function requireLoader(){if(hasRequiredLoader)return loader;hasRequiredLoader=1;var e=requireCommon(),t=requireException(),n=requireMark(),i=requireDefault_safe(),a=requireDefault_full(),s=Object.prototype.hasOwnProperty,o=1,l=2,m=3,_=4,A=1,x=2,N=3,I=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,k=/[\x85\u2028\u2029]/,R=/[,\[\]\{\}]/,M=/^(?:!|!!|![a-z\-]+!)$/i,L=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function B(T){return Object.prototype.toString.call(T)}function H(T){return T===10||T===13}function V(T){return T===9||T===32}function Y(T){return T===9||T===32||T===10||T===13}function ae(T){return T===44||T===91||T===93||T===123||T===125}function oe(T){var W;return 48<=T&&T<=57?T-48:(W=T|32,97<=W&&W<=102?W-97+10:-1)}function be(T){return T===120?2:T===117?4:T===85?8:0}function ie(T){return 48<=T&&T<=57?T-48:-1}function Te(T){return T===48?"\0":T===97?"\x07":T===98?"\b":T===116||T===9?"	":T===110?`
`:T===118?"\v":T===102?"\f":T===114?"\r":T===101?"\x1B":T===32?" ":T===34?'"':T===47?"/":T===92?"\\":T===78?"":T===95?"":T===76?"\u2028":T===80?"\u2029":""}function Ie(T){return T<=65535?String.fromCharCode(T):String.fromCharCode((T-65536>>10)+55296,(T-65536&1023)+56320)}function j(T,W,C){W==="__proto__"?Object.defineProperty(T,W,{configurable:!0,enumerable:!0,writable:!0,value:C}):T[W]=C}for(var de=new Array(256),O=new Array(256),Q=0;Q<256;Q++)de[Q]=Te(Q)?1:0,O[Q]=Te(Q);function fe(T,W){this.input=T,this.filename=W.filename||null,this.schema=W.schema||a,this.onWarning=W.onWarning||null,this.legacy=W.legacy||!1,this.json=W.json||!1,this.listener=W.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=T.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function J(T,W){return new t(W,new n(T.filename,T.input,T.position,T.line,T.position-T.lineStart))}function Z(T,W){throw J(T,W)}function ue(T,W){T.onWarning&&T.onWarning.call(null,J(T,W))}var z={YAML:function(W,C,E){var b,g,v;W.version!==null&&Z(W,"duplication of %YAML directive"),E.length!==1&&Z(W,"YAML directive accepts exactly one argument"),b=/^([0-9]+)\.([0-9]+)$/.exec(E[0]),b===null&&Z(W,"ill-formed argument of the YAML directive"),g=parseInt(b[1],10),v=parseInt(b[2],10),g!==1&&Z(W,"unacceptable YAML version of the document"),W.version=E[0],W.checkLineBreaks=v<2,v!==1&&v!==2&&ue(W,"unsupported YAML version of the document")},TAG:function(W,C,E){var b,g;E.length!==2&&Z(W,"TAG directive accepts exactly two arguments"),b=E[0],g=E[1],M.test(b)||Z(W,"ill-formed tag handle (first argument) of the TAG directive"),s.call(W.tagMap,b)&&Z(W,'there is a previously declared suffix for "'+b+'" tag handle'),L.test(g)||Z(W,"ill-formed tag prefix (second argument) of the TAG directive"),W.tagMap[b]=g}};function w(T,W,C,E){var b,g,v,F;if(W<C){if(F=T.input.slice(W,C),E)for(b=0,g=F.length;b<g;b+=1)v=F.charCodeAt(b),v===9||32<=v&&v<=1114111||Z(T,"expected valid JSON character");else I.test(F)&&Z(T,"the stream contains non-printable characters");T.result+=F}}function q(T,W,C,E){var b,g,v,F;for(e.isObject(C)||Z(T,"cannot merge mappings; the provided source object is unacceptable"),b=Object.keys(C),v=0,F=b.length;v<F;v+=1)g=b[v],s.call(W,g)||(j(W,g,C[g]),E[g]=!0)}function ce(T,W,C,E,b,g,v,F){var U,re;if(Array.isArray(b))for(b=Array.prototype.slice.call(b),U=0,re=b.length;U<re;U+=1)Array.isArray(b[U])&&Z(T,"nested arrays are not supported inside keys"),typeof b=="object"&&B(b[U])==="[object Object]"&&(b[U]="[object Object]");if(typeof b=="object"&&B(b)==="[object Object]"&&(b="[object Object]"),b=String(b),W===null&&(W={}),E==="tag:yaml.org,2002:merge")if(Array.isArray(g))for(U=0,re=g.length;U<re;U+=1)q(T,W,g[U],C);else q(T,W,g,C);else!T.json&&!s.call(C,b)&&s.call(W,b)&&(T.line=v||T.line,T.position=F||T.position,Z(T,"duplicated mapping key")),j(W,b,g),delete C[b];return W}function le(T){var W;W=T.input.charCodeAt(T.position),W===10?T.position++:W===13?(T.position++,T.input.charCodeAt(T.position)===10&&T.position++):Z(T,"a line break is expected"),T.line+=1,T.lineStart=T.position}function ee(T,W,C){for(var E=0,b=T.input.charCodeAt(T.position);b!==0;){for(;V(b);)b=T.input.charCodeAt(++T.position);if(W&&b===35)do b=T.input.charCodeAt(++T.position);while(b!==10&&b!==13&&b!==0);if(H(b))for(le(T),b=T.input.charCodeAt(T.position),E++,T.lineIndent=0;b===32;)T.lineIndent++,b=T.input.charCodeAt(++T.position);else break}return C!==-1&&E!==0&&T.lineIndent<C&&ue(T,"deficient indentation"),E}function Ce(T){var W=T.position,C;return C=T.input.charCodeAt(W),!!((C===45||C===46)&&C===T.input.charCodeAt(W+1)&&C===T.input.charCodeAt(W+2)&&(W+=3,C=T.input.charCodeAt(W),C===0||Y(C)))}function Se(T,W){W===1?T.result+=" ":W>1&&(T.result+=e.repeat(`
`,W-1))}function Ae(T,W,C){var E,b,g,v,F,U,re,pe,ne=T.kind,_e=T.result,me;if(me=T.input.charCodeAt(T.position),Y(me)||ae(me)||me===35||me===38||me===42||me===33||me===124||me===62||me===39||me===34||me===37||me===64||me===96||(me===63||me===45)&&(b=T.input.charCodeAt(T.position+1),Y(b)||C&&ae(b)))return!1;for(T.kind="scalar",T.result="",g=v=T.position,F=!1;me!==0;){if(me===58){if(b=T.input.charCodeAt(T.position+1),Y(b)||C&&ae(b))break}else if(me===35){if(E=T.input.charCodeAt(T.position-1),Y(E))break}else{if(T.position===T.lineStart&&Ce(T)||C&&ae(me))break;if(H(me))if(U=T.line,re=T.lineStart,pe=T.lineIndent,ee(T,!1,-1),T.lineIndent>=W){F=!0,me=T.input.charCodeAt(T.position);continue}else{T.position=v,T.line=U,T.lineStart=re,T.lineIndent=pe;break}}F&&(w(T,g,v,!1),Se(T,T.line-U),g=v=T.position,F=!1),V(me)||(v=T.position+1),me=T.input.charCodeAt(++T.position)}return w(T,g,v,!1),T.result?!0:(T.kind=ne,T.result=_e,!1)}function De(T,W){var C,E,b;if(C=T.input.charCodeAt(T.position),C!==39)return!1;for(T.kind="scalar",T.result="",T.position++,E=b=T.position;(C=T.input.charCodeAt(T.position))!==0;)if(C===39)if(w(T,E,T.position,!0),C=T.input.charCodeAt(++T.position),C===39)E=T.position,T.position++,b=T.position;else return!0;else H(C)?(w(T,E,b,!0),Se(T,ee(T,!1,W)),E=b=T.position):T.position===T.lineStart&&Ce(T)?Z(T,"unexpected end of the document within a single quoted scalar"):(T.position++,b=T.position);Z(T,"unexpected end of the stream within a single quoted scalar")}function ye(T,W){var C,E,b,g,v,F;if(F=T.input.charCodeAt(T.position),F!==34)return!1;for(T.kind="scalar",T.result="",T.position++,C=E=T.position;(F=T.input.charCodeAt(T.position))!==0;){if(F===34)return w(T,C,T.position,!0),T.position++,!0;if(F===92){if(w(T,C,T.position,!0),F=T.input.charCodeAt(++T.position),H(F))ee(T,!1,W);else if(F<256&&de[F])T.result+=O[F],T.position++;else if((v=be(F))>0){for(b=v,g=0;b>0;b--)F=T.input.charCodeAt(++T.position),(v=oe(F))>=0?g=(g<<4)+v:Z(T,"expected hexadecimal character");T.result+=Ie(g),T.position++}else Z(T,"unknown escape sequence");C=E=T.position}else H(F)?(w(T,C,E,!0),Se(T,ee(T,!1,W)),C=E=T.position):T.position===T.lineStart&&Ce(T)?Z(T,"unexpected end of the document within a double quoted scalar"):(T.position++,E=T.position)}Z(T,"unexpected end of the stream within a double quoted scalar")}function Ne(T,W){var C=!0,E,b=T.tag,g,v=T.anchor,F,U,re,pe,ne,_e={},me,Oe,ve,we;if(we=T.input.charCodeAt(T.position),we===91)U=93,ne=!1,g=[];else if(we===123)U=125,ne=!0,g={};else return!1;for(T.anchor!==null&&(T.anchorMap[T.anchor]=g),we=T.input.charCodeAt(++T.position);we!==0;){if(ee(T,!0,W),we=T.input.charCodeAt(T.position),we===U)return T.position++,T.tag=b,T.anchor=v,T.kind=ne?"mapping":"sequence",T.result=g,!0;C||Z(T,"missed comma between flow collection entries"),Oe=me=ve=null,re=pe=!1,we===63&&(F=T.input.charCodeAt(T.position+1),Y(F)&&(re=pe=!0,T.position++,ee(T,!0,W))),E=T.line,P(T,W,o,!1,!0),Oe=T.tag,me=T.result,ee(T,!0,W),we=T.input.charCodeAt(T.position),(pe||T.line===E)&&we===58&&(re=!0,we=T.input.charCodeAt(++T.position),ee(T,!0,W),P(T,W,o,!1,!0),ve=T.result),ne?ce(T,g,_e,Oe,me,ve):re?g.push(ce(T,null,_e,Oe,me,ve)):g.push(me),ee(T,!0,W),we=T.input.charCodeAt(T.position),we===44?(C=!0,we=T.input.charCodeAt(++T.position)):C=!1}Z(T,"unexpected end of the stream within a flow collection")}function Re(T,W){var C,E,b=A,g=!1,v=!1,F=W,U=0,re=!1,pe,ne;if(ne=T.input.charCodeAt(T.position),ne===124)E=!1;else if(ne===62)E=!0;else return!1;for(T.kind="scalar",T.result="";ne!==0;)if(ne=T.input.charCodeAt(++T.position),ne===43||ne===45)A===b?b=ne===43?N:x:Z(T,"repeat of a chomping mode identifier");else if((pe=ie(ne))>=0)pe===0?Z(T,"bad explicit indentation width of a block scalar; it cannot be less than one"):v?Z(T,"repeat of an indentation width identifier"):(F=W+pe-1,v=!0);else break;if(V(ne)){do ne=T.input.charCodeAt(++T.position);while(V(ne));if(ne===35)do ne=T.input.charCodeAt(++T.position);while(!H(ne)&&ne!==0)}for(;ne!==0;){for(le(T),T.lineIndent=0,ne=T.input.charCodeAt(T.position);(!v||T.lineIndent<F)&&ne===32;)T.lineIndent++,ne=T.input.charCodeAt(++T.position);if(!v&&T.lineIndent>F&&(F=T.lineIndent),H(ne)){U++;continue}if(T.lineIndent<F){b===N?T.result+=e.repeat(`
`,g?1+U:U):b===A&&g&&(T.result+=`
`);break}for(E?V(ne)?(re=!0,T.result+=e.repeat(`
`,g?1+U:U)):re?(re=!1,T.result+=e.repeat(`
`,U+1)):U===0?g&&(T.result+=" "):T.result+=e.repeat(`
`,U):T.result+=e.repeat(`
`,g?1+U:U),g=!0,v=!0,U=0,C=T.position;!H(ne)&&ne!==0;)ne=T.input.charCodeAt(++T.position);w(T,C,T.position,!1)}return!0}function ke(T,W){var C,E=T.tag,b=T.anchor,g=[],v,F=!1,U;for(T.anchor!==null&&(T.anchorMap[T.anchor]=g),U=T.input.charCodeAt(T.position);U!==0&&!(U!==45||(v=T.input.charCodeAt(T.position+1),!Y(v)));){if(F=!0,T.position++,ee(T,!0,-1)&&T.lineIndent<=W){g.push(null),U=T.input.charCodeAt(T.position);continue}if(C=T.line,P(T,W,m,!1,!0),g.push(T.result),ee(T,!0,-1),U=T.input.charCodeAt(T.position),(T.line===C||T.lineIndent>W)&&U!==0)Z(T,"bad indentation of a sequence entry");else if(T.lineIndent<W)break}return F?(T.tag=E,T.anchor=b,T.kind="sequence",T.result=g,!0):!1}function y(T,W,C){var E,b,g,v,F=T.tag,U=T.anchor,re={},pe={},ne=null,_e=null,me=null,Oe=!1,ve=!1,we;for(T.anchor!==null&&(T.anchorMap[T.anchor]=re),we=T.input.charCodeAt(T.position);we!==0;){if(E=T.input.charCodeAt(T.position+1),g=T.line,v=T.position,(we===63||we===58)&&Y(E))we===63?(Oe&&(ce(T,re,pe,ne,_e,null),ne=_e=me=null),ve=!0,Oe=!0,b=!0):Oe?(Oe=!1,b=!0):Z(T,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),T.position+=1,we=E;else if(P(T,C,l,!1,!0))if(T.line===g){for(we=T.input.charCodeAt(T.position);V(we);)we=T.input.charCodeAt(++T.position);if(we===58)we=T.input.charCodeAt(++T.position),Y(we)||Z(T,"a whitespace character is expected after the key-value separator within a block mapping"),Oe&&(ce(T,re,pe,ne,_e,null),ne=_e=me=null),ve=!0,Oe=!1,b=!1,ne=T.tag,_e=T.result;else if(ve)Z(T,"can not read an implicit mapping pair; a colon is missed");else return T.tag=F,T.anchor=U,!0}else if(ve)Z(T,"can not read a block mapping entry; a multiline key may not be an implicit key");else return T.tag=F,T.anchor=U,!0;else break;if((T.line===g||T.lineIndent>W)&&(P(T,W,_,!0,b)&&(Oe?_e=T.result:me=T.result),Oe||(ce(T,re,pe,ne,_e,me,g,v),ne=_e=me=null),ee(T,!0,-1),we=T.input.charCodeAt(T.position)),T.lineIndent>W&&we!==0)Z(T,"bad indentation of a mapping entry");else if(T.lineIndent<W)break}return Oe&&ce(T,re,pe,ne,_e,null),ve&&(T.tag=F,T.anchor=U,T.kind="mapping",T.result=re),ve}function se(T){var W,C=!1,E=!1,b,g,v;if(v=T.input.charCodeAt(T.position),v!==33)return!1;if(T.tag!==null&&Z(T,"duplication of a tag property"),v=T.input.charCodeAt(++T.position),v===60?(C=!0,v=T.input.charCodeAt(++T.position)):v===33?(E=!0,b="!!",v=T.input.charCodeAt(++T.position)):b="!",W=T.position,C){do v=T.input.charCodeAt(++T.position);while(v!==0&&v!==62);T.position<T.length?(g=T.input.slice(W,T.position),v=T.input.charCodeAt(++T.position)):Z(T,"unexpected end of the stream within a verbatim tag")}else{for(;v!==0&&!Y(v);)v===33&&(E?Z(T,"tag suffix cannot contain exclamation marks"):(b=T.input.slice(W-1,T.position+1),M.test(b)||Z(T,"named tag handle cannot contain such characters"),E=!0,W=T.position+1)),v=T.input.charCodeAt(++T.position);g=T.input.slice(W,T.position),R.test(g)&&Z(T,"tag suffix cannot contain flow indicator characters")}return g&&!L.test(g)&&Z(T,"tag name cannot contain such characters: "+g),C?T.tag=g:s.call(T.tagMap,b)?T.tag=T.tagMap[b]+g:b==="!"?T.tag="!"+g:b==="!!"?T.tag="tag:yaml.org,2002:"+g:Z(T,'undeclared tag handle "'+b+'"'),!0}function te(T){var W,C;if(C=T.input.charCodeAt(T.position),C!==38)return!1;for(T.anchor!==null&&Z(T,"duplication of an anchor property"),C=T.input.charCodeAt(++T.position),W=T.position;C!==0&&!Y(C)&&!ae(C);)C=T.input.charCodeAt(++T.position);return T.position===W&&Z(T,"name of an anchor node must contain at least one character"),T.anchor=T.input.slice(W,T.position),!0}function G(T){var W,C,E;if(E=T.input.charCodeAt(T.position),E!==42)return!1;for(E=T.input.charCodeAt(++T.position),W=T.position;E!==0&&!Y(E)&&!ae(E);)E=T.input.charCodeAt(++T.position);return T.position===W&&Z(T,"name of an alias node must contain at least one character"),C=T.input.slice(W,T.position),s.call(T.anchorMap,C)||Z(T,'unidentified alias "'+C+'"'),T.result=T.anchorMap[C],ee(T,!0,-1),!0}function P(T,W,C,E,b){var g,v,F,U=1,re=!1,pe=!1,ne,_e,me,Oe,ve;if(T.listener!==null&&T.listener("open",T),T.tag=null,T.anchor=null,T.kind=null,T.result=null,g=v=F=_===C||m===C,E&&ee(T,!0,-1)&&(re=!0,T.lineIndent>W?U=1:T.lineIndent===W?U=0:T.lineIndent<W&&(U=-1)),U===1)for(;se(T)||te(T);)ee(T,!0,-1)?(re=!0,F=g,T.lineIndent>W?U=1:T.lineIndent===W?U=0:T.lineIndent<W&&(U=-1)):F=!1;if(F&&(F=re||b),(U===1||_===C)&&(o===C||l===C?Oe=W:Oe=W+1,ve=T.position-T.lineStart,U===1?F&&(ke(T,ve)||y(T,ve,Oe))||Ne(T,Oe)?pe=!0:(v&&Re(T,Oe)||De(T,Oe)||ye(T,Oe)?pe=!0:G(T)?(pe=!0,(T.tag!==null||T.anchor!==null)&&Z(T,"alias node should not have any properties")):Ae(T,Oe,o===C)&&(pe=!0,T.tag===null&&(T.tag="?")),T.anchor!==null&&(T.anchorMap[T.anchor]=T.result)):U===0&&(pe=F&&ke(T,ve))),T.tag!==null&&T.tag!=="!")if(T.tag==="?"){for(T.result!==null&&T.kind!=="scalar"&&Z(T,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+T.kind+'"'),ne=0,_e=T.implicitTypes.length;ne<_e;ne+=1)if(me=T.implicitTypes[ne],me.resolve(T.result)){T.result=me.construct(T.result),T.tag=me.tag,T.anchor!==null&&(T.anchorMap[T.anchor]=T.result);break}}else s.call(T.typeMap[T.kind||"fallback"],T.tag)?(me=T.typeMap[T.kind||"fallback"][T.tag],T.result!==null&&me.kind!==T.kind&&Z(T,"unacceptable node kind for !<"+T.tag+'> tag; it should be "'+me.kind+'", not "'+T.kind+'"'),me.resolve(T.result)?(T.result=me.construct(T.result),T.anchor!==null&&(T.anchorMap[T.anchor]=T.result)):Z(T,"cannot resolve a node with !<"+T.tag+"> explicit tag")):Z(T,"unknown tag !<"+T.tag+">");return T.listener!==null&&T.listener("close",T),T.tag!==null||T.anchor!==null||pe}function K(T){var W=T.position,C,E,b,g=!1,v;for(T.version=null,T.checkLineBreaks=T.legacy,T.tagMap={},T.anchorMap={};(v=T.input.charCodeAt(T.position))!==0&&(ee(T,!0,-1),v=T.input.charCodeAt(T.position),!(T.lineIndent>0||v!==37));){for(g=!0,v=T.input.charCodeAt(++T.position),C=T.position;v!==0&&!Y(v);)v=T.input.charCodeAt(++T.position);for(E=T.input.slice(C,T.position),b=[],E.length<1&&Z(T,"directive name must not be less than one character in length");v!==0;){for(;V(v);)v=T.input.charCodeAt(++T.position);if(v===35){do v=T.input.charCodeAt(++T.position);while(v!==0&&!H(v));break}if(H(v))break;for(C=T.position;v!==0&&!Y(v);)v=T.input.charCodeAt(++T.position);b.push(T.input.slice(C,T.position))}v!==0&&le(T),s.call(z,E)?z[E](T,E,b):ue(T,'unknown document directive "'+E+'"')}if(ee(T,!0,-1),T.lineIndent===0&&T.input.charCodeAt(T.position)===45&&T.input.charCodeAt(T.position+1)===45&&T.input.charCodeAt(T.position+2)===45?(T.position+=3,ee(T,!0,-1)):g&&Z(T,"directives end mark is expected"),P(T,T.lineIndent-1,_,!1,!0),ee(T,!0,-1),T.checkLineBreaks&&k.test(T.input.slice(W,T.position))&&ue(T,"non-ASCII line breaks are interpreted as content"),T.documents.push(T.result),T.position===T.lineStart&&Ce(T)){T.input.charCodeAt(T.position)===46&&(T.position+=3,ee(T,!0,-1));return}if(T.position<T.length-1)Z(T,"end of the stream or a document separator is expected");else return}function he(T,W){T=String(T),W=W||{},T.length!==0&&(T.charCodeAt(T.length-1)!==10&&T.charCodeAt(T.length-1)!==13&&(T+=`
`),T.charCodeAt(0)===65279&&(T=T.slice(1)));var C=new fe(T,W),E=T.indexOf("\0");for(E!==-1&&(C.position=E,Z(C,"null byte is not allowed in input")),C.input+="\0";C.input.charCodeAt(C.position)===32;)C.lineIndent+=1,C.position+=1;for(;C.position<C.length-1;)K(C);return C.documents}function Ee(T,W,C){W!==null&&typeof W=="object"&&typeof C>"u"&&(C=W,W=null);var E=he(T,C);if(typeof W!="function")return E;for(var b=0,g=E.length;b<g;b+=1)W(E[b])}function X(T,W){var C=he(T,W);if(C.length!==0){if(C.length===1)return C[0];throw new t("expected a single document in the stream, but found more")}}function ge(T,W,C){return typeof W=="object"&&W!==null&&typeof C>"u"&&(C=W,W=null),Ee(T,W,e.extend({schema:i},C))}function xe(T,W){return X(T,e.extend({schema:i},W))}return loader.loadAll=Ee,loader.load=X,loader.safeLoadAll=ge,loader.safeLoad=xe,loader}var dumper={},hasRequiredDumper;function requireDumper(){if(hasRequiredDumper)return dumper;hasRequiredDumper=1;var e=requireCommon(),t=requireException(),n=requireDefault_full(),i=requireDefault_safe(),a=Object.prototype.toString,s=Object.prototype.hasOwnProperty,o=9,l=10,m=13,_=32,A=33,x=34,N=35,I=37,k=38,R=39,M=42,L=44,B=45,H=58,V=61,Y=62,ae=63,oe=64,be=91,ie=93,Te=96,Ie=123,j=124,de=125,O={};O[0]="\\0",O[7]="\\a",O[8]="\\b",O[9]="\\t",O[10]="\\n",O[11]="\\v",O[12]="\\f",O[13]="\\r",O[27]="\\e",O[34]='\\"',O[92]="\\\\",O[133]="\\N",O[160]="\\_",O[8232]="\\L",O[8233]="\\P";var Q=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function fe(g,v){var F,U,re,pe,ne,_e,me;if(v===null)return{};for(F={},U=Object.keys(v),re=0,pe=U.length;re<pe;re+=1)ne=U[re],_e=String(v[ne]),ne.slice(0,2)==="!!"&&(ne="tag:yaml.org,2002:"+ne.slice(2)),me=g.compiledTypeMap.fallback[ne],me&&s.call(me.styleAliases,_e)&&(_e=me.styleAliases[_e]),F[ne]=_e;return F}function J(g){var v,F,U;if(v=g.toString(16).toUpperCase(),g<=255)F="x",U=2;else if(g<=65535)F="u",U=4;else if(g<=4294967295)F="U",U=8;else throw new t("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+F+e.repeat("0",U-v.length)+v}function Z(g){this.schema=g.schema||n,this.indent=Math.max(1,g.indent||2),this.noArrayIndent=g.noArrayIndent||!1,this.skipInvalid=g.skipInvalid||!1,this.flowLevel=e.isNothing(g.flowLevel)?-1:g.flowLevel,this.styleMap=fe(this.schema,g.styles||null),this.sortKeys=g.sortKeys||!1,this.lineWidth=g.lineWidth||80,this.noRefs=g.noRefs||!1,this.noCompatMode=g.noCompatMode||!1,this.condenseFlow=g.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function ue(g,v){for(var F=e.repeat(" ",v),U=0,re=-1,pe="",ne,_e=g.length;U<_e;)re=g.indexOf(`
`,U),re===-1?(ne=g.slice(U),U=_e):(ne=g.slice(U,re+1),U=re+1),ne.length&&ne!==`
`&&(pe+=F),pe+=ne;return pe}function z(g,v){return`
`+e.repeat(" ",g.indent*v)}function w(g,v){var F,U,re;for(F=0,U=g.implicitTypes.length;F<U;F+=1)if(re=g.implicitTypes[F],re.resolve(v))return!0;return!1}function q(g){return g===_||g===o}function ce(g){return 32<=g&&g<=126||161<=g&&g<=55295&&g!==8232&&g!==8233||57344<=g&&g<=65533&&g!==65279||65536<=g&&g<=1114111}function le(g){return ce(g)&&!q(g)&&g!==65279&&g!==m&&g!==l}function ee(g,v){return ce(g)&&g!==65279&&g!==L&&g!==be&&g!==ie&&g!==Ie&&g!==de&&g!==H&&(g!==N||v&&le(v))}function Ce(g){return ce(g)&&g!==65279&&!q(g)&&g!==B&&g!==ae&&g!==H&&g!==L&&g!==be&&g!==ie&&g!==Ie&&g!==de&&g!==N&&g!==k&&g!==M&&g!==A&&g!==j&&g!==V&&g!==Y&&g!==R&&g!==x&&g!==I&&g!==oe&&g!==Te}function Se(g){var v=/^\n* /;return v.test(g)}var Ae=1,De=2,ye=3,Ne=4,Re=5;function ke(g,v,F,U,re){var pe,ne,_e,me=!1,Oe=!1,ve=U!==-1,we=-1,Me=Ce(g.charCodeAt(0))&&!q(g.charCodeAt(g.length-1));if(v)for(pe=0;pe<g.length;pe++){if(ne=g.charCodeAt(pe),!ce(ne))return Re;_e=pe>0?g.charCodeAt(pe-1):null,Me=Me&&ee(ne,_e)}else{for(pe=0;pe<g.length;pe++){if(ne=g.charCodeAt(pe),ne===l)me=!0,ve&&(Oe=Oe||pe-we-1>U&&g[we+1]!==" ",we=pe);else if(!ce(ne))return Re;_e=pe>0?g.charCodeAt(pe-1):null,Me=Me&&ee(ne,_e)}Oe=Oe||ve&&pe-we-1>U&&g[we+1]!==" "}return!me&&!Oe?Me&&!re(g)?Ae:De:F>9&&Se(g)?Re:Oe?Ne:ye}function y(g,v,F,U){g.dump=(function(){if(v.length===0)return"''";if(!g.noCompatMode&&Q.indexOf(v)!==-1)return"'"+v+"'";var re=g.indent*Math.max(1,F),pe=g.lineWidth===-1?-1:Math.max(Math.min(g.lineWidth,40),g.lineWidth-re),ne=U||g.flowLevel>-1&&F>=g.flowLevel;function _e(me){return w(g,me)}switch(ke(v,ne,g.indent,pe,_e)){case Ae:return v;case De:return"'"+v.replace(/'/g,"''")+"'";case ye:return"|"+se(v,g.indent)+te(ue(v,re));case Ne:return">"+se(v,g.indent)+te(ue(G(v,pe),re));case Re:return'"'+K(v)+'"';default:throw new t("impossible error: invalid scalar style")}})()}function se(g,v){var F=Se(g)?String(v):"",U=g[g.length-1]===`
`,re=U&&(g[g.length-2]===`
`||g===`
`),pe=re?"+":U?"":"-";return F+pe+`
`}function te(g){return g[g.length-1]===`
`?g.slice(0,-1):g}function G(g,v){for(var F=/(\n+)([^\n]*)/g,U=(function(){var Oe=g.indexOf(`
`);return Oe=Oe!==-1?Oe:g.length,F.lastIndex=Oe,P(g.slice(0,Oe),v)})(),re=g[0]===`
`||g[0]===" ",pe,ne;ne=F.exec(g);){var _e=ne[1],me=ne[2];pe=me[0]===" ",U+=_e+(!re&&!pe&&me!==""?`
`:"")+P(me,v),re=pe}return U}function P(g,v){if(g===""||g[0]===" ")return g;for(var F=/ [^ ]/g,U,re=0,pe,ne=0,_e=0,me="";U=F.exec(g);)_e=U.index,_e-re>v&&(pe=ne>re?ne:_e,me+=`
`+g.slice(re,pe),re=pe+1),ne=_e;return me+=`
`,g.length-re>v&&ne>re?me+=g.slice(re,ne)+`
`+g.slice(ne+1):me+=g.slice(re),me.slice(1)}function K(g){for(var v="",F,U,re,pe=0;pe<g.length;pe++){if(F=g.charCodeAt(pe),F>=55296&&F<=56319&&(U=g.charCodeAt(pe+1),U>=56320&&U<=57343)){v+=J((F-55296)*1024+U-56320+65536),pe++;continue}re=O[F],v+=!re&&ce(F)?g[pe]:re||J(F)}return v}function he(g,v,F){var U="",re=g.tag,pe,ne;for(pe=0,ne=F.length;pe<ne;pe+=1)T(g,v,F[pe],!1,!1)&&(pe!==0&&(U+=","+(g.condenseFlow?"":" ")),U+=g.dump);g.tag=re,g.dump="["+U+"]"}function Ee(g,v,F,U){var re="",pe=g.tag,ne,_e;for(ne=0,_e=F.length;ne<_e;ne+=1)T(g,v+1,F[ne],!0,!0)&&((!U||ne!==0)&&(re+=z(g,v)),g.dump&&l===g.dump.charCodeAt(0)?re+="-":re+="- ",re+=g.dump);g.tag=pe,g.dump=re||"[]"}function X(g,v,F){var U="",re=g.tag,pe=Object.keys(F),ne,_e,me,Oe,ve;for(ne=0,_e=pe.length;ne<_e;ne+=1)ve="",ne!==0&&(ve+=", "),g.condenseFlow&&(ve+='"'),me=pe[ne],Oe=F[me],T(g,v,me,!1,!1)&&(g.dump.length>1024&&(ve+="? "),ve+=g.dump+(g.condenseFlow?'"':"")+":"+(g.condenseFlow?"":" "),T(g,v,Oe,!1,!1)&&(ve+=g.dump,U+=ve));g.tag=re,g.dump="{"+U+"}"}function ge(g,v,F,U){var re="",pe=g.tag,ne=Object.keys(F),_e,me,Oe,ve,we,Me;if(g.sortKeys===!0)ne.sort();else if(typeof g.sortKeys=="function")ne.sort(g.sortKeys);else if(g.sortKeys)throw new t("sortKeys must be a boolean or a function");for(_e=0,me=ne.length;_e<me;_e+=1)Me="",(!U||_e!==0)&&(Me+=z(g,v)),Oe=ne[_e],ve=F[Oe],T(g,v+1,Oe,!0,!0,!0)&&(we=g.tag!==null&&g.tag!=="?"||g.dump&&g.dump.length>1024,we&&(g.dump&&l===g.dump.charCodeAt(0)?Me+="?":Me+="? "),Me+=g.dump,we&&(Me+=z(g,v)),T(g,v+1,ve,!0,we)&&(g.dump&&l===g.dump.charCodeAt(0)?Me+=":":Me+=": ",Me+=g.dump,re+=Me));g.tag=pe,g.dump=re||"{}"}function xe(g,v,F){var U,re,pe,ne,_e,me;for(re=F?g.explicitTypes:g.implicitTypes,pe=0,ne=re.length;pe<ne;pe+=1)if(_e=re[pe],(_e.instanceOf||_e.predicate)&&(!_e.instanceOf||typeof v=="object"&&v instanceof _e.instanceOf)&&(!_e.predicate||_e.predicate(v))){if(g.tag=F?_e.tag:"?",_e.represent){if(me=g.styleMap[_e.tag]||_e.defaultStyle,a.call(_e.represent)==="[object Function]")U=_e.represent(v,me);else if(s.call(_e.represent,me))U=_e.represent[me](v,me);else throw new t("!<"+_e.tag+'> tag resolver accepts not "'+me+'" style');g.dump=U}return!0}return!1}function T(g,v,F,U,re,pe){g.tag=null,g.dump=F,xe(g,F,!1)||xe(g,F,!0);var ne=a.call(g.dump);U&&(U=g.flowLevel<0||g.flowLevel>v);var _e=ne==="[object Object]"||ne==="[object Array]",me,Oe;if(_e&&(me=g.duplicates.indexOf(F),Oe=me!==-1),(g.tag!==null&&g.tag!=="?"||Oe||g.indent!==2&&v>0)&&(re=!1),Oe&&g.usedDuplicates[me])g.dump="*ref_"+me;else{if(_e&&Oe&&!g.usedDuplicates[me]&&(g.usedDuplicates[me]=!0),ne==="[object Object]")U&&Object.keys(g.dump).length!==0?(ge(g,v,g.dump,re),Oe&&(g.dump="&ref_"+me+g.dump)):(X(g,v,g.dump),Oe&&(g.dump="&ref_"+me+" "+g.dump));else if(ne==="[object Array]"){var ve=g.noArrayIndent&&v>0?v-1:v;U&&g.dump.length!==0?(Ee(g,ve,g.dump,re),Oe&&(g.dump="&ref_"+me+g.dump)):(he(g,ve,g.dump),Oe&&(g.dump="&ref_"+me+" "+g.dump))}else if(ne==="[object String]")g.tag!=="?"&&y(g,g.dump,v,pe);else{if(g.skipInvalid)return!1;throw new t("unacceptable kind of an object to dump "+ne)}g.tag!==null&&g.tag!=="?"&&(g.dump="!<"+g.tag+"> "+g.dump)}return!0}function W(g,v){var F=[],U=[],re,pe;for(C(g,F,U),re=0,pe=U.length;re<pe;re+=1)v.duplicates.push(F[U[re]]);v.usedDuplicates=new Array(pe)}function C(g,v,F){var U,re,pe;if(g!==null&&typeof g=="object")if(re=v.indexOf(g),re!==-1)F.indexOf(re)===-1&&F.push(re);else if(v.push(g),Array.isArray(g))for(re=0,pe=g.length;re<pe;re+=1)C(g[re],v,F);else for(U=Object.keys(g),re=0,pe=U.length;re<pe;re+=1)C(g[U[re]],v,F)}function E(g,v){v=v||{};var F=new Z(v);return F.noRefs||W(g,F),T(F,0,g,!0,!0)?F.dump+`
`:""}function b(g,v){return E(g,e.extend({schema:i},v))}return dumper.dump=E,dumper.safeDump=b,dumper}var hasRequiredJsYaml$1;function requireJsYaml$1(){if(hasRequiredJsYaml$1)return jsYaml$1;hasRequiredJsYaml$1=1;var e=requireLoader(),t=requireDumper();function n(i){return function(){throw new Error("Function "+i+" is deprecated and cannot be used.")}}return jsYaml$1.Type=requireType(),jsYaml$1.Schema=requireSchema(),jsYaml$1.FAILSAFE_SCHEMA=requireFailsafe(),jsYaml$1.JSON_SCHEMA=requireJson(),jsYaml$1.CORE_SCHEMA=requireCore(),jsYaml$1.DEFAULT_SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_FULL_SCHEMA=requireDefault_full(),jsYaml$1.load=e.load,jsYaml$1.loadAll=e.loadAll,jsYaml$1.safeLoad=e.safeLoad,jsYaml$1.safeLoadAll=e.safeLoadAll,jsYaml$1.dump=t.dump,jsYaml$1.safeDump=t.safeDump,jsYaml$1.YAMLException=requireException(),jsYaml$1.MINIMAL_SCHEMA=requireFailsafe(),jsYaml$1.SAFE_SCHEMA=requireDefault_safe(),jsYaml$1.DEFAULT_SCHEMA=requireDefault_full(),jsYaml$1.scan=n("scan"),jsYaml$1.parse=n("parse"),jsYaml$1.compose=n("compose"),jsYaml$1.addConstructor=n("addConstructor"),jsYaml$1}var jsYaml,hasRequiredJsYaml;function requireJsYaml(){if(hasRequiredJsYaml)return jsYaml;hasRequiredJsYaml=1;var e=requireJsYaml$1();return jsYaml=e,jsYaml}var hasRequiredEngines;function requireEngines(){return hasRequiredEngines||(hasRequiredEngines=1,(function(module,exports$1){const yaml=requireJsYaml(),engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,t){const n=Object.assign({replacer:null,space:2},t);return JSON.stringify(e,n.replacer,n.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(e){if(wrap!==!1&&/(unexpected|identifier)/i.test(e.message))return parse(str,options,!1);throw new SyntaxError(e)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}})(engines)),engines.exports}var utils={};var stripBomString,hasRequiredStripBomString;function requireStripBomString(){return hasRequiredStripBomString||(hasRequiredStripBomString=1,stripBomString=function(e){return typeof e=="string"&&e.charAt(0)==="\uFEFF"?e.slice(1):e}),stripBomString}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,(function(e){const t=requireStripBomString(),n=requireKindOf();e.define=function(i,a,s){Reflect.defineProperty(i,a,{enumerable:!1,configurable:!0,writable:!0,value:s})},e.isBuffer=function(i){return n(i)==="buffer"},e.isObject=function(i){return n(i)==="object"},e.toBuffer=function(i){return typeof i=="string"?Buffer.from(i):i},e.toString=function(i){if(e.isBuffer(i))return t(String(i));if(typeof i!="string")throw new TypeError("expected input to be a string or buffer");return t(i)},e.arrayify=function(i){return i?Array.isArray(i)?i:[i]:[]},e.startsWith=function(i,a,s){return typeof s!="number"&&(s=a.length),i.slice(0,s)===a}})(utils)),utils}var defaults,hasRequiredDefaults;function requireDefaults(){if(hasRequiredDefaults)return defaults;hasRequiredDefaults=1;const e=requireEngines(),t=requireUtils();return defaults=function(n){const i=Object.assign({},n);return i.delimiters=t.arrayify(i.delims||i.delimiters||"---"),i.delimiters.length===1&&i.delimiters.push(i.delimiters[0]),i.language=(i.language||i.lang||"yaml").toLowerCase(),i.engines=Object.assign({},e,i.parsers,i.engines),i},defaults}var engine,hasRequiredEngine;function requireEngine(){if(hasRequiredEngine)return engine;hasRequiredEngine=1,engine=function(t,n){let i=n.engines[t]||n.engines[e(t)];if(typeof i>"u")throw new Error('gray-matter engine "'+t+'" is not registered');return typeof i=="function"&&(i={parse:i}),i};function e(t){switch(t.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return t}}return engine}var stringify,hasRequiredStringify;function requireStringify(){if(hasRequiredStringify)return stringify;hasRequiredStringify=1;const e=requireKindOf(),t=requireEngine(),n=requireDefaults();stringify=function(a,s,o){if(s==null&&o==null)switch(e(a)){case"object":s=a.data,o={};break;case"string":return a;default:throw new TypeError("expected file to be a string or object")}const l=a.content,m=n(o);if(s==null){if(!m.data)return a;s=m.data}const _=a.language||m.language,A=t(_,m);if(typeof A.stringify!="function")throw new TypeError('expected "'+_+'.stringify" to be a function');s=Object.assign({},a.data,s);const x=m.delimiters[0],N=m.delimiters[1],I=A.stringify(s,o).trim();let k="";return I!=="{}"&&(k=i(x)+i(I)+i(N)),typeof a.excerpt=="string"&&a.excerpt!==""&&l.indexOf(a.excerpt.trim())===-1&&(k+=i(a.excerpt)+i(N)),k+i(l)};function i(a){return a.slice(-1)!==`
`?a+`
`:a}return stringify}var excerpt,hasRequiredExcerpt;function requireExcerpt(){if(hasRequiredExcerpt)return excerpt;hasRequiredExcerpt=1;const e=requireDefaults();return excerpt=function(t,n){const i=e(n);if(t.data==null&&(t.data={}),typeof i.excerpt=="function")return i.excerpt(t,i);const a=t.data.excerpt_separator||i.excerpt_separator;if(a==null&&(i.excerpt===!1||i.excerpt==null))return t;const s=typeof i.excerpt=="string"?i.excerpt:a||i.delimiters[0],o=t.content.indexOf(s);return o!==-1&&(t.excerpt=t.content.slice(0,o)),t},excerpt}var toFile,hasRequiredToFile;function requireToFile(){if(hasRequiredToFile)return toFile;hasRequiredToFile=1;const e=requireKindOf(),t=requireStringify(),n=requireUtils();return toFile=function(i){return e(i)!=="object"&&(i={content:i}),e(i.data)!=="object"&&(i.data={}),i.contents&&i.content==null&&(i.content=i.contents),n.define(i,"orig",n.toBuffer(i.content)),n.define(i,"language",i.language||""),n.define(i,"matter",i.matter||""),n.define(i,"stringify",function(a,s){return s&&s.language&&(i.language=s.language),t(i,a,s)}),i.content=n.toString(i.content),i.isEmpty=!1,i.excerpt="",i},toFile}var parse,hasRequiredParse;function requireParse(){if(hasRequiredParse)return parse;hasRequiredParse=1;const e=requireEngine(),t=requireDefaults();return parse=function(n,i,a){const s=t(a),o=e(n,s);if(typeof o.parse!="function")throw new TypeError('expected "'+n+'.parse" to be a function');return o.parse(i,s)},parse}var grayMatter,hasRequiredGrayMatter;function requireGrayMatter(){if(hasRequiredGrayMatter)return grayMatter;hasRequiredGrayMatter=1;const e=require$$0,t=requireSectionMatter(),n=requireDefaults(),i=requireStringify(),a=requireExcerpt(),s=requireEngines(),o=requireToFile(),l=requireParse(),m=requireUtils();function _(x,N){if(x==="")return{data:{},content:x,excerpt:"",orig:x};let I=o(x);const k=_.cache[I.content];if(!N){if(k)return I=Object.assign({},k),I.orig=k.orig,I;_.cache[I.content]=I}return A(I,N)}function A(x,N){const I=n(N),k=I.delimiters[0],R=`
`+I.delimiters[1];let M=x.content;I.language&&(x.language=I.language);const L=k.length;if(!m.startsWith(M,k,L))return a(x,I),x;if(M.charAt(L)===k.slice(-1))return x;M=M.slice(L);const B=M.length,H=_.language(M,I);H.name&&(x.language=H.name,M=M.slice(H.raw.length));let V=M.indexOf(R);return V===-1&&(V=B),x.matter=M.slice(0,V),x.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(x.isEmpty=!0,x.empty=x.content,x.data={}):x.data=l(x.language,x.matter,I),V===B?x.content="":(x.content=M.slice(V+R.length),x.content[0]==="\r"&&(x.content=x.content.slice(1)),x.content[0]===`
`&&(x.content=x.content.slice(1))),a(x,I),(I.sections===!0||typeof I.section=="function")&&t(x,I.section),x}return _.engines=s,_.stringify=function(x,N,I){return typeof x=="string"&&(x=_(x,I)),i(x,N,I)},_.read=function(x,N){const I=e.readFileSync(x,"utf8"),k=_(I,N);return k.path=x,k},_.test=function(x,N){return m.startsWith(x,n(N).delimiters[0])},_.language=function(x,N){const k=n(N).delimiters[0];_.test(x)&&(x=x.slice(k.length));const R=x.slice(0,x.search(/\r?\n/));return{raw:R,name:R?R.trim():""}},_.cache={},_.clearCache=function(){_.cache={}},grayMatter=_,grayMatter}var grayMatterExports=requireGrayMatter();const r=getDefaultExportFromCjs(grayMatterExports);var c=new TurndownService({headingStyle:"atx",codeBlockStyle:"fenced"});function f(e){let t=c.turndown(e.content||""),{content:n,...i}=e;return r.stringify(t,i)}function p(e){let t=r(e),n=t.data,i=marked.parse(t.content);return{title:n.title||"Untitled",content:i,tags:n.tags||[],created:n.created||new Date().toISOString(),updated:n.updated||new Date().toISOString(),...n}}var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,(function(e,t){(function(n,i){i()})(FileSaver_min,function(){function n(_,A){return typeof A>"u"?A={autoBom:!1}:typeof A!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),A={autoBom:!A}),A.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_}function i(_,A,x){var N=new XMLHttpRequest;N.open("GET",_),N.responseType="blob",N.onload=function(){m(N.response,A,x)},N.onerror=function(){console.error("could not download file")},N.send()}function a(_){var A=new XMLHttpRequest;A.open("HEAD",_,!1);try{A.send()}catch{}return 200<=A.status&&299>=A.status}function s(_){try{_.dispatchEvent(new MouseEvent("click"))}catch{var A=document.createEvent("MouseEvents");A.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),_.dispatchEvent(A)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),m=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(_,A,x){var N=o.URL||o.webkitURL,I=document.createElement("a");A=A||_.name||"download",I.download=A,I.rel="noopener",typeof _=="string"?(I.href=_,I.origin===location.origin?s(I):a(I.href)?i(_,A,x):s(I,I.target="_blank")):(I.href=N.createObjectURL(_),setTimeout(function(){N.revokeObjectURL(I.href)},4e4),setTimeout(function(){s(I)},0))}:"msSaveOrOpenBlob"in navigator?function(_,A,x){if(A=A||_.name||"download",typeof _!="string")navigator.msSaveOrOpenBlob(n(_,x),A);else if(a(_))i(_,A,x);else{var N=document.createElement("a");N.href=_,N.target="_blank",setTimeout(function(){s(N)})}}:function(_,A,x,N){if(N=N||open("","_blank"),N&&(N.document.title=N.document.body.innerText="downloading..."),typeof _=="string")return i(_,A,x);var I=_.type==="application/octet-stream",k=/constructor/i.test(o.HTMLElement)||o.safari,R=/CriOS\/[\d]+/.test(navigator.userAgent);if((R||I&&k||l)&&typeof FileReader<"u"){var M=new FileReader;M.onloadend=function(){var H=M.result;H=R?H:H.replace(/^data:[^;]*;/,"data:attachment/file;"),N?N.location.href=H:location=H,N=null},M.readAsDataURL(_)}else{var L=o.URL||o.webkitURL,B=L.createObjectURL(_);N?N.location=B:location.href=B,N=null,setTimeout(function(){L.revokeObjectURL(B)},4e4)}});o.saveAs=m.saveAs=m,e.exports=m})})(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min(),module$1={};(function e(t,n,i,a){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var z=new OffscreenCanvas(1,1),w=z.getContext("2d");w.fillRect(0,0,1,1);var q=z.transferToImageBitmap();w.createPattern(q,"no-repeat")}catch{return!1}return!0})();function m(){}function _(z){var w=n.exports.Promise,q=w!==void 0?w:t.Promise;return typeof q=="function"?new q(z):(z(m,m),null)}var A=(function(z,w){return{transform:function(q){if(z)return q;if(w.has(q))return w.get(q);var ce=new OffscreenCanvas(q.width,q.height),le=ce.getContext("2d");return le.drawImage(q,0,0),w.set(q,ce),ce},clear:function(){w.clear()}}})(l,new Map),x=(function(){var z=Math.floor(16.666666666666668),w,q,ce={},le=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(ee){var Ce=Math.random();return ce[Ce]=requestAnimationFrame(function Se(Ae){le===Ae||le+z-1<Ae?(le=Ae,delete ce[Ce],ee()):ce[Ce]=requestAnimationFrame(Se)}),Ce},q=function(ee){ce[ee]&&cancelAnimationFrame(ce[ee])}):(w=function(ee){return setTimeout(ee,z)},q=function(ee){return clearTimeout(ee)}),{frame:w,cancel:q}})(),N=(function(){var z,w,q={};function ce(le){function ee(Ce,Se){le.postMessage({options:Ce||{},callback:Se})}le.init=function(Se){var Ae=Se.transferControlToOffscreen();le.postMessage({canvas:Ae},[Ae])},le.fire=function(Se,Ae,De){if(w)return ee(Se,null),w;var ye=Math.random().toString(36).slice(2);return w=_(function(Ne){function Re(ke){ke.data.callback===ye&&(delete q[ye],le.removeEventListener("message",Re),w=null,A.clear(),De(),Ne())}le.addEventListener("message",Re),ee(Se,ye),q[ye]=Re.bind(null,{data:{callback:ye}})}),w},le.reset=function(){le.postMessage({reset:!0});for(var Se in q)q[Se](),delete q[Se]}}return function(){if(z)return z;if(!i&&s){var le=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{z=new Worker(URL.createObjectURL(new Blob([le])))}catch(ee){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ee),null}ce(z)}return z}})(),I={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function k(z,w){return w?w(z):z}function R(z){return z!=null}function M(z,w,q){return k(z&&R(z[w])?z[w]:I[w],q)}function L(z){return z<0?0:Math.floor(z)}function B(z,w){return Math.floor(Math.random()*(w-z))+z}function H(z){return parseInt(z,16)}function V(z){return z.map(Y)}function Y(z){var w=String(z).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:H(w.substring(0,2)),g:H(w.substring(2,4)),b:H(w.substring(4,6))}}function ae(z){var w=M(z,"origin",Object);return w.x=M(w,"x",Number),w.y=M(w,"y",Number),w}function oe(z){z.width=document.documentElement.clientWidth,z.height=document.documentElement.clientHeight}function be(z){var w=z.getBoundingClientRect();z.width=w.width,z.height=w.height}function ie(z){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=z,w}function Te(z,w,q,ce,le,ee,Ce,Se,Ae){z.save(),z.translate(w,q),z.rotate(ee),z.scale(ce,le),z.arc(0,0,1,Ce,Se,Ae),z.restore()}function Ie(z){var w=z.angle*(Math.PI/180),q=z.spread*(Math.PI/180);return{x:z.x,y:z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:z.startVelocity*.5+Math.random()*z.startVelocity,angle2D:-w+(.5*q-Math.random()*q),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:z.color,shape:z.shape,tick:0,totalTicks:z.ticks,decay:z.decay,drift:z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:z.gravity*3,ovalScalar:.6,scalar:z.scalar,flat:z.flat}}function j(z,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var q=w.tick++/w.totalTicks,ce=w.x+w.random*w.tiltCos,le=w.y+w.random*w.tiltSin,ee=w.wobbleX+w.random*w.tiltCos,Ce=w.wobbleY+w.random*w.tiltSin;if(z.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-q)+")",z.beginPath(),o&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))z.fill(J(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(ee-ce)*.1,Math.abs(Ce-le)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var Se=Math.PI/10*w.wobble,Ae=Math.abs(ee-ce)*.1,De=Math.abs(Ce-le)*.1,ye=w.shape.bitmap.width*w.scalar,Ne=w.shape.bitmap.height*w.scalar,Re=new DOMMatrix([Math.cos(Se)*Ae,Math.sin(Se)*Ae,-Math.sin(Se)*De,Math.cos(Se)*De,w.x,w.y]);Re.multiplySelf(new DOMMatrix(w.shape.matrix));var ke=z.createPattern(A.transform(w.shape.bitmap),"no-repeat");ke.setTransform(Re),z.globalAlpha=1-q,z.fillStyle=ke,z.fillRect(w.x-ye/2,w.y-Ne/2,ye,Ne),z.globalAlpha=1}else if(w.shape==="circle")z.ellipse?z.ellipse(w.x,w.y,Math.abs(ee-ce)*w.ovalScalar,Math.abs(Ce-le)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):Te(z,w.x,w.y,Math.abs(ee-ce)*w.ovalScalar,Math.abs(Ce-le)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var y=Math.PI/2*3,se=4*w.scalar,te=8*w.scalar,G=w.x,P=w.y,K=5,he=Math.PI/K;K--;)G=w.x+Math.cos(y)*te,P=w.y+Math.sin(y)*te,z.lineTo(G,P),y+=he,G=w.x+Math.cos(y)*se,P=w.y+Math.sin(y)*se,z.lineTo(G,P),y+=he;else z.moveTo(Math.floor(w.x),Math.floor(w.y)),z.lineTo(Math.floor(w.wobbleX),Math.floor(le)),z.lineTo(Math.floor(ee),Math.floor(Ce)),z.lineTo(Math.floor(ce),Math.floor(w.wobbleY));return z.closePath(),z.fill(),w.tick<w.totalTicks}function de(z,w,q,ce,le){var ee=w.slice(),Ce=z.getContext("2d"),Se,Ae,De=_(function(ye){function Ne(){Se=Ae=null,Ce.clearRect(0,0,ce.width,ce.height),A.clear(),le(),ye()}function Re(){i&&!(ce.width===a.width&&ce.height===a.height)&&(ce.width=z.width=a.width,ce.height=z.height=a.height),!ce.width&&!ce.height&&(q(z),ce.width=z.width,ce.height=z.height),Ce.clearRect(0,0,ce.width,ce.height),ee=ee.filter(function(ke){return j(Ce,ke)}),ee.length?Se=x.frame(Re):Ne()}Se=x.frame(Re),Ae=Ne});return{addFettis:function(ye){return ee=ee.concat(ye),De},canvas:z,promise:De,reset:function(){Se&&x.cancel(Se),Ae&&Ae()}}}function O(z,w){var q=!z,ce=!!M(w||{},"resize"),le=!1,ee=M(w,"disableForReducedMotion",Boolean),Ce=s&&!!M(w||{},"useWorker"),Se=Ce?N():null,Ae=q?oe:be,De=z&&Se?!!z.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ne;function Re(y,se,te){for(var G=M(y,"particleCount",L),P=M(y,"angle",Number),K=M(y,"spread",Number),he=M(y,"startVelocity",Number),Ee=M(y,"decay",Number),X=M(y,"gravity",Number),ge=M(y,"drift",Number),xe=M(y,"colors",V),T=M(y,"ticks",Number),W=M(y,"shapes"),C=M(y,"scalar"),E=!!M(y,"flat"),b=ae(y),g=G,v=[],F=z.width*b.x,U=z.height*b.y;g--;)v.push(Ie({x:F,y:U,angle:P,spread:K,startVelocity:he,color:xe[g%xe.length],shape:W[B(0,W.length)],ticks:T,decay:Ee,gravity:X,drift:ge,scalar:C,flat:E}));return Ne?Ne.addFettis(v):(Ne=de(z,v,Ae,se,te),Ne.promise)}function ke(y){var se=ee||M(y,"disableForReducedMotion",Boolean),te=M(y,"zIndex",Number);if(se&&ye)return _(function(he){he()});q&&Ne?z=Ne.canvas:q&&!z&&(z=ie(te),document.body.appendChild(z)),ce&&!De&&Ae(z);var G={width:z.width,height:z.height};Se&&!De&&Se.init(z),De=!0,Se&&(z.__confetti_initialized=!0);function P(){if(Se){var he={getBoundingClientRect:function(){if(!q)return z.getBoundingClientRect()}};Ae(he),Se.postMessage({resize:{width:he.width,height:he.height}});return}G.width=G.height=null}function K(){Ne=null,ce&&(le=!1,t.removeEventListener("resize",P)),q&&z&&(document.body.contains(z)&&document.body.removeChild(z),z=null,De=!1)}return ce&&!le&&(le=!0,t.addEventListener("resize",P,!1)),Se?Se.fire(y,G,K):Re(y,G,K)}return ke.reset=function(){Se&&Se.reset(),Ne&&Ne.reset()},ke}var Q;function fe(){return Q||(Q=O(null,{useWorker:!0,resize:!0})),Q}function J(z,w,q,ce,le,ee,Ce){var Se=new Path2D(z),Ae=new Path2D;Ae.addPath(Se,new DOMMatrix(w));var De=new Path2D;return De.addPath(Ae,new DOMMatrix([Math.cos(Ce)*le,Math.sin(Ce)*le,-Math.sin(Ce)*ee,Math.cos(Ce)*ee,q,ce])),De}function Z(z){if(!o)throw new Error("path confetti are not supported in this browser");var w,q;typeof z=="string"?w=z:(w=z.path,q=z.matrix);var ce=new Path2D(w),le=document.createElement("canvas"),ee=le.getContext("2d");if(!q){for(var Ce=1e3,Se=Ce,Ae=Ce,De=0,ye=0,Ne,Re,ke=0;ke<Ce;ke+=2)for(var y=0;y<Ce;y+=2)ee.isPointInPath(ce,ke,y,"nonzero")&&(Se=Math.min(Se,ke),Ae=Math.min(Ae,y),De=Math.max(De,ke),ye=Math.max(ye,y));Ne=De-Se,Re=ye-Ae;var se=10,te=Math.min(se/Ne,se/Re);q=[te,0,0,te,-Math.round(Ne/2+Se)*te,-Math.round(Re/2+Ae)*te]}return{type:"path",path:w,matrix:q}}function ue(z){var w,q=1,ce="#000000",le='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof z=="string"?w=z:(w=z.text,q="scalar"in z?z.scalar:q,le="fontFamily"in z?z.fontFamily:le,ce="color"in z?z.color:ce);var ee=10*q,Ce=""+ee+"px "+le,Se=new OffscreenCanvas(ee,ee),Ae=Se.getContext("2d");Ae.font=Ce;var De=Ae.measureText(w),ye=Math.ceil(De.actualBoundingBoxRight+De.actualBoundingBoxLeft),Ne=Math.ceil(De.actualBoundingBoxAscent+De.actualBoundingBoxDescent),Re=2,ke=De.actualBoundingBoxLeft+Re,y=De.actualBoundingBoxAscent+Re;ye+=Re+Re,Ne+=Re+Re,Se=new OffscreenCanvas(ye,Ne),Ae=Se.getContext("2d"),Ae.font=Ce,Ae.fillStyle=ce,Ae.fillText(w,ke,y);var se=1/q;return{type:"bitmap",bitmap:Se.transferToImageBitmap(),matrix:[se,0,0,se,-ye*se/2,-Ne*se/2]}}n.exports=function(){return fe().apply(this,arguments)},n.exports.reset=function(){fe().reset()},n.exports.create=O,n.exports.shapeFromPath=Z,n.exports.shapeFromText=ue})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),module$1,!1);const confetti=module$1.exports;module$1.exports.create;var jszip_min={exports:{}};var hasRequiredJszip_min;function requireJszip_min(){return hasRequiredJszip_min||(hasRequiredJszip_min=1,(function(e,t){(function(n){e.exports=n()})(function(){return(function n(i,a,s){function o(_,A){if(!a[_]){if(!i[_]){var x=typeof commonjsRequire=="function"&&commonjsRequire;if(!A&&x)return x(_,!0);if(l)return l(_,!0);var N=new Error("Cannot find module '"+_+"'");throw N.code="MODULE_NOT_FOUND",N}var I=a[_]={exports:{}};i[_][0].call(I.exports,function(k){var R=i[_][1][k];return o(R||k)},I,I.exports,n,i,a,s)}return a[_].exports}for(var l=typeof commonjsRequire=="function"&&commonjsRequire,m=0;m<s.length;m++)o(s[m]);return o})({1:[function(n,i,a){var s=n("./utils"),o=n("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(m){for(var _,A,x,N,I,k,R,M=[],L=0,B=m.length,H=B,V=s.getTypeOf(m)!=="string";L<m.length;)H=B-L,x=V?(_=m[L++],A=L<B?m[L++]:0,L<B?m[L++]:0):(_=m.charCodeAt(L++),A=L<B?m.charCodeAt(L++):0,L<B?m.charCodeAt(L++):0),N=_>>2,I=(3&_)<<4|A>>4,k=1<H?(15&A)<<2|x>>6:64,R=2<H?63&x:64,M.push(l.charAt(N)+l.charAt(I)+l.charAt(k)+l.charAt(R));return M.join("")},a.decode=function(m){var _,A,x,N,I,k,R=0,M=0,L="data:";if(m.substr(0,L.length)===L)throw new Error("Invalid base64 input, it looks like a data url.");var B,H=3*(m=m.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(m.charAt(m.length-1)===l.charAt(64)&&H--,m.charAt(m.length-2)===l.charAt(64)&&H--,H%1!=0)throw new Error("Invalid base64 input, bad content length.");for(B=o.uint8array?new Uint8Array(0|H):new Array(0|H);R<m.length;)_=l.indexOf(m.charAt(R++))<<2|(N=l.indexOf(m.charAt(R++)))>>4,A=(15&N)<<4|(I=l.indexOf(m.charAt(R++)))>>2,x=(3&I)<<6|(k=l.indexOf(m.charAt(R++))),B[M++]=_,I!==64&&(B[M++]=A),k!==64&&(B[M++]=x);return B}},{"./support":30,"./utils":32}],2:[function(n,i,a){var s=n("./external"),o=n("./stream/DataWorker"),l=n("./stream/Crc32Probe"),m=n("./stream/DataLengthProbe");function _(A,x,N,I,k){this.compressedSize=A,this.uncompressedSize=x,this.crc32=N,this.compression=I,this.compressedContent=k}_.prototype={getContentWorker:function(){var A=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new m("data_length")),x=this;return A.on("end",function(){if(this.streamInfo.data_length!==x.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),A},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},_.createWorkerFrom=function(A,x,N){return A.pipe(new l).pipe(new m("uncompressedSize")).pipe(x.compressWorker(N)).pipe(new m("compressedSize")).withStreamInfo("compression",x)},i.exports=_},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,a){var s=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,a){var s=n("./utils"),o=(function(){for(var l,m=[],_=0;_<256;_++){l=_;for(var A=0;A<8;A++)l=1&l?3988292384^l>>>1:l>>>1;m[_]=l}return m})();i.exports=function(l,m){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?(function(_,A,x,N){var I=o,k=N+x;_^=-1;for(var R=N;R<k;R++)_=_>>>8^I[255&(_^A[R])];return-1^_})(0|m,l,l.length,0):(function(_,A,x,N){var I=o,k=N+x;_^=-1;for(var R=N;R<k;R++)_=_>>>8^I[255&(_^A.charCodeAt(R))];return-1^_})(0|m,l,l.length,0):0}},{"./utils":32}],5:[function(n,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,i,a){var s=null;s=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:s}},{lie:37}],7:[function(n,i,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),l=n("./utils"),m=n("./stream/GenericWorker"),_=s?"uint8array":"array";function A(x,N){m.call(this,"FlateWorker/"+x),this._pako=null,this._pakoAction=x,this._pakoOptions=N,this.meta={}}a.magic="\b\0",l.inherits(A,m),A.prototype.processChunk=function(x){this.meta=x.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(_,x.data),!1)},A.prototype.flush=function(){m.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},A.prototype.cleanUp=function(){m.prototype.cleanUp.call(this),this._pako=null},A.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var x=this;this._pako.onData=function(N){x.push({data:N,meta:x.meta})}},a.compressWorker=function(x){return new A("Deflate",x)},a.uncompressWorker=function(){return new A("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,a){function s(I,k){var R,M="";for(R=0;R<k;R++)M+=String.fromCharCode(255&I),I>>>=8;return M}function o(I,k,R,M,L,B){var H,V,Y=I.file,ae=I.compression,oe=B!==_.utf8encode,be=l.transformTo("string",B(Y.name)),ie=l.transformTo("string",_.utf8encode(Y.name)),Te=Y.comment,Ie=l.transformTo("string",B(Te)),j=l.transformTo("string",_.utf8encode(Te)),de=ie.length!==Y.name.length,O=j.length!==Te.length,Q="",fe="",J="",Z=Y.dir,ue=Y.date,z={crc32:0,compressedSize:0,uncompressedSize:0};k&&!R||(z.crc32=I.crc32,z.compressedSize=I.compressedSize,z.uncompressedSize=I.uncompressedSize);var w=0;k&&(w|=8),oe||!de&&!O||(w|=2048);var q=0,ce=0;Z&&(q|=16),L==="UNIX"?(ce=798,q|=(function(ee,Ce){var Se=ee;return ee||(Se=Ce?16893:33204),(65535&Se)<<16})(Y.unixPermissions,Z)):(ce=20,q|=(function(ee){return 63&(ee||0)})(Y.dosPermissions)),H=ue.getUTCHours(),H<<=6,H|=ue.getUTCMinutes(),H<<=5,H|=ue.getUTCSeconds()/2,V=ue.getUTCFullYear()-1980,V<<=4,V|=ue.getUTCMonth()+1,V<<=5,V|=ue.getUTCDate(),de&&(fe=s(1,1)+s(A(be),4)+ie,Q+="up"+s(fe.length,2)+fe),O&&(J=s(1,1)+s(A(Ie),4)+j,Q+="uc"+s(J.length,2)+J);var le="";return le+=`
\0`,le+=s(w,2),le+=ae.magic,le+=s(H,2),le+=s(V,2),le+=s(z.crc32,4),le+=s(z.compressedSize,4),le+=s(z.uncompressedSize,4),le+=s(be.length,2),le+=s(Q.length,2),{fileRecord:x.LOCAL_FILE_HEADER+le+be+Q,dirRecord:x.CENTRAL_FILE_HEADER+s(ce,2)+le+s(Ie.length,2)+"\0\0\0\0"+s(q,4)+s(M,4)+be+Q+Ie}}var l=n("../utils"),m=n("../stream/GenericWorker"),_=n("../utf8"),A=n("../crc32"),x=n("../signature");function N(I,k,R,M){m.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=k,this.zipPlatform=R,this.encodeFileName=M,this.streamFiles=I,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(N,m),N.prototype.push=function(I){var k=I.meta.percent||0,R=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(I):(this.bytesWritten+=I.data.length,m.prototype.push.call(this,{data:I.data,meta:{currentFile:this.currentFile,percent:R?(k+100*(R-M-1))/R:100}}))},N.prototype.openedSource=function(I){this.currentSourceOffset=this.bytesWritten,this.currentFile=I.file.name;var k=this.streamFiles&&!I.file.dir;if(k){var R=o(I,k,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:R.fileRecord,meta:{percent:0}})}else this.accumulate=!0},N.prototype.closedSource=function(I){this.accumulate=!1;var k=this.streamFiles&&!I.file.dir,R=o(I,k,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(R.dirRecord),k)this.push({data:(function(M){return x.DATA_DESCRIPTOR+s(M.crc32,4)+s(M.compressedSize,4)+s(M.uncompressedSize,4)})(I),meta:{percent:100}});else for(this.push({data:R.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},N.prototype.flush=function(){for(var I=this.bytesWritten,k=0;k<this.dirRecords.length;k++)this.push({data:this.dirRecords[k],meta:{percent:100}});var R=this.bytesWritten-I,M=(function(L,B,H,V,Y){var ae=l.transformTo("string",Y(V));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(L,2)+s(L,2)+s(B,4)+s(H,4)+s(ae.length,2)+ae})(this.dirRecords.length,R,I,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},N.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},N.prototype.registerPrevious=function(I){this._sources.push(I);var k=this;return I.on("data",function(R){k.processChunk(R)}),I.on("end",function(){k.closedSource(k.previous.streamInfo),k._sources.length?k.prepareNextSource():k.end()}),I.on("error",function(R){k.error(R)}),this},N.prototype.resume=function(){return!!m.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},N.prototype.error=function(I){var k=this._sources;if(!m.prototype.error.call(this,I))return!1;for(var R=0;R<k.length;R++)try{k[R].error(I)}catch{}return!0},N.prototype.lock=function(){m.prototype.lock.call(this);for(var I=this._sources,k=0;k<I.length;k++)I[k].lock()},i.exports=N},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,a){var s=n("../compressions"),o=n("./ZipFileWorker");a.generateWorker=function(l,m,_){var A=new o(m.streamFiles,_,m.platform,m.encodeFileName),x=0;try{l.forEach(function(N,I){x++;var k=(function(B,H){var V=B||H,Y=s[V];if(!Y)throw new Error(V+" is not a valid compression method !");return Y})(I.options.compression,m.compression),R=I.options.compressionOptions||m.compressionOptions||{},M=I.dir,L=I.date;I._compressWorker(k,R).withStreamInfo("file",{name:N,dir:M,date:L,comment:I.comment||"",unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions}).pipe(A)}),A.entriesCount=x}catch(N){A.error(N)}return A}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=n("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,a){var s=n("./utils"),o=n("./external"),l=n("./utf8"),m=n("./zipEntries"),_=n("./stream/Crc32Probe"),A=n("./nodejsUtils");function x(N){return new o.Promise(function(I,k){var R=N.decompressed.getContentWorker().pipe(new _);R.on("error",function(M){k(M)}).on("end",function(){R.streamInfo.crc32!==N.decompressed.crc32?k(new Error("Corrupted zip : CRC32 mismatch")):I()}).resume()})}i.exports=function(N,I){var k=this;return I=s.extend(I||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),A.isNode&&A.isStream(N)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",N,!0,I.optimizedBinaryString,I.base64).then(function(R){var M=new m(I);return M.load(R),M}).then(function(R){var M=[o.Promise.resolve(R)],L=R.files;if(I.checkCRC32)for(var B=0;B<L.length;B++)M.push(x(L[B]));return o.Promise.all(M)}).then(function(R){for(var M=R.shift(),L=M.files,B=0;B<L.length;B++){var H=L[B],V=H.fileNameStr,Y=s.resolve(H.fileNameStr);k.file(Y,H.decompressed,{binary:!0,optimizedBinaryString:!0,date:H.date,dir:H.dir,comment:H.fileCommentStr.length?H.fileCommentStr:null,unixPermissions:H.unixPermissions,dosPermissions:H.dosPermissions,createFolders:I.createFolders}),H.dir||(k.file(Y).unsafeOriginalName=V)}return M.zipComment.length&&(k.comment=M.zipComment),k})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,a){var s=n("../utils"),o=n("../stream/GenericWorker");function l(m,_){o.call(this,"Nodejs stream input adapter for "+m),this._upstreamEnded=!1,this._bindStream(_)}s.inherits(l,o),l.prototype._bindStream=function(m){var _=this;(this._stream=m).pause(),m.on("data",function(A){_.push({data:A,meta:{percent:0}})}).on("error",function(A){_.isPaused?this.generatedError=A:_.error(A)}).on("end",function(){_.isPaused?_._upstreamEnded=!0:_.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,a){var s=n("readable-stream").Readable;function o(l,m,_){s.call(this,m),this._helper=l;var A=this;l.on("data",function(x,N){A.push(x)||A._helper.pause(),_&&_(N)}).on("error",function(x){A.emit("error",x)}).on("end",function(){A.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},i.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,i,a){function s(Y,ae,oe){var be,ie=l.getTypeOf(ae),Te=l.extend(oe||{},A);Te.date=Te.date||new Date,Te.compression!==null&&(Te.compression=Te.compression.toUpperCase()),typeof Te.unixPermissions=="string"&&(Te.unixPermissions=parseInt(Te.unixPermissions,8)),Te.unixPermissions&&16384&Te.unixPermissions&&(Te.dir=!0),Te.dosPermissions&&16&Te.dosPermissions&&(Te.dir=!0),Te.dir&&(Y=L(Y)),Te.createFolders&&(be=M(Y))&&B.call(this,be,!0);var Ie=ie==="string"&&Te.binary===!1&&Te.base64===!1;oe&&oe.binary!==void 0||(Te.binary=!Ie),(ae instanceof x&&ae.uncompressedSize===0||Te.dir||!ae||ae.length===0)&&(Te.base64=!1,Te.binary=!0,ae="",Te.compression="STORE",ie="string");var j=null;j=ae instanceof x||ae instanceof m?ae:k.isNode&&k.isStream(ae)?new R(Y,ae):l.prepareContent(Y,ae,Te.binary,Te.optimizedBinaryString,Te.base64);var de=new N(Y,j,Te);this.files[Y]=de}var o=n("./utf8"),l=n("./utils"),m=n("./stream/GenericWorker"),_=n("./stream/StreamHelper"),A=n("./defaults"),x=n("./compressedObject"),N=n("./zipObject"),I=n("./generate"),k=n("./nodejsUtils"),R=n("./nodejs/NodejsStreamInputAdapter"),M=function(Y){Y.slice(-1)==="/"&&(Y=Y.substring(0,Y.length-1));var ae=Y.lastIndexOf("/");return 0<ae?Y.substring(0,ae):""},L=function(Y){return Y.slice(-1)!=="/"&&(Y+="/"),Y},B=function(Y,ae){return ae=ae!==void 0?ae:A.createFolders,Y=L(Y),this.files[Y]||s.call(this,Y,null,{dir:!0,createFolders:ae}),this.files[Y]};function H(Y){return Object.prototype.toString.call(Y)==="[object RegExp]"}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(Y){var ae,oe,be;for(ae in this.files)be=this.files[ae],(oe=ae.slice(this.root.length,ae.length))&&ae.slice(0,this.root.length)===this.root&&Y(oe,be)},filter:function(Y){var ae=[];return this.forEach(function(oe,be){Y(oe,be)&&ae.push(be)}),ae},file:function(Y,ae,oe){if(arguments.length!==1)return Y=this.root+Y,s.call(this,Y,ae,oe),this;if(H(Y)){var be=Y;return this.filter(function(Te,Ie){return!Ie.dir&&be.test(Te)})}var ie=this.files[this.root+Y];return ie&&!ie.dir?ie:null},folder:function(Y){if(!Y)return this;if(H(Y))return this.filter(function(ie,Te){return Te.dir&&Y.test(ie)});var ae=this.root+Y,oe=B.call(this,ae),be=this.clone();return be.root=oe.name,be},remove:function(Y){Y=this.root+Y;var ae=this.files[Y];if(ae||(Y.slice(-1)!=="/"&&(Y+="/"),ae=this.files[Y]),ae&&!ae.dir)delete this.files[Y];else for(var oe=this.filter(function(ie,Te){return Te.name.slice(0,Y.length)===Y}),be=0;be<oe.length;be++)delete this.files[oe[be].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(Y){var ae,oe={};try{if((oe=l.extend(Y||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=oe.type.toLowerCase(),oe.compression=oe.compression.toUpperCase(),oe.type==="binarystring"&&(oe.type="string"),!oe.type)throw new Error("No output type specified.");l.checkSupport(oe.type),oe.platform!=="darwin"&&oe.platform!=="freebsd"&&oe.platform!=="linux"&&oe.platform!=="sunos"||(oe.platform="UNIX"),oe.platform==="win32"&&(oe.platform="DOS");var be=oe.comment||this.comment||"";ae=I.generateWorker(this,oe,be)}catch(ie){(ae=new m("error")).error(ie)}return new _(ae,oe.type||"string",oe.mimeType)},generateAsync:function(Y,ae){return this.generateInternalStream(Y).accumulate(ae)},generateNodeStream:function(Y,ae){return(Y=Y||{}).type||(Y.type="nodebuffer"),this.generateInternalStream(Y).toNodejsStream(ae)}};i.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,a){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,a){var s=n("./DataReader");function o(l){s.call(this,l);for(var m=0;m<this.data.length;m++)l[m]=255&l[m]}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var m=l.charCodeAt(0),_=l.charCodeAt(1),A=l.charCodeAt(2),x=l.charCodeAt(3),N=this.length-4;0<=N;--N)if(this.data[N]===m&&this.data[N+1]===_&&this.data[N+2]===A&&this.data[N+3]===x)return N-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var m=l.charCodeAt(0),_=l.charCodeAt(1),A=l.charCodeAt(2),x=l.charCodeAt(3),N=this.readData(4);return m===N[0]&&_===N[1]&&A===N[2]&&x===N[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var m=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,m},i.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,i,a){var s=n("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var m,_=0;for(this.checkOffset(l),m=this.index+l-1;m>=this.index;m--)_=(_<<8)+this.byteAt(m);return this.index+=l,_},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},i.exports=o},{"../utils":32}],19:[function(n,i,a){var s=n("./Uint8ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var m=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,m},i.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,a){var s=n("./DataReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var m=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,m},i.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,i,a){var s=n("./ArrayReader");function o(l){s.call(this,l)}n("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var m=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,m},i.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,a){var s=n("../utils"),o=n("../support"),l=n("./ArrayReader"),m=n("./StringReader"),_=n("./NodeBufferReader"),A=n("./Uint8ArrayReader");i.exports=function(x){var N=s.getTypeOf(x);return s.checkSupport(N),N!=="string"||o.uint8array?N==="nodebuffer"?new _(x):o.uint8array?new A(s.transformTo("uint8array",x)):new l(s.transformTo("array",x)):new m(x)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,a){var s=n("./GenericWorker"),o=n("../utils");function l(m){s.call(this,"ConvertWorker to "+m),this.destType=m}o.inherits(l,s),l.prototype.processChunk=function(m){this.push({data:o.transformTo(this.destType,m.data),meta:m.meta})},i.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,a){var s=n("./GenericWorker"),o=n("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(l,s),l.prototype.processChunk=function(m){this.streamInfo.crc32=o(m.data,this.streamInfo.crc32||0),this.push(m)},i.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,a){var s=n("../utils"),o=n("./GenericWorker");function l(m){o.call(this,"DataLengthProbe for "+m),this.propName=m,this.withStreamInfo(m,0)}s.inherits(l,o),l.prototype.processChunk=function(m){if(m){var _=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=_+m.data.length}o.prototype.processChunk.call(this,m)},i.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,a){var s=n("../utils"),o=n("./GenericWorker");function l(m){o.call(this,"DataWorker");var _=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,m.then(function(A){_.dataIsReady=!0,_.data=A,_.max=A&&A.length||0,_.type=s.getTypeOf(A),_.isPaused||_._tickAndRepeat()},function(A){_.error(A)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var m=null,_=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":m=this.data.substring(this.index,_);break;case"uint8array":m=this.data.subarray(this.index,_);break;case"array":case"nodebuffer":m=this.data.slice(this.index,_)}return this.index=_,this.push({data:m,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,a){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var m=0;m<this._listeners[o].length;m++)this._listeners[o][m].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(m){l.processChunk(m)}),o.on("end",function(){l.end()}),o.on("error",function(m){l.error(m)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},i.exports=s},{}],29:[function(n,i,a){var s=n("../utils"),o=n("./ConvertWorker"),l=n("./GenericWorker"),m=n("../base64"),_=n("../support"),A=n("../external"),x=null;if(_.nodestream)try{x=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function N(k,R){return new A.Promise(function(M,L){var B=[],H=k._internalType,V=k._outputType,Y=k._mimeType;k.on("data",function(ae,oe){B.push(ae),R&&R(oe)}).on("error",function(ae){B=[],L(ae)}).on("end",function(){try{var ae=(function(oe,be,ie){switch(oe){case"blob":return s.newBlob(s.transformTo("arraybuffer",be),ie);case"base64":return m.encode(be);default:return s.transformTo(oe,be)}})(V,(function(oe,be){var ie,Te=0,Ie=null,j=0;for(ie=0;ie<be.length;ie++)j+=be[ie].length;switch(oe){case"string":return be.join("");case"array":return Array.prototype.concat.apply([],be);case"uint8array":for(Ie=new Uint8Array(j),ie=0;ie<be.length;ie++)Ie.set(be[ie],Te),Te+=be[ie].length;return Ie;case"nodebuffer":return Buffer.concat(be);default:throw new Error("concat : unsupported type '"+oe+"'")}})(H,B),Y);M(ae)}catch(oe){L(oe)}B=[]}).resume()})}function I(k,R,M){var L=R;switch(R){case"blob":case"arraybuffer":L="uint8array";break;case"base64":L="string"}try{this._internalType=L,this._outputType=R,this._mimeType=M,s.checkSupport(L),this._worker=k.pipe(new o(L)),k.lock()}catch(B){this._worker=new l("error"),this._worker.error(B)}}I.prototype={accumulate:function(k){return N(this,k)},on:function(k,R){var M=this;return k==="data"?this._worker.on(k,function(L){R.call(M,L.data,L.meta)}):this._worker.on(k,function(){s.delay(R,arguments,M)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(k){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new x(this,{objectMode:this._outputType!=="nodebuffer"},k)}},i.exports=I},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,a){for(var s=n("./utils"),o=n("./support"),l=n("./nodejsUtils"),m=n("./stream/GenericWorker"),_=new Array(256),A=0;A<256;A++)_[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;_[254]=_[254]=1;function x(){m.call(this,"utf-8 decode"),this.leftOver=null}function N(){m.call(this,"utf-8 encode")}a.utf8encode=function(I){return o.nodebuffer?l.newBufferFrom(I,"utf-8"):(function(k){var R,M,L,B,H,V=k.length,Y=0;for(B=0;B<V;B++)(64512&(M=k.charCodeAt(B)))==55296&&B+1<V&&(64512&(L=k.charCodeAt(B+1)))==56320&&(M=65536+(M-55296<<10)+(L-56320),B++),Y+=M<128?1:M<2048?2:M<65536?3:4;for(R=o.uint8array?new Uint8Array(Y):new Array(Y),B=H=0;H<Y;B++)(64512&(M=k.charCodeAt(B)))==55296&&B+1<V&&(64512&(L=k.charCodeAt(B+1)))==56320&&(M=65536+(M-55296<<10)+(L-56320),B++),M<128?R[H++]=M:(M<2048?R[H++]=192|M>>>6:(M<65536?R[H++]=224|M>>>12:(R[H++]=240|M>>>18,R[H++]=128|M>>>12&63),R[H++]=128|M>>>6&63),R[H++]=128|63&M);return R})(I)},a.utf8decode=function(I){return o.nodebuffer?s.transformTo("nodebuffer",I).toString("utf-8"):(function(k){var R,M,L,B,H=k.length,V=new Array(2*H);for(R=M=0;R<H;)if((L=k[R++])<128)V[M++]=L;else if(4<(B=_[L]))V[M++]=65533,R+=B-1;else{for(L&=B===2?31:B===3?15:7;1<B&&R<H;)L=L<<6|63&k[R++],B--;1<B?V[M++]=65533:L<65536?V[M++]=L:(L-=65536,V[M++]=55296|L>>10&1023,V[M++]=56320|1023&L)}return V.length!==M&&(V.subarray?V=V.subarray(0,M):V.length=M),s.applyFromCharCode(V)})(I=s.transformTo(o.uint8array?"uint8array":"array",I))},s.inherits(x,m),x.prototype.processChunk=function(I){var k=s.transformTo(o.uint8array?"uint8array":"array",I.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var R=k;(k=new Uint8Array(R.length+this.leftOver.length)).set(this.leftOver,0),k.set(R,this.leftOver.length)}else k=this.leftOver.concat(k);this.leftOver=null}var M=(function(B,H){var V;for((H=H||B.length)>B.length&&(H=B.length),V=H-1;0<=V&&(192&B[V])==128;)V--;return V<0||V===0?H:V+_[B[V]]>H?V:H})(k),L=k;M!==k.length&&(o.uint8array?(L=k.subarray(0,M),this.leftOver=k.subarray(M,k.length)):(L=k.slice(0,M),this.leftOver=k.slice(M,k.length))),this.push({data:a.utf8decode(L),meta:I.meta})},x.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=x,s.inherits(N,m),N.prototype.processChunk=function(I){this.push({data:a.utf8encode(I.data),meta:I.meta})},a.Utf8EncodeWorker=N},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,a){var s=n("./support"),o=n("./base64"),l=n("./nodejsUtils"),m=n("./external");function _(R){return R}function A(R,M){for(var L=0;L<R.length;++L)M[L]=255&R.charCodeAt(L);return M}n("setimmediate"),a.newBlob=function(R,M){a.checkSupport("blob");try{return new Blob([R],{type:M})}catch{try{var L=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return L.append(R),L.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var x={stringifyByChunk:function(R,M,L){var B=[],H=0,V=R.length;if(V<=L)return String.fromCharCode.apply(null,R);for(;H<V;)M==="array"||M==="nodebuffer"?B.push(String.fromCharCode.apply(null,R.slice(H,Math.min(H+L,V)))):B.push(String.fromCharCode.apply(null,R.subarray(H,Math.min(H+L,V)))),H+=L;return B.join("")},stringifyByChar:function(R){for(var M="",L=0;L<R.length;L++)M+=String.fromCharCode(R[L]);return M},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}})()}};function N(R){var M=65536,L=a.getTypeOf(R),B=!0;if(L==="uint8array"?B=x.applyCanBeUsed.uint8array:L==="nodebuffer"&&(B=x.applyCanBeUsed.nodebuffer),B)for(;1<M;)try{return x.stringifyByChunk(R,L,M)}catch{M=Math.floor(M/2)}return x.stringifyByChar(R)}function I(R,M){for(var L=0;L<R.length;L++)M[L]=R[L];return M}a.applyFromCharCode=N;var k={};k.string={string:_,array:function(R){return A(R,new Array(R.length))},arraybuffer:function(R){return k.string.uint8array(R).buffer},uint8array:function(R){return A(R,new Uint8Array(R.length))},nodebuffer:function(R){return A(R,l.allocBuffer(R.length))}},k.array={string:N,array:_,arraybuffer:function(R){return new Uint8Array(R).buffer},uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return l.newBufferFrom(R)}},k.arraybuffer={string:function(R){return N(new Uint8Array(R))},array:function(R){return I(new Uint8Array(R),new Array(R.byteLength))},arraybuffer:_,uint8array:function(R){return new Uint8Array(R)},nodebuffer:function(R){return l.newBufferFrom(new Uint8Array(R))}},k.uint8array={string:N,array:function(R){return I(R,new Array(R.length))},arraybuffer:function(R){return R.buffer},uint8array:_,nodebuffer:function(R){return l.newBufferFrom(R)}},k.nodebuffer={string:N,array:function(R){return I(R,new Array(R.length))},arraybuffer:function(R){return k.nodebuffer.uint8array(R).buffer},uint8array:function(R){return I(R,new Uint8Array(R.length))},nodebuffer:_},a.transformTo=function(R,M){if(M=M||"",!R)return M;a.checkSupport(R);var L=a.getTypeOf(M);return k[L][R](M)},a.resolve=function(R){for(var M=R.split("/"),L=[],B=0;B<M.length;B++){var H=M[B];H==="."||H===""&&B!==0&&B!==M.length-1||(H===".."?L.pop():L.push(H))}return L.join("/")},a.getTypeOf=function(R){return typeof R=="string"?"string":Object.prototype.toString.call(R)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(R)?"nodebuffer":s.uint8array&&R instanceof Uint8Array?"uint8array":s.arraybuffer&&R instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(R){if(!s[R.toLowerCase()])throw new Error(R+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(R){var M,L,B="";for(L=0;L<(R||"").length;L++)B+="\\x"+((M=R.charCodeAt(L))<16?"0":"")+M.toString(16).toUpperCase();return B},a.delay=function(R,M,L){setImmediate(function(){R.apply(L||null,M||[])})},a.inherits=function(R,M){function L(){}L.prototype=M.prototype,R.prototype=new L},a.extend=function(){var R,M,L={};for(R=0;R<arguments.length;R++)for(M in arguments[R])Object.prototype.hasOwnProperty.call(arguments[R],M)&&L[M]===void 0&&(L[M]=arguments[R][M]);return L},a.prepareContent=function(R,M,L,B,H){return m.Promise.resolve(M).then(function(V){return s.blob&&(V instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(V))!==-1)&&typeof FileReader<"u"?new m.Promise(function(Y,ae){var oe=new FileReader;oe.onload=function(be){Y(be.target.result)},oe.onerror=function(be){ae(be.target.error)},oe.readAsArrayBuffer(V)}):V}).then(function(V){var Y=a.getTypeOf(V);return Y?(Y==="arraybuffer"?V=a.transformTo("uint8array",V):Y==="string"&&(H?V=o.decode(V):L&&B!==!0&&(V=(function(ae){return A(ae,s.uint8array?new Uint8Array(ae.length):new Array(ae.length))})(V))),V):m.Promise.reject(new Error("Can't read the data of '"+R+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,a){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./signature"),m=n("./zipEntry"),_=n("./support");function A(x){this.files=[],this.loadOptions=x}A.prototype={checkSignature:function(x){if(!this.reader.readAndCheckSignature(x)){this.reader.index-=4;var N=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(N)+", expected "+o.pretty(x)+")")}},isSignature:function(x,N){var I=this.reader.index;this.reader.setIndex(x);var k=this.reader.readString(4)===N;return this.reader.setIndex(I),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var x=this.reader.readData(this.zipCommentLength),N=_.uint8array?"uint8array":"array",I=o.transformTo(N,x);this.zipComment=this.loadOptions.decodeFileName(I)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var x,N,I,k=this.zip64EndOfCentralSize-44;0<k;)x=this.reader.readInt(2),N=this.reader.readInt(4),I=this.reader.readData(N),this.zip64ExtensibleData[x]={id:x,length:N,value:I}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var x,N;for(x=0;x<this.files.length;x++)N=this.files[x],this.reader.setIndex(N.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),N.readLocalPart(this.reader),N.handleUTF8(),N.processAttributes()},readCentralDir:function(){var x;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(x=new m({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(x);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var x=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(x<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(x);var N=x;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(x=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(x),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var I=this.centralDirOffset+this.centralDirSize;this.zip64&&(I+=20,I+=12+this.zip64EndOfCentralSize);var k=N-I;if(0<k)this.isSignature(N,l.CENTRAL_FILE_HEADER)||(this.reader.zero=k);else if(k<0)throw new Error("Corrupted zip: missing "+Math.abs(k)+" bytes.")},prepareReader:function(x){this.reader=s(x)},load:function(x){this.prepareReader(x),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=A},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,a){var s=n("./reader/readerFor"),o=n("./utils"),l=n("./compressedObject"),m=n("./crc32"),_=n("./utf8"),A=n("./compressions"),x=n("./support");function N(I,k){this.options=I,this.loadOptions=k}N.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(I){var k,R;if(I.skip(22),this.fileNameLength=I.readInt(2),R=I.readInt(2),this.fileName=I.readData(this.fileNameLength),I.skip(R),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((k=(function(M){for(var L in A)if(Object.prototype.hasOwnProperty.call(A,L)&&A[L].magic===M)return A[L];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,k,I.readData(this.compressedSize))},readCentralPart:function(I){this.versionMadeBy=I.readInt(2),I.skip(2),this.bitFlag=I.readInt(2),this.compressionMethod=I.readString(2),this.date=I.readDate(),this.crc32=I.readInt(4),this.compressedSize=I.readInt(4),this.uncompressedSize=I.readInt(4);var k=I.readInt(2);if(this.extraFieldsLength=I.readInt(2),this.fileCommentLength=I.readInt(2),this.diskNumberStart=I.readInt(2),this.internalFileAttributes=I.readInt(2),this.externalFileAttributes=I.readInt(4),this.localHeaderOffset=I.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");I.skip(k),this.readExtraFields(I),this.parseZIP64ExtraField(I),this.fileComment=I.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var I=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),I==0&&(this.dosPermissions=63&this.externalFileAttributes),I==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var I=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=I.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=I.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=I.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=I.readInt(4))}},readExtraFields:function(I){var k,R,M,L=I.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});I.index+4<L;)k=I.readInt(2),R=I.readInt(2),M=I.readData(R),this.extraFields[k]={id:k,length:R,value:M};I.setIndex(L)},handleUTF8:function(){var I=x.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=_.utf8decode(this.fileName),this.fileCommentStr=_.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(k!==null)this.fileNameStr=k;else{var R=o.transformTo(I,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(R)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var L=o.transformTo(I,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(L)}}},findExtraFieldUnicodePath:function(){var I=this.extraFields[28789];if(I){var k=s(I.value);return k.readInt(1)!==1||m(this.fileName)!==k.readInt(4)?null:_.utf8decode(k.readData(I.length-5))}return null},findExtraFieldUnicodeComment:function(){var I=this.extraFields[25461];if(I){var k=s(I.value);return k.readInt(1)!==1||m(this.fileComment)!==k.readInt(4)?null:_.utf8decode(k.readData(I.length-5))}return null}},i.exports=N},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,a){function s(k,R,M){this.name=k,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=R,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var o=n("./stream/StreamHelper"),l=n("./stream/DataWorker"),m=n("./utf8"),_=n("./compressedObject"),A=n("./stream/GenericWorker");s.prototype={internalStream:function(k){var R=null,M="string";try{if(!k)throw new Error("No output type specified.");var L=(M=k.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),R=this._decompressWorker();var B=!this._dataBinary;B&&!L&&(R=R.pipe(new m.Utf8EncodeWorker)),!B&&L&&(R=R.pipe(new m.Utf8DecodeWorker))}catch(H){(R=new A("error")).error(H)}return new o(R,M,"")},async:function(k,R){return this.internalStream(k).accumulate(R)},nodeStream:function(k,R){return this.internalStream(k||"nodebuffer").toNodejsStream(R)},_compressWorker:function(k,R){if(this._data instanceof _&&this._data.compression.magic===k.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new m.Utf8EncodeWorker)),_.createWorkerFrom(M,k,R)},_decompressWorker:function(){return this._data instanceof _?this._data.getContentWorker():this._data instanceof A?this._data:new l(this._data)}};for(var x=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],N=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},I=0;I<x.length;I++)s.prototype[x[I]]=N;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,a){(function(s){var o,l,m=s.MutationObserver||s.WebKitMutationObserver;if(m){var _=0,A=new m(k),x=s.document.createTextNode("");A.observe(x,{characterData:!0}),o=function(){x.data=_=++_%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var R=s.document.createElement("script");R.onreadystatechange=function(){k(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},s.document.documentElement.appendChild(R)}:function(){setTimeout(k,0)};else{var N=new s.MessageChannel;N.port1.onmessage=k,o=function(){N.port2.postMessage(0)}}var I=[];function k(){var R,M;l=!0;for(var L=I.length;L;){for(M=I,I=[],R=-1;++R<L;)M[R]();L=I.length}l=!1}i.exports=function(R){I.push(R)!==1||l||o()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,a){var s=n("immediate");function o(){}var l={},m=["REJECTED"],_=["FULFILLED"],A=["PENDING"];function x(L){if(typeof L!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,L!==o&&R(this,L)}function N(L,B,H){this.promise=L,typeof B=="function"&&(this.onFulfilled=B,this.callFulfilled=this.otherCallFulfilled),typeof H=="function"&&(this.onRejected=H,this.callRejected=this.otherCallRejected)}function I(L,B,H){s(function(){var V;try{V=B(H)}catch(Y){return l.reject(L,Y)}V===L?l.reject(L,new TypeError("Cannot resolve promise with itself")):l.resolve(L,V)})}function k(L){var B=L&&L.then;if(L&&(typeof L=="object"||typeof L=="function")&&typeof B=="function")return function(){B.apply(L,arguments)}}function R(L,B){var H=!1;function V(oe){H||(H=!0,l.reject(L,oe))}function Y(oe){H||(H=!0,l.resolve(L,oe))}var ae=M(function(){B(Y,V)});ae.status==="error"&&V(ae.value)}function M(L,B){var H={};try{H.value=L(B),H.status="success"}catch(V){H.status="error",H.value=V}return H}(i.exports=x).prototype.finally=function(L){if(typeof L!="function")return this;var B=this.constructor;return this.then(function(H){return B.resolve(L()).then(function(){return H})},function(H){return B.resolve(L()).then(function(){throw H})})},x.prototype.catch=function(L){return this.then(null,L)},x.prototype.then=function(L,B){if(typeof L!="function"&&this.state===_||typeof B!="function"&&this.state===m)return this;var H=new this.constructor(o);return this.state!==A?I(H,this.state===_?L:B,this.outcome):this.queue.push(new N(H,L,B)),H},N.prototype.callFulfilled=function(L){l.resolve(this.promise,L)},N.prototype.otherCallFulfilled=function(L){I(this.promise,this.onFulfilled,L)},N.prototype.callRejected=function(L){l.reject(this.promise,L)},N.prototype.otherCallRejected=function(L){I(this.promise,this.onRejected,L)},l.resolve=function(L,B){var H=M(k,B);if(H.status==="error")return l.reject(L,H.value);var V=H.value;if(V)R(L,V);else{L.state=_,L.outcome=B;for(var Y=-1,ae=L.queue.length;++Y<ae;)L.queue[Y].callFulfilled(B)}return L},l.reject=function(L,B){L.state=m,L.outcome=B;for(var H=-1,V=L.queue.length;++H<V;)L.queue[H].callRejected(B);return L},x.resolve=function(L){return L instanceof this?L:l.resolve(new this(o),L)},x.reject=function(L){var B=new this(o);return l.reject(B,L)},x.all=function(L){var B=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var H=L.length,V=!1;if(!H)return this.resolve([]);for(var Y=new Array(H),ae=0,oe=-1,be=new this(o);++oe<H;)ie(L[oe],oe);return be;function ie(Te,Ie){B.resolve(Te).then(function(j){Y[Ie]=j,++ae!==H||V||(V=!0,l.resolve(be,Y))},function(j){V||(V=!0,l.reject(be,j))})}},x.race=function(L){var B=this;if(Object.prototype.toString.call(L)!=="[object Array]")return this.reject(new TypeError("must be an array"));var H=L.length,V=!1;if(!H)return this.resolve([]);for(var Y=-1,ae=new this(o);++Y<H;)oe=L[Y],B.resolve(oe).then(function(be){V||(V=!0,l.resolve(ae,be))},function(be){V||(V=!0,l.reject(ae,be))});var oe;return ae}},{immediate:36}],38:[function(n,i,a){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,a){var s=n("./zlib/deflate"),o=n("./utils/common"),l=n("./utils/strings"),m=n("./zlib/messages"),_=n("./zlib/zstream"),A=Object.prototype.toString,x=0,N=-1,I=0,k=8;function R(L){if(!(this instanceof R))return new R(L);this.options=o.assign({level:N,method:k,chunkSize:16384,windowBits:15,memLevel:8,strategy:I,to:""},L||{});var B=this.options;B.raw&&0<B.windowBits?B.windowBits=-B.windowBits:B.gzip&&0<B.windowBits&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var H=s.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(H!==x)throw new Error(m[H]);if(B.header&&s.deflateSetHeader(this.strm,B.header),B.dictionary){var V;if(V=typeof B.dictionary=="string"?l.string2buf(B.dictionary):A.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(H=s.deflateSetDictionary(this.strm,V))!==x)throw new Error(m[H]);this._dict_set=!0}}function M(L,B){var H=new R(B);if(H.push(L,!0),H.err)throw H.msg||m[H.err];return H.result}R.prototype.push=function(L,B){var H,V,Y=this.strm,ae=this.options.chunkSize;if(this.ended)return!1;V=B===~~B?B:B===!0?4:0,typeof L=="string"?Y.input=l.string2buf(L):A.call(L)==="[object ArrayBuffer]"?Y.input=new Uint8Array(L):Y.input=L,Y.next_in=0,Y.avail_in=Y.input.length;do{if(Y.avail_out===0&&(Y.output=new o.Buf8(ae),Y.next_out=0,Y.avail_out=ae),(H=s.deflate(Y,V))!==1&&H!==x)return this.onEnd(H),!(this.ended=!0);Y.avail_out!==0&&(Y.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(Y.output,Y.next_out))):this.onData(o.shrinkBuf(Y.output,Y.next_out)))}while((0<Y.avail_in||Y.avail_out===0)&&H!==1);return V===4?(H=s.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===x):V!==2||(this.onEnd(x),!(Y.avail_out=0))},R.prototype.onData=function(L){this.chunks.push(L)},R.prototype.onEnd=function(L){L===x&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=L,this.msg=this.strm.msg},a.Deflate=R,a.deflate=M,a.deflateRaw=function(L,B){return(B=B||{}).raw=!0,M(L,B)},a.gzip=function(L,B){return(B=B||{}).gzip=!0,M(L,B)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,a){var s=n("./zlib/inflate"),o=n("./utils/common"),l=n("./utils/strings"),m=n("./zlib/constants"),_=n("./zlib/messages"),A=n("./zlib/zstream"),x=n("./zlib/gzheader"),N=Object.prototype.toString;function I(R){if(!(this instanceof I))return new I(R);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},R||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||R&&R.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&(15&M.windowBits)==0&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var L=s.inflateInit2(this.strm,M.windowBits);if(L!==m.Z_OK)throw new Error(_[L]);this.header=new x,s.inflateGetHeader(this.strm,this.header)}function k(R,M){var L=new I(M);if(L.push(R,!0),L.err)throw L.msg||_[L.err];return L.result}I.prototype.push=function(R,M){var L,B,H,V,Y,ae,oe=this.strm,be=this.options.chunkSize,ie=this.options.dictionary,Te=!1;if(this.ended)return!1;B=M===~~M?M:M===!0?m.Z_FINISH:m.Z_NO_FLUSH,typeof R=="string"?oe.input=l.binstring2buf(R):N.call(R)==="[object ArrayBuffer]"?oe.input=new Uint8Array(R):oe.input=R,oe.next_in=0,oe.avail_in=oe.input.length;do{if(oe.avail_out===0&&(oe.output=new o.Buf8(be),oe.next_out=0,oe.avail_out=be),(L=s.inflate(oe,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&ie&&(ae=typeof ie=="string"?l.string2buf(ie):N.call(ie)==="[object ArrayBuffer]"?new Uint8Array(ie):ie,L=s.inflateSetDictionary(this.strm,ae)),L===m.Z_BUF_ERROR&&Te===!0&&(L=m.Z_OK,Te=!1),L!==m.Z_STREAM_END&&L!==m.Z_OK)return this.onEnd(L),!(this.ended=!0);oe.next_out&&(oe.avail_out!==0&&L!==m.Z_STREAM_END&&(oe.avail_in!==0||B!==m.Z_FINISH&&B!==m.Z_SYNC_FLUSH)||(this.options.to==="string"?(H=l.utf8border(oe.output,oe.next_out),V=oe.next_out-H,Y=l.buf2string(oe.output,H),oe.next_out=V,oe.avail_out=be-V,V&&o.arraySet(oe.output,oe.output,H,V,0),this.onData(Y)):this.onData(o.shrinkBuf(oe.output,oe.next_out)))),oe.avail_in===0&&oe.avail_out===0&&(Te=!0)}while((0<oe.avail_in||oe.avail_out===0)&&L!==m.Z_STREAM_END);return L===m.Z_STREAM_END&&(B=m.Z_FINISH),B===m.Z_FINISH?(L=s.inflateEnd(this.strm),this.onEnd(L),this.ended=!0,L===m.Z_OK):B!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(oe.avail_out=0))},I.prototype.onData=function(R){this.chunks.push(R)},I.prototype.onEnd=function(R){R===m.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},a.Inflate=I,a.inflate=k,a.inflateRaw=function(R,M){return(M=M||{}).raw=!0,k(R,M)},a.ungzip=k},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(m){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var A=_.shift();if(A){if(typeof A!="object")throw new TypeError(A+"must be non-object");for(var x in A)A.hasOwnProperty(x)&&(m[x]=A[x])}}return m},a.shrinkBuf=function(m,_){return m.length===_?m:m.subarray?m.subarray(0,_):(m.length=_,m)};var o={arraySet:function(m,_,A,x,N){if(_.subarray&&m.subarray)m.set(_.subarray(A,A+x),N);else for(var I=0;I<x;I++)m[N+I]=_[A+I]},flattenChunks:function(m){var _,A,x,N,I,k;for(_=x=0,A=m.length;_<A;_++)x+=m[_].length;for(k=new Uint8Array(x),_=N=0,A=m.length;_<A;_++)I=m[_],k.set(I,N),N+=I.length;return k}},l={arraySet:function(m,_,A,x,N){for(var I=0;I<x;I++)m[N+I]=_[A+I]},flattenChunks:function(m){return[].concat.apply([],m)}};a.setTyped=function(m){m?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,l))},a.setTyped(s)},{}],42:[function(n,i,a){var s=n("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var m=new s.Buf8(256),_=0;_<256;_++)m[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;function A(x,N){if(N<65537&&(x.subarray&&l||!x.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(x,N));for(var I="",k=0;k<N;k++)I+=String.fromCharCode(x[k]);return I}m[254]=m[254]=1,a.string2buf=function(x){var N,I,k,R,M,L=x.length,B=0;for(R=0;R<L;R++)(64512&(I=x.charCodeAt(R)))==55296&&R+1<L&&(64512&(k=x.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(k-56320),R++),B+=I<128?1:I<2048?2:I<65536?3:4;for(N=new s.Buf8(B),R=M=0;M<B;R++)(64512&(I=x.charCodeAt(R)))==55296&&R+1<L&&(64512&(k=x.charCodeAt(R+1)))==56320&&(I=65536+(I-55296<<10)+(k-56320),R++),I<128?N[M++]=I:(I<2048?N[M++]=192|I>>>6:(I<65536?N[M++]=224|I>>>12:(N[M++]=240|I>>>18,N[M++]=128|I>>>12&63),N[M++]=128|I>>>6&63),N[M++]=128|63&I);return N},a.buf2binstring=function(x){return A(x,x.length)},a.binstring2buf=function(x){for(var N=new s.Buf8(x.length),I=0,k=N.length;I<k;I++)N[I]=x.charCodeAt(I);return N},a.buf2string=function(x,N){var I,k,R,M,L=N||x.length,B=new Array(2*L);for(I=k=0;I<L;)if((R=x[I++])<128)B[k++]=R;else if(4<(M=m[R]))B[k++]=65533,I+=M-1;else{for(R&=M===2?31:M===3?15:7;1<M&&I<L;)R=R<<6|63&x[I++],M--;1<M?B[k++]=65533:R<65536?B[k++]=R:(R-=65536,B[k++]=55296|R>>10&1023,B[k++]=56320|1023&R)}return A(B,k)},a.utf8border=function(x,N){var I;for((N=N||x.length)>x.length&&(N=x.length),I=N-1;0<=I&&(192&x[I])==128;)I--;return I<0||I===0?N:I+m[x[I]]>N?I:N}},{"./common":41}],43:[function(n,i,a){i.exports=function(s,o,l,m){for(var _=65535&s|0,A=s>>>16&65535|0,x=0;l!==0;){for(l-=x=2e3<l?2e3:l;A=A+(_=_+o[m++]|0)|0,--x;);_%=65521,A%=65521}return _|A<<16|0}},{}],44:[function(n,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,a){var s=(function(){for(var o,l=[],m=0;m<256;m++){o=m;for(var _=0;_<8;_++)o=1&o?3988292384^o>>>1:o>>>1;l[m]=o}return l})();i.exports=function(o,l,m,_){var A=s,x=_+m;o^=-1;for(var N=_;N<x;N++)o=o>>>8^A[255&(o^l[N])];return-1^o}},{}],46:[function(n,i,a){var s,o=n("../utils/common"),l=n("./trees"),m=n("./adler32"),_=n("./crc32"),A=n("./messages"),x=0,N=4,I=0,k=-2,R=-1,M=4,L=2,B=8,H=9,V=286,Y=30,ae=19,oe=2*V+1,be=15,ie=3,Te=258,Ie=Te+ie+1,j=42,de=113,O=1,Q=2,fe=3,J=4;function Z(y,se){return y.msg=A[se],se}function ue(y){return(y<<1)-(4<y?9:0)}function z(y){for(var se=y.length;0<=--se;)y[se]=0}function w(y){var se=y.state,te=se.pending;te>y.avail_out&&(te=y.avail_out),te!==0&&(o.arraySet(y.output,se.pending_buf,se.pending_out,te,y.next_out),y.next_out+=te,se.pending_out+=te,y.total_out+=te,y.avail_out-=te,se.pending-=te,se.pending===0&&(se.pending_out=0))}function q(y,se){l._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,se),y.block_start=y.strstart,w(y.strm)}function ce(y,se){y.pending_buf[y.pending++]=se}function le(y,se){y.pending_buf[y.pending++]=se>>>8&255,y.pending_buf[y.pending++]=255&se}function ee(y,se){var te,G,P=y.max_chain_length,K=y.strstart,he=y.prev_length,Ee=y.nice_match,X=y.strstart>y.w_size-Ie?y.strstart-(y.w_size-Ie):0,ge=y.window,xe=y.w_mask,T=y.prev,W=y.strstart+Te,C=ge[K+he-1],E=ge[K+he];y.prev_length>=y.good_match&&(P>>=2),Ee>y.lookahead&&(Ee=y.lookahead);do if(ge[(te=se)+he]===E&&ge[te+he-1]===C&&ge[te]===ge[K]&&ge[++te]===ge[K+1]){K+=2,te++;do;while(ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&ge[++K]===ge[++te]&&K<W);if(G=Te-(W-K),K=W-Te,he<G){if(y.match_start=se,Ee<=(he=G))break;C=ge[K+he-1],E=ge[K+he]}}while((se=T[se&xe])>X&&--P!=0);return he<=y.lookahead?he:y.lookahead}function Ce(y){var se,te,G,P,K,he,Ee,X,ge,xe,T=y.w_size;do{if(P=y.window_size-y.lookahead-y.strstart,y.strstart>=T+(T-Ie)){for(o.arraySet(y.window,y.window,T,T,0),y.match_start-=T,y.strstart-=T,y.block_start-=T,se=te=y.hash_size;G=y.head[--se],y.head[se]=T<=G?G-T:0,--te;);for(se=te=T;G=y.prev[--se],y.prev[se]=T<=G?G-T:0,--te;);P+=T}if(y.strm.avail_in===0)break;if(he=y.strm,Ee=y.window,X=y.strstart+y.lookahead,ge=P,xe=void 0,xe=he.avail_in,ge<xe&&(xe=ge),te=xe===0?0:(he.avail_in-=xe,o.arraySet(Ee,he.input,he.next_in,xe,X),he.state.wrap===1?he.adler=m(he.adler,Ee,xe,X):he.state.wrap===2&&(he.adler=_(he.adler,Ee,xe,X)),he.next_in+=xe,he.total_in+=xe,xe),y.lookahead+=te,y.lookahead+y.insert>=ie)for(K=y.strstart-y.insert,y.ins_h=y.window[K],y.ins_h=(y.ins_h<<y.hash_shift^y.window[K+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[K+ie-1])&y.hash_mask,y.prev[K&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=K,K++,y.insert--,!(y.lookahead+y.insert<ie)););}while(y.lookahead<Ie&&y.strm.avail_in!==0)}function Se(y,se){for(var te,G;;){if(y.lookahead<Ie){if(Ce(y),y.lookahead<Ie&&se===x)return O;if(y.lookahead===0)break}if(te=0,y.lookahead>=ie&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+ie-1])&y.hash_mask,te=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),te!==0&&y.strstart-te<=y.w_size-Ie&&(y.match_length=ee(y,te)),y.match_length>=ie)if(G=l._tr_tally(y,y.strstart-y.match_start,y.match_length-ie),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=ie){for(y.match_length--;y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+ie-1])&y.hash_mask,te=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart,--y.match_length!=0;);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else G=l._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(G&&(q(y,!1),y.strm.avail_out===0))return O}return y.insert=y.strstart<ie-1?y.strstart:ie-1,se===N?(q(y,!0),y.strm.avail_out===0?fe:J):y.last_lit&&(q(y,!1),y.strm.avail_out===0)?O:Q}function Ae(y,se){for(var te,G,P;;){if(y.lookahead<Ie){if(Ce(y),y.lookahead<Ie&&se===x)return O;if(y.lookahead===0)break}if(te=0,y.lookahead>=ie&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+ie-1])&y.hash_mask,te=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=ie-1,te!==0&&y.prev_length<y.max_lazy_match&&y.strstart-te<=y.w_size-Ie&&(y.match_length=ee(y,te),y.match_length<=5&&(y.strategy===1||y.match_length===ie&&4096<y.strstart-y.match_start)&&(y.match_length=ie-1)),y.prev_length>=ie&&y.match_length<=y.prev_length){for(P=y.strstart+y.lookahead-ie,G=l._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-ie),y.lookahead-=y.prev_length-1,y.prev_length-=2;++y.strstart<=P&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+ie-1])&y.hash_mask,te=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),--y.prev_length!=0;);if(y.match_available=0,y.match_length=ie-1,y.strstart++,G&&(q(y,!1),y.strm.avail_out===0))return O}else if(y.match_available){if((G=l._tr_tally(y,0,y.window[y.strstart-1]))&&q(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return O}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(G=l._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<ie-1?y.strstart:ie-1,se===N?(q(y,!0),y.strm.avail_out===0?fe:J):y.last_lit&&(q(y,!1),y.strm.avail_out===0)?O:Q}function De(y,se,te,G,P){this.good_length=y,this.max_lazy=se,this.nice_length=te,this.max_chain=G,this.func=P}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*oe),this.dyn_dtree=new o.Buf16(2*(2*Y+1)),this.bl_tree=new o.Buf16(2*(2*ae+1)),z(this.dyn_ltree),z(this.dyn_dtree),z(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(be+1),this.heap=new o.Buf16(2*V+1),z(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*V+1),z(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ne(y){var se;return y&&y.state?(y.total_in=y.total_out=0,y.data_type=L,(se=y.state).pending=0,se.pending_out=0,se.wrap<0&&(se.wrap=-se.wrap),se.status=se.wrap?j:de,y.adler=se.wrap===2?0:1,se.last_flush=x,l._tr_init(se),I):Z(y,k)}function Re(y){var se=Ne(y);return se===I&&(function(te){te.window_size=2*te.w_size,z(te.head),te.max_lazy_match=s[te.level].max_lazy,te.good_match=s[te.level].good_length,te.nice_match=s[te.level].nice_length,te.max_chain_length=s[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=ie-1,te.match_available=0,te.ins_h=0})(y.state),se}function ke(y,se,te,G,P,K){if(!y)return k;var he=1;if(se===R&&(se=6),G<0?(he=0,G=-G):15<G&&(he=2,G-=16),P<1||H<P||te!==B||G<8||15<G||se<0||9<se||K<0||M<K)return Z(y,k);G===8&&(G=9);var Ee=new ye;return(y.state=Ee).strm=y,Ee.wrap=he,Ee.gzhead=null,Ee.w_bits=G,Ee.w_size=1<<Ee.w_bits,Ee.w_mask=Ee.w_size-1,Ee.hash_bits=P+7,Ee.hash_size=1<<Ee.hash_bits,Ee.hash_mask=Ee.hash_size-1,Ee.hash_shift=~~((Ee.hash_bits+ie-1)/ie),Ee.window=new o.Buf8(2*Ee.w_size),Ee.head=new o.Buf16(Ee.hash_size),Ee.prev=new o.Buf16(Ee.w_size),Ee.lit_bufsize=1<<P+6,Ee.pending_buf_size=4*Ee.lit_bufsize,Ee.pending_buf=new o.Buf8(Ee.pending_buf_size),Ee.d_buf=1*Ee.lit_bufsize,Ee.l_buf=3*Ee.lit_bufsize,Ee.level=se,Ee.strategy=K,Ee.method=te,Re(y)}s=[new De(0,0,0,0,function(y,se){var te=65535;for(te>y.pending_buf_size-5&&(te=y.pending_buf_size-5);;){if(y.lookahead<=1){if(Ce(y),y.lookahead===0&&se===x)return O;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var G=y.block_start+te;if((y.strstart===0||y.strstart>=G)&&(y.lookahead=y.strstart-G,y.strstart=G,q(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-Ie&&(q(y,!1),y.strm.avail_out===0))return O}return y.insert=0,se===N?(q(y,!0),y.strm.avail_out===0?fe:J):(y.strstart>y.block_start&&(q(y,!1),y.strm.avail_out),O)}),new De(4,4,8,4,Se),new De(4,5,16,8,Se),new De(4,6,32,32,Se),new De(4,4,16,16,Ae),new De(8,16,32,32,Ae),new De(8,16,128,128,Ae),new De(8,32,128,256,Ae),new De(32,128,258,1024,Ae),new De(32,258,258,4096,Ae)],a.deflateInit=function(y,se){return ke(y,se,B,15,8,0)},a.deflateInit2=ke,a.deflateReset=Re,a.deflateResetKeep=Ne,a.deflateSetHeader=function(y,se){return y&&y.state?y.state.wrap!==2?k:(y.state.gzhead=se,I):k},a.deflate=function(y,se){var te,G,P,K;if(!y||!y.state||5<se||se<0)return y?Z(y,k):k;if(G=y.state,!y.output||!y.input&&y.avail_in!==0||G.status===666&&se!==N)return Z(y,y.avail_out===0?-5:k);if(G.strm=y,te=G.last_flush,G.last_flush=se,G.status===j)if(G.wrap===2)y.adler=0,ce(G,31),ce(G,139),ce(G,8),G.gzhead?(ce(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ce(G,255&G.gzhead.time),ce(G,G.gzhead.time>>8&255),ce(G,G.gzhead.time>>16&255),ce(G,G.gzhead.time>>24&255),ce(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ce(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ce(G,255&G.gzhead.extra.length),ce(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(y.adler=_(y.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ce(G,0),ce(G,0),ce(G,0),ce(G,0),ce(G,0),ce(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ce(G,3),G.status=de);else{var he=B+(G.w_bits-8<<4)<<8;he|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(he|=32),he+=31-he%31,G.status=de,le(G,he),G.strstart!==0&&(le(G,y.adler>>>16),le(G,65535&y.adler)),y.adler=1}if(G.status===69)if(G.gzhead.extra){for(P=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),w(y),P=G.pending,G.pending!==G.pending_buf_size));)ce(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){P=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),w(y),P=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ce(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),K===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){P=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),w(y),P=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ce(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>P&&(y.adler=_(y.adler,G.pending_buf,G.pending-P,P)),K===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&w(y),G.pending+2<=G.pending_buf_size&&(ce(G,255&y.adler),ce(G,y.adler>>8&255),y.adler=0,G.status=de)):G.status=de),G.pending!==0){if(w(y),y.avail_out===0)return G.last_flush=-1,I}else if(y.avail_in===0&&ue(se)<=ue(te)&&se!==N)return Z(y,-5);if(G.status===666&&y.avail_in!==0)return Z(y,-5);if(y.avail_in!==0||G.lookahead!==0||se!==x&&G.status!==666){var Ee=G.strategy===2?(function(X,ge){for(var xe;;){if(X.lookahead===0&&(Ce(X),X.lookahead===0)){if(ge===x)return O;break}if(X.match_length=0,xe=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++,xe&&(q(X,!1),X.strm.avail_out===0))return O}return X.insert=0,ge===N?(q(X,!0),X.strm.avail_out===0?fe:J):X.last_lit&&(q(X,!1),X.strm.avail_out===0)?O:Q})(G,se):G.strategy===3?(function(X,ge){for(var xe,T,W,C,E=X.window;;){if(X.lookahead<=Te){if(Ce(X),X.lookahead<=Te&&ge===x)return O;if(X.lookahead===0)break}if(X.match_length=0,X.lookahead>=ie&&0<X.strstart&&(T=E[W=X.strstart-1])===E[++W]&&T===E[++W]&&T===E[++W]){C=X.strstart+Te;do;while(T===E[++W]&&T===E[++W]&&T===E[++W]&&T===E[++W]&&T===E[++W]&&T===E[++W]&&T===E[++W]&&T===E[++W]&&W<C);X.match_length=Te-(C-W),X.match_length>X.lookahead&&(X.match_length=X.lookahead)}if(X.match_length>=ie?(xe=l._tr_tally(X,1,X.match_length-ie),X.lookahead-=X.match_length,X.strstart+=X.match_length,X.match_length=0):(xe=l._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++),xe&&(q(X,!1),X.strm.avail_out===0))return O}return X.insert=0,ge===N?(q(X,!0),X.strm.avail_out===0?fe:J):X.last_lit&&(q(X,!1),X.strm.avail_out===0)?O:Q})(G,se):s[G.level].func(G,se);if(Ee!==fe&&Ee!==J||(G.status=666),Ee===O||Ee===fe)return y.avail_out===0&&(G.last_flush=-1),I;if(Ee===Q&&(se===1?l._tr_align(G):se!==5&&(l._tr_stored_block(G,0,0,!1),se===3&&(z(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),w(y),y.avail_out===0))return G.last_flush=-1,I}return se!==N?I:G.wrap<=0?1:(G.wrap===2?(ce(G,255&y.adler),ce(G,y.adler>>8&255),ce(G,y.adler>>16&255),ce(G,y.adler>>24&255),ce(G,255&y.total_in),ce(G,y.total_in>>8&255),ce(G,y.total_in>>16&255),ce(G,y.total_in>>24&255)):(le(G,y.adler>>>16),le(G,65535&y.adler)),w(y),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?I:1)},a.deflateEnd=function(y){var se;return y&&y.state?(se=y.state.status)!==j&&se!==69&&se!==73&&se!==91&&se!==103&&se!==de&&se!==666?Z(y,k):(y.state=null,se===de?Z(y,-3):I):k},a.deflateSetDictionary=function(y,se){var te,G,P,K,he,Ee,X,ge,xe=se.length;if(!y||!y.state||(K=(te=y.state).wrap)===2||K===1&&te.status!==j||te.lookahead)return k;for(K===1&&(y.adler=m(y.adler,se,xe,0)),te.wrap=0,xe>=te.w_size&&(K===0&&(z(te.head),te.strstart=0,te.block_start=0,te.insert=0),ge=new o.Buf8(te.w_size),o.arraySet(ge,se,xe-te.w_size,te.w_size,0),se=ge,xe=te.w_size),he=y.avail_in,Ee=y.next_in,X=y.input,y.avail_in=xe,y.next_in=0,y.input=se,Ce(te);te.lookahead>=ie;){for(G=te.strstart,P=te.lookahead-(ie-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[G+ie-1])&te.hash_mask,te.prev[G&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=G,G++,--P;);te.strstart=G,te.lookahead=ie-1,Ce(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=ie-1,te.match_available=0,y.next_in=Ee,y.input=X,y.avail_in=he,te.wrap=K,I},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,a){i.exports=function(s,o){var l,m,_,A,x,N,I,k,R,M,L,B,H,V,Y,ae,oe,be,ie,Te,Ie,j,de,O,Q;l=s.state,m=s.next_in,O=s.input,_=m+(s.avail_in-5),A=s.next_out,Q=s.output,x=A-(o-s.avail_out),N=A+(s.avail_out-257),I=l.dmax,k=l.wsize,R=l.whave,M=l.wnext,L=l.window,B=l.hold,H=l.bits,V=l.lencode,Y=l.distcode,ae=(1<<l.lenbits)-1,oe=(1<<l.distbits)-1;e:do{H<15&&(B+=O[m++]<<H,H+=8,B+=O[m++]<<H,H+=8),be=V[B&ae];t:for(;;){if(B>>>=ie=be>>>24,H-=ie,(ie=be>>>16&255)===0)Q[A++]=65535&be;else{if(!(16&ie)){if((64&ie)==0){be=V[(65535&be)+(B&(1<<ie)-1)];continue t}if(32&ie){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}Te=65535&be,(ie&=15)&&(H<ie&&(B+=O[m++]<<H,H+=8),Te+=B&(1<<ie)-1,B>>>=ie,H-=ie),H<15&&(B+=O[m++]<<H,H+=8,B+=O[m++]<<H,H+=8),be=Y[B&oe];r:for(;;){if(B>>>=ie=be>>>24,H-=ie,!(16&(ie=be>>>16&255))){if((64&ie)==0){be=Y[(65535&be)+(B&(1<<ie)-1)];continue r}s.msg="invalid distance code",l.mode=30;break e}if(Ie=65535&be,H<(ie&=15)&&(B+=O[m++]<<H,(H+=8)<ie&&(B+=O[m++]<<H,H+=8)),I<(Ie+=B&(1<<ie)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(B>>>=ie,H-=ie,(ie=A-x)<Ie){if(R<(ie=Ie-ie)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(de=L,(j=0)===M){if(j+=k-ie,ie<Te){for(Te-=ie;Q[A++]=L[j++],--ie;);j=A-Ie,de=Q}}else if(M<ie){if(j+=k+M-ie,(ie-=M)<Te){for(Te-=ie;Q[A++]=L[j++],--ie;);if(j=0,M<Te){for(Te-=ie=M;Q[A++]=L[j++],--ie;);j=A-Ie,de=Q}}}else if(j+=M-ie,ie<Te){for(Te-=ie;Q[A++]=L[j++],--ie;);j=A-Ie,de=Q}for(;2<Te;)Q[A++]=de[j++],Q[A++]=de[j++],Q[A++]=de[j++],Te-=3;Te&&(Q[A++]=de[j++],1<Te&&(Q[A++]=de[j++]))}else{for(j=A-Ie;Q[A++]=Q[j++],Q[A++]=Q[j++],Q[A++]=Q[j++],2<(Te-=3););Te&&(Q[A++]=Q[j++],1<Te&&(Q[A++]=Q[j++]))}break}}break}}while(m<_&&A<N);m-=Te=H>>3,B&=(1<<(H-=Te<<3))-1,s.next_in=m,s.next_out=A,s.avail_in=m<_?_-m+5:5-(m-_),s.avail_out=A<N?N-A+257:257-(A-N),l.hold=B,l.bits=H}},{}],49:[function(n,i,a){var s=n("../utils/common"),o=n("./adler32"),l=n("./crc32"),m=n("./inffast"),_=n("./inftrees"),A=1,x=2,N=0,I=-2,k=1,R=852,M=592;function L(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function H(j){var de;return j&&j.state?(de=j.state,j.total_in=j.total_out=de.total=0,j.msg="",de.wrap&&(j.adler=1&de.wrap),de.mode=k,de.last=0,de.havedict=0,de.dmax=32768,de.head=null,de.hold=0,de.bits=0,de.lencode=de.lendyn=new s.Buf32(R),de.distcode=de.distdyn=new s.Buf32(M),de.sane=1,de.back=-1,N):I}function V(j){var de;return j&&j.state?((de=j.state).wsize=0,de.whave=0,de.wnext=0,H(j)):I}function Y(j,de){var O,Q;return j&&j.state?(Q=j.state,de<0?(O=0,de=-de):(O=1+(de>>4),de<48&&(de&=15)),de&&(de<8||15<de)?I:(Q.window!==null&&Q.wbits!==de&&(Q.window=null),Q.wrap=O,Q.wbits=de,V(j))):I}function ae(j,de){var O,Q;return j?(Q=new B,(j.state=Q).window=null,(O=Y(j,de))!==N&&(j.state=null),O):I}var oe,be,ie=!0;function Te(j){if(ie){var de;for(oe=new s.Buf32(512),be=new s.Buf32(32),de=0;de<144;)j.lens[de++]=8;for(;de<256;)j.lens[de++]=9;for(;de<280;)j.lens[de++]=7;for(;de<288;)j.lens[de++]=8;for(_(A,j.lens,0,288,oe,0,j.work,{bits:9}),de=0;de<32;)j.lens[de++]=5;_(x,j.lens,0,32,be,0,j.work,{bits:5}),ie=!1}j.lencode=oe,j.lenbits=9,j.distcode=be,j.distbits=5}function Ie(j,de,O,Q){var fe,J=j.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),Q>=J.wsize?(s.arraySet(J.window,de,O-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(Q<(fe=J.wsize-J.wnext)&&(fe=Q),s.arraySet(J.window,de,O-Q,fe,J.wnext),(Q-=fe)?(s.arraySet(J.window,de,O-Q,Q,0),J.wnext=Q,J.whave=J.wsize):(J.wnext+=fe,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=fe))),0}a.inflateReset=V,a.inflateReset2=Y,a.inflateResetKeep=H,a.inflateInit=function(j){return ae(j,15)},a.inflateInit2=ae,a.inflate=function(j,de){var O,Q,fe,J,Z,ue,z,w,q,ce,le,ee,Ce,Se,Ae,De,ye,Ne,Re,ke,y,se,te,G,P=0,K=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return I;(O=j.state).mode===12&&(O.mode=13),Z=j.next_out,fe=j.output,z=j.avail_out,J=j.next_in,Q=j.input,ue=j.avail_in,w=O.hold,q=O.bits,ce=ue,le=z,se=N;e:for(;;)switch(O.mode){case k:if(O.wrap===0){O.mode=13;break}for(;q<16;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(2&O.wrap&&w===35615){K[O.check=0]=255&w,K[1]=w>>>8&255,O.check=l(O.check,K,2,0),q=w=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&w)<<8)+(w>>8))%31){j.msg="incorrect header check",O.mode=30;break}if((15&w)!=8){j.msg="unknown compression method",O.mode=30;break}if(q-=4,y=8+(15&(w>>>=4)),O.wbits===0)O.wbits=y;else if(y>O.wbits){j.msg="invalid window size",O.mode=30;break}O.dmax=1<<y,j.adler=O.check=1,O.mode=512&w?10:12,q=w=0;break;case 2:for(;q<16;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(O.flags=w,(255&O.flags)!=8){j.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){j.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=w>>8&1),512&O.flags&&(K[0]=255&w,K[1]=w>>>8&255,O.check=l(O.check,K,2,0)),q=w=0,O.mode=3;case 3:for(;q<32;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.head&&(O.head.time=w),512&O.flags&&(K[0]=255&w,K[1]=w>>>8&255,K[2]=w>>>16&255,K[3]=w>>>24&255,O.check=l(O.check,K,4,0)),q=w=0,O.mode=4;case 4:for(;q<16;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.head&&(O.head.xflags=255&w,O.head.os=w>>8),512&O.flags&&(K[0]=255&w,K[1]=w>>>8&255,O.check=l(O.check,K,2,0)),q=w=0,O.mode=5;case 5:if(1024&O.flags){for(;q<16;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.length=w,O.head&&(O.head.extra_len=w),512&O.flags&&(K[0]=255&w,K[1]=w>>>8&255,O.check=l(O.check,K,2,0)),q=w=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(ue<(ee=O.length)&&(ee=ue),ee&&(O.head&&(y=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),s.arraySet(O.head.extra,Q,J,ee,y)),512&O.flags&&(O.check=l(O.check,Q,ee,J)),ue-=ee,J+=ee,O.length-=ee),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(ue===0)break e;for(ee=0;y=Q[J+ee++],O.head&&y&&O.length<65536&&(O.head.name+=String.fromCharCode(y)),y&&ee<ue;);if(512&O.flags&&(O.check=l(O.check,Q,ee,J)),ue-=ee,J+=ee,y)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(ue===0)break e;for(ee=0;y=Q[J+ee++],O.head&&y&&O.length<65536&&(O.head.comment+=String.fromCharCode(y)),y&&ee<ue;);if(512&O.flags&&(O.check=l(O.check,Q,ee,J)),ue-=ee,J+=ee,y)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;q<16;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(w!==(65535&O.check)){j.msg="header crc mismatch",O.mode=30;break}q=w=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),j.adler=O.check=0,O.mode=12;break;case 10:for(;q<32;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}j.adler=O.check=L(w),q=w=0,O.mode=11;case 11:if(O.havedict===0)return j.next_out=Z,j.avail_out=z,j.next_in=J,j.avail_in=ue,O.hold=w,O.bits=q,2;j.adler=O.check=1,O.mode=12;case 12:if(de===5||de===6)break e;case 13:if(O.last){w>>>=7&q,q-=7&q,O.mode=27;break}for(;q<3;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}switch(O.last=1&w,q-=1,3&(w>>>=1)){case 0:O.mode=14;break;case 1:if(Te(O),O.mode=20,de!==6)break;w>>>=2,q-=2;break e;case 2:O.mode=17;break;case 3:j.msg="invalid block type",O.mode=30}w>>>=2,q-=2;break;case 14:for(w>>>=7&q,q-=7&q;q<32;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if((65535&w)!=(w>>>16^65535)){j.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&w,q=w=0,O.mode=15,de===6)break e;case 15:O.mode=16;case 16:if(ee=O.length){if(ue<ee&&(ee=ue),z<ee&&(ee=z),ee===0)break e;s.arraySet(fe,Q,J,ee,Z),ue-=ee,J+=ee,z-=ee,Z+=ee,O.length-=ee;break}O.mode=12;break;case 17:for(;q<14;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(O.nlen=257+(31&w),w>>>=5,q-=5,O.ndist=1+(31&w),w>>>=5,q-=5,O.ncode=4+(15&w),w>>>=4,q-=4,286<O.nlen||30<O.ndist){j.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;q<3;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.lens[he[O.have++]]=7&w,w>>>=3,q-=3}for(;O.have<19;)O.lens[he[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,te={bits:O.lenbits},se=_(0,O.lens,0,19,O.lencode,0,O.work,te),O.lenbits=te.bits,se){j.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;De=(P=O.lencode[w&(1<<O.lenbits)-1])>>>16&255,ye=65535&P,!((Ae=P>>>24)<=q);){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(ye<16)w>>>=Ae,q-=Ae,O.lens[O.have++]=ye;else{if(ye===16){for(G=Ae+2;q<G;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(w>>>=Ae,q-=Ae,O.have===0){j.msg="invalid bit length repeat",O.mode=30;break}y=O.lens[O.have-1],ee=3+(3&w),w>>>=2,q-=2}else if(ye===17){for(G=Ae+3;q<G;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}q-=Ae,y=0,ee=3+(7&(w>>>=Ae)),w>>>=3,q-=3}else{for(G=Ae+7;q<G;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}q-=Ae,y=0,ee=11+(127&(w>>>=Ae)),w>>>=7,q-=7}if(O.have+ee>O.nlen+O.ndist){j.msg="invalid bit length repeat",O.mode=30;break}for(;ee--;)O.lens[O.have++]=y}}if(O.mode===30)break;if(O.lens[256]===0){j.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,te={bits:O.lenbits},se=_(A,O.lens,0,O.nlen,O.lencode,0,O.work,te),O.lenbits=te.bits,se){j.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,te={bits:O.distbits},se=_(x,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,te),O.distbits=te.bits,se){j.msg="invalid distances set",O.mode=30;break}if(O.mode=20,de===6)break e;case 20:O.mode=21;case 21:if(6<=ue&&258<=z){j.next_out=Z,j.avail_out=z,j.next_in=J,j.avail_in=ue,O.hold=w,O.bits=q,m(j,le),Z=j.next_out,fe=j.output,z=j.avail_out,J=j.next_in,Q=j.input,ue=j.avail_in,w=O.hold,q=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;De=(P=O.lencode[w&(1<<O.lenbits)-1])>>>16&255,ye=65535&P,!((Ae=P>>>24)<=q);){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(De&&(240&De)==0){for(Ne=Ae,Re=De,ke=ye;De=(P=O.lencode[ke+((w&(1<<Ne+Re)-1)>>Ne)])>>>16&255,ye=65535&P,!(Ne+(Ae=P>>>24)<=q);){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}w>>>=Ne,q-=Ne,O.back+=Ne}if(w>>>=Ae,q-=Ae,O.back+=Ae,O.length=ye,De===0){O.mode=26;break}if(32&De){O.back=-1,O.mode=12;break}if(64&De){j.msg="invalid literal/length code",O.mode=30;break}O.extra=15&De,O.mode=22;case 22:if(O.extra){for(G=O.extra;q<G;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.length+=w&(1<<O.extra)-1,w>>>=O.extra,q-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;De=(P=O.distcode[w&(1<<O.distbits)-1])>>>16&255,ye=65535&P,!((Ae=P>>>24)<=q);){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if((240&De)==0){for(Ne=Ae,Re=De,ke=ye;De=(P=O.distcode[ke+((w&(1<<Ne+Re)-1)>>Ne)])>>>16&255,ye=65535&P,!(Ne+(Ae=P>>>24)<=q);){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}w>>>=Ne,q-=Ne,O.back+=Ne}if(w>>>=Ae,q-=Ae,O.back+=Ae,64&De){j.msg="invalid distance code",O.mode=30;break}O.offset=ye,O.extra=15&De,O.mode=24;case 24:if(O.extra){for(G=O.extra;q<G;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}O.offset+=w&(1<<O.extra)-1,w>>>=O.extra,q-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){j.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(z===0)break e;if(ee=le-z,O.offset>ee){if((ee=O.offset-ee)>O.whave&&O.sane){j.msg="invalid distance too far back",O.mode=30;break}Ce=ee>O.wnext?(ee-=O.wnext,O.wsize-ee):O.wnext-ee,ee>O.length&&(ee=O.length),Se=O.window}else Se=fe,Ce=Z-O.offset,ee=O.length;for(z<ee&&(ee=z),z-=ee,O.length-=ee;fe[Z++]=Se[Ce++],--ee;);O.length===0&&(O.mode=21);break;case 26:if(z===0)break e;fe[Z++]=O.length,z--,O.mode=21;break;case 27:if(O.wrap){for(;q<32;){if(ue===0)break e;ue--,w|=Q[J++]<<q,q+=8}if(le-=z,j.total_out+=le,O.total+=le,le&&(j.adler=O.check=O.flags?l(O.check,fe,le,Z-le):o(O.check,fe,le,Z-le)),le=z,(O.flags?w:L(w))!==O.check){j.msg="incorrect data check",O.mode=30;break}q=w=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;q<32;){if(ue===0)break e;ue--,w+=Q[J++]<<q,q+=8}if(w!==(4294967295&O.total)){j.msg="incorrect length check",O.mode=30;break}q=w=0}O.mode=29;case 29:se=1;break e;case 30:se=-3;break e;case 31:return-4;default:return I}return j.next_out=Z,j.avail_out=z,j.next_in=J,j.avail_in=ue,O.hold=w,O.bits=q,(O.wsize||le!==j.avail_out&&O.mode<30&&(O.mode<27||de!==4))&&Ie(j,j.output,j.next_out,le-j.avail_out)?(O.mode=31,-4):(ce-=j.avail_in,le-=j.avail_out,j.total_in+=ce,j.total_out+=le,O.total+=le,O.wrap&&le&&(j.adler=O.check=O.flags?l(O.check,fe,le,j.next_out-le):o(O.check,fe,le,j.next_out-le)),j.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(ce==0&&le===0||de===4)&&se===N&&(se=-5),se)},a.inflateEnd=function(j){if(!j||!j.state)return I;var de=j.state;return de.window&&(de.window=null),j.state=null,N},a.inflateGetHeader=function(j,de){var O;return j&&j.state?(2&(O=j.state).wrap)==0?I:((O.head=de).done=!1,N):I},a.inflateSetDictionary=function(j,de){var O,Q=de.length;return j&&j.state?(O=j.state).wrap!==0&&O.mode!==11?I:O.mode===11&&o(1,de,Q,0)!==O.check?-3:Ie(j,de,Q,Q)?(O.mode=31,-4):(O.havedict=1,N):I},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,a){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],_=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(A,x,N,I,k,R,M,L){var B,H,V,Y,ae,oe,be,ie,Te,Ie=L.bits,j=0,de=0,O=0,Q=0,fe=0,J=0,Z=0,ue=0,z=0,w=0,q=null,ce=0,le=new s.Buf16(16),ee=new s.Buf16(16),Ce=null,Se=0;for(j=0;j<=15;j++)le[j]=0;for(de=0;de<I;de++)le[x[N+de]]++;for(fe=Ie,Q=15;1<=Q&&le[Q]===0;Q--);if(Q<fe&&(fe=Q),Q===0)return k[R++]=20971520,k[R++]=20971520,L.bits=1,0;for(O=1;O<Q&&le[O]===0;O++);for(fe<O&&(fe=O),j=ue=1;j<=15;j++)if(ue<<=1,(ue-=le[j])<0)return-1;if(0<ue&&(A===0||Q!==1))return-1;for(ee[1]=0,j=1;j<15;j++)ee[j+1]=ee[j]+le[j];for(de=0;de<I;de++)x[N+de]!==0&&(M[ee[x[N+de]]++]=de);if(oe=A===0?(q=Ce=M,19):A===1?(q=o,ce-=257,Ce=l,Se-=257,256):(q=m,Ce=_,-1),j=O,ae=R,Z=de=w=0,V=-1,Y=(z=1<<(J=fe))-1,A===1&&852<z||A===2&&592<z)return 1;for(;;){for(be=j-Z,Te=M[de]<oe?(ie=0,M[de]):M[de]>oe?(ie=Ce[Se+M[de]],q[ce+M[de]]):(ie=96,0),B=1<<j-Z,O=H=1<<J;k[ae+(w>>Z)+(H-=B)]=be<<24|ie<<16|Te|0,H!==0;);for(B=1<<j-1;w&B;)B>>=1;if(B!==0?(w&=B-1,w+=B):w=0,de++,--le[j]==0){if(j===Q)break;j=x[N+M[de]]}if(fe<j&&(w&Y)!==V){for(Z===0&&(Z=fe),ae+=O,ue=1<<(J=j-Z);J+Z<Q&&!((ue-=le[J+Z])<=0);)J++,ue<<=1;if(z+=1<<J,A===1&&852<z||A===2&&592<z)return 1;k[V=w&Y]=fe<<24|J<<16|ae-R|0}}return w!==0&&(k[ae+w]=j-Z<<24|64<<16|0),L.bits=fe,0}},{"../utils/common":41}],51:[function(n,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,a){var s=n("../utils/common"),o=0,l=1;function m(P){for(var K=P.length;0<=--K;)P[K]=0}var _=0,A=29,x=256,N=x+1+A,I=30,k=19,R=2*N+1,M=15,L=16,B=7,H=256,V=16,Y=17,ae=18,oe=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],be=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ie=new Array(2*(N+2));m(Ie);var j=new Array(2*I);m(j);var de=new Array(512);m(de);var O=new Array(256);m(O);var Q=new Array(A);m(Q);var fe,J,Z,ue=new Array(I);function z(P,K,he,Ee,X){this.static_tree=P,this.extra_bits=K,this.extra_base=he,this.elems=Ee,this.max_length=X,this.has_stree=P&&P.length}function w(P,K){this.dyn_tree=P,this.max_code=0,this.stat_desc=K}function q(P){return P<256?de[P]:de[256+(P>>>7)]}function ce(P,K){P.pending_buf[P.pending++]=255&K,P.pending_buf[P.pending++]=K>>>8&255}function le(P,K,he){P.bi_valid>L-he?(P.bi_buf|=K<<P.bi_valid&65535,ce(P,P.bi_buf),P.bi_buf=K>>L-P.bi_valid,P.bi_valid+=he-L):(P.bi_buf|=K<<P.bi_valid&65535,P.bi_valid+=he)}function ee(P,K,he){le(P,he[2*K],he[2*K+1])}function Ce(P,K){for(var he=0;he|=1&P,P>>>=1,he<<=1,0<--K;);return he>>>1}function Se(P,K,he){var Ee,X,ge=new Array(M+1),xe=0;for(Ee=1;Ee<=M;Ee++)ge[Ee]=xe=xe+he[Ee-1]<<1;for(X=0;X<=K;X++){var T=P[2*X+1];T!==0&&(P[2*X]=Ce(ge[T]++,T))}}function Ae(P){var K;for(K=0;K<N;K++)P.dyn_ltree[2*K]=0;for(K=0;K<I;K++)P.dyn_dtree[2*K]=0;for(K=0;K<k;K++)P.bl_tree[2*K]=0;P.dyn_ltree[2*H]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function De(P){8<P.bi_valid?ce(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ye(P,K,he,Ee){var X=2*K,ge=2*he;return P[X]<P[ge]||P[X]===P[ge]&&Ee[K]<=Ee[he]}function Ne(P,K,he){for(var Ee=P.heap[he],X=he<<1;X<=P.heap_len&&(X<P.heap_len&&ye(K,P.heap[X+1],P.heap[X],P.depth)&&X++,!ye(K,Ee,P.heap[X],P.depth));)P.heap[he]=P.heap[X],he=X,X<<=1;P.heap[he]=Ee}function Re(P,K,he){var Ee,X,ge,xe,T=0;if(P.last_lit!==0)for(;Ee=P.pending_buf[P.d_buf+2*T]<<8|P.pending_buf[P.d_buf+2*T+1],X=P.pending_buf[P.l_buf+T],T++,Ee===0?ee(P,X,K):(ee(P,(ge=O[X])+x+1,K),(xe=oe[ge])!==0&&le(P,X-=Q[ge],xe),ee(P,ge=q(--Ee),he),(xe=be[ge])!==0&&le(P,Ee-=ue[ge],xe)),T<P.last_lit;);ee(P,H,K)}function ke(P,K){var he,Ee,X,ge=K.dyn_tree,xe=K.stat_desc.static_tree,T=K.stat_desc.has_stree,W=K.stat_desc.elems,C=-1;for(P.heap_len=0,P.heap_max=R,he=0;he<W;he++)ge[2*he]!==0?(P.heap[++P.heap_len]=C=he,P.depth[he]=0):ge[2*he+1]=0;for(;P.heap_len<2;)ge[2*(X=P.heap[++P.heap_len]=C<2?++C:0)]=1,P.depth[X]=0,P.opt_len--,T&&(P.static_len-=xe[2*X+1]);for(K.max_code=C,he=P.heap_len>>1;1<=he;he--)Ne(P,ge,he);for(X=W;he=P.heap[1],P.heap[1]=P.heap[P.heap_len--],Ne(P,ge,1),Ee=P.heap[1],P.heap[--P.heap_max]=he,P.heap[--P.heap_max]=Ee,ge[2*X]=ge[2*he]+ge[2*Ee],P.depth[X]=(P.depth[he]>=P.depth[Ee]?P.depth[he]:P.depth[Ee])+1,ge[2*he+1]=ge[2*Ee+1]=X,P.heap[1]=X++,Ne(P,ge,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],(function(E,b){var g,v,F,U,re,pe,ne=b.dyn_tree,_e=b.max_code,me=b.stat_desc.static_tree,Oe=b.stat_desc.has_stree,ve=b.stat_desc.extra_bits,we=b.stat_desc.extra_base,Me=b.stat_desc.max_length,Le=0;for(U=0;U<=M;U++)E.bl_count[U]=0;for(ne[2*E.heap[E.heap_max]+1]=0,g=E.heap_max+1;g<R;g++)Me<(U=ne[2*ne[2*(v=E.heap[g])+1]+1]+1)&&(U=Me,Le++),ne[2*v+1]=U,_e<v||(E.bl_count[U]++,re=0,we<=v&&(re=ve[v-we]),pe=ne[2*v],E.opt_len+=pe*(U+re),Oe&&(E.static_len+=pe*(me[2*v+1]+re)));if(Le!==0){do{for(U=Me-1;E.bl_count[U]===0;)U--;E.bl_count[U]--,E.bl_count[U+1]+=2,E.bl_count[Me]--,Le-=2}while(0<Le);for(U=Me;U!==0;U--)for(v=E.bl_count[U];v!==0;)_e<(F=E.heap[--g])||(ne[2*F+1]!==U&&(E.opt_len+=(U-ne[2*F+1])*ne[2*F],ne[2*F+1]=U),v--)}})(P,K),Se(ge,C,P.bl_count)}function y(P,K,he){var Ee,X,ge=-1,xe=K[1],T=0,W=7,C=4;for(xe===0&&(W=138,C=3),K[2*(he+1)+1]=65535,Ee=0;Ee<=he;Ee++)X=xe,xe=K[2*(Ee+1)+1],++T<W&&X===xe||(T<C?P.bl_tree[2*X]+=T:X!==0?(X!==ge&&P.bl_tree[2*X]++,P.bl_tree[2*V]++):T<=10?P.bl_tree[2*Y]++:P.bl_tree[2*ae]++,ge=X,C=(T=0)===xe?(W=138,3):X===xe?(W=6,3):(W=7,4))}function se(P,K,he){var Ee,X,ge=-1,xe=K[1],T=0,W=7,C=4;for(xe===0&&(W=138,C=3),Ee=0;Ee<=he;Ee++)if(X=xe,xe=K[2*(Ee+1)+1],!(++T<W&&X===xe)){if(T<C)for(;ee(P,X,P.bl_tree),--T!=0;);else X!==0?(X!==ge&&(ee(P,X,P.bl_tree),T--),ee(P,V,P.bl_tree),le(P,T-3,2)):T<=10?(ee(P,Y,P.bl_tree),le(P,T-3,3)):(ee(P,ae,P.bl_tree),le(P,T-11,7));ge=X,C=(T=0)===xe?(W=138,3):X===xe?(W=6,3):(W=7,4)}}m(ue);var te=!1;function G(P,K,he,Ee){le(P,(_<<1)+(Ee?1:0),3),(function(X,ge,xe,T){De(X),ce(X,xe),ce(X,~xe),s.arraySet(X.pending_buf,X.window,ge,xe,X.pending),X.pending+=xe})(P,K,he)}a._tr_init=function(P){te||((function(){var K,he,Ee,X,ge,xe=new Array(M+1);for(X=Ee=0;X<A-1;X++)for(Q[X]=Ee,K=0;K<1<<oe[X];K++)O[Ee++]=X;for(O[Ee-1]=X,X=ge=0;X<16;X++)for(ue[X]=ge,K=0;K<1<<be[X];K++)de[ge++]=X;for(ge>>=7;X<I;X++)for(ue[X]=ge<<7,K=0;K<1<<be[X]-7;K++)de[256+ge++]=X;for(he=0;he<=M;he++)xe[he]=0;for(K=0;K<=143;)Ie[2*K+1]=8,K++,xe[8]++;for(;K<=255;)Ie[2*K+1]=9,K++,xe[9]++;for(;K<=279;)Ie[2*K+1]=7,K++,xe[7]++;for(;K<=287;)Ie[2*K+1]=8,K++,xe[8]++;for(Se(Ie,N+1,xe),K=0;K<I;K++)j[2*K+1]=5,j[2*K]=Ce(K,5);fe=new z(Ie,oe,x+1,N,M),J=new z(j,be,0,I,M),Z=new z(new Array(0),ie,0,k,B)})(),te=!0),P.l_desc=new w(P.dyn_ltree,fe),P.d_desc=new w(P.dyn_dtree,J),P.bl_desc=new w(P.bl_tree,Z),P.bi_buf=0,P.bi_valid=0,Ae(P)},a._tr_stored_block=G,a._tr_flush_block=function(P,K,he,Ee){var X,ge,xe=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(function(T){var W,C=4093624447;for(W=0;W<=31;W++,C>>>=1)if(1&C&&T.dyn_ltree[2*W]!==0)return o;if(T.dyn_ltree[18]!==0||T.dyn_ltree[20]!==0||T.dyn_ltree[26]!==0)return l;for(W=32;W<x;W++)if(T.dyn_ltree[2*W]!==0)return l;return o})(P)),ke(P,P.l_desc),ke(P,P.d_desc),xe=(function(T){var W;for(y(T,T.dyn_ltree,T.l_desc.max_code),y(T,T.dyn_dtree,T.d_desc.max_code),ke(T,T.bl_desc),W=k-1;3<=W&&T.bl_tree[2*Te[W]+1]===0;W--);return T.opt_len+=3*(W+1)+5+5+4,W})(P),X=P.opt_len+3+7>>>3,(ge=P.static_len+3+7>>>3)<=X&&(X=ge)):X=ge=he+5,he+4<=X&&K!==-1?G(P,K,he,Ee):P.strategy===4||ge===X?(le(P,2+(Ee?1:0),3),Re(P,Ie,j)):(le(P,4+(Ee?1:0),3),(function(T,W,C,E){var b;for(le(T,W-257,5),le(T,C-1,5),le(T,E-4,4),b=0;b<E;b++)le(T,T.bl_tree[2*Te[b]+1],3);se(T,T.dyn_ltree,W-1),se(T,T.dyn_dtree,C-1)})(P,P.l_desc.max_code+1,P.d_desc.max_code+1,xe+1),Re(P,P.dyn_ltree,P.dyn_dtree)),Ae(P),Ee&&De(P)},a._tr_tally=function(P,K,he){return P.pending_buf[P.d_buf+2*P.last_lit]=K>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&K,P.pending_buf[P.l_buf+P.last_lit]=255&he,P.last_lit++,K===0?P.dyn_ltree[2*he]++:(P.matches++,K--,P.dyn_ltree[2*(O[he]+x+1)]++,P.dyn_dtree[2*q(K)]++),P.last_lit===P.lit_bufsize-1},a._tr_align=function(P){le(P,2,3),ee(P,H,Ie),(function(K){K.bi_valid===16?(ce(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(P)}},{"../utils/common":41}],53:[function(n,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,a){(function(s){(function(o,l){if(!o.setImmediate){var m,_,A,x,N=1,I={},k=!1,R=o.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(o);M=M&&M.setTimeout?M:o,m={}.toString.call(o.process)==="[object process]"?function(V){process.nextTick(function(){B(V)})}:(function(){if(o.postMessage&&!o.importScripts){var V=!0,Y=o.onmessage;return o.onmessage=function(){V=!1},o.postMessage("","*"),o.onmessage=Y,V}})()?(x="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",H,!1):o.attachEvent("onmessage",H),function(V){o.postMessage(x+V,"*")}):o.MessageChannel?((A=new MessageChannel).port1.onmessage=function(V){B(V.data)},function(V){A.port2.postMessage(V)}):R&&"onreadystatechange"in R.createElement("script")?(_=R.documentElement,function(V){var Y=R.createElement("script");Y.onreadystatechange=function(){B(V),Y.onreadystatechange=null,_.removeChild(Y),Y=null},_.appendChild(Y)}):function(V){setTimeout(B,0,V)},M.setImmediate=function(V){typeof V!="function"&&(V=new Function(""+V));for(var Y=new Array(arguments.length-1),ae=0;ae<Y.length;ae++)Y[ae]=arguments[ae+1];var oe={callback:V,args:Y};return I[N]=oe,m(N),N++},M.clearImmediate=L}function L(V){delete I[V]}function B(V){if(k)setTimeout(B,0,V);else{var Y=I[V];if(Y){k=!0;try{(function(ae){var oe=ae.callback,be=ae.args;switch(be.length){case 0:oe();break;case 1:oe(be[0]);break;case 2:oe(be[0],be[1]);break;case 3:oe(be[0],be[1],be[2]);break;default:oe.apply(l,be)}})(Y)}finally{L(V),k=!1}}}}function H(V){V.source===o&&typeof V.data=="string"&&V.data.indexOf(x)===0&&B(+V.data.slice(x.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min)),jszip_min.exports}requireJszip_min();window.Buffer=window.Buffer||bufferExports.Buffer;const ICONS={keep:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#fbbc04" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a2 2 0 0 1-2 2H10a2 2 0 0 1-2-2v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7z"></path></svg>',enex:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2dbe60" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>',markdown:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#7b68ee" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><path d="M9 15l2-2 4 4"></path></svg>',html:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#e34f26" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',json:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#555555" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>',image:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#ec4899" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>',default:'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>'},state={sources:[],allEntries:[],selectedIds:new Set,worker:new Worker(new URL("/assets/worker-Bb6QOFSJ.js",import.meta.url),{type:"module"}),isProcessing:!1,detectedFormat:null};let els={};document.addEventListener("DOMContentLoaded",()=>{const e=document.createElement("div");e.id="toast",document.body.appendChild(e),els.themeBtn=document.getElementById("themeBtn"),initTheme(),document.getElementById("uploadView")&&(cacheAppElements(),setupUI(),setupWorker(),checkSeoPreselect())});function cacheAppElements(){["dropTrigger","fileInput","fileList","dock","formatSelect","countDisplay","selectAll","convertBtn","scanStatus","browseBtn","addMoreBtn","dragOverlay","toast"].forEach(t=>els[t]=document.getElementById(t)),els.views={upload:document.getElementById("uploadView"),scan:document.getElementById("scanView"),list:document.getElementById("listView")}}function initTheme(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e),els.themeBtn&&els.themeBtn.addEventListener("click",toggleTheme)}function toggleTheme(){const t=document.documentElement.getAttribute("data-theme")==="dark"?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)}function setupUI(){OUTPUT_OPTIONS.forEach(t=>{els.formatSelect.add(new Option(t.name,t.id))});let e=0;document.body.addEventListener("dragenter",t=>{t.preventDefault(),e++,els.dragOverlay.classList.remove("hidden")}),document.body.addEventListener("dragleave",t=>{e--,e===0&&els.dragOverlay.classList.add("hidden")}),document.body.addEventListener("dragover",preventDefaults),document.body.addEventListener("drop",t=>{preventDefaults(t),e=0,els.dragOverlay.classList.add("hidden"),handleDrop(t)}),els.browseBtn&&els.browseBtn.addEventListener("click",()=>els.fileInput.click()),els.addMoreBtn&&els.addMoreBtn.addEventListener("click",()=>els.fileInput.click()),els.fileInput.addEventListener("change",t=>{t.target.files.length>0&&handleNewFiles(t.target.files),els.fileInput.value=""}),els.selectAll&&els.selectAll.addEventListener("change",toggleSelectAll),els.convertBtn&&els.convertBtn.addEventListener("click",startConversion)}function preventDefaults(e){e.preventDefault(),e.stopPropagation()}function checkSeoPreselect(){window.PRESELECT&&els.formatSelect&&(els.formatSelect.value=window.PRESELECT.to)}function handleDrop(e){const t=e.dataTransfer;t.files.length>0&&handleNewFiles(t.files)}function handleNewFiles(e){const t=Array.from(e);if(t.find(m=>m.name.endsWith(".tgz")||m.name.endsWith(".tar.gz"))){showToast("GZIP (.tgz) not supported. Use .zip.",4e3);return}const i=t.filter(m=>m.name.endsWith(".zip")),a=t.filter(m=>!m.name.endsWith(".zip")&&!m.name.startsWith(".")),s=[".html",".json",".enex",".md",".png",".jpg",".jpeg",".gif",".webp"],o=a.filter(m=>{const _="."+m.name.split(".").pop().toLowerCase();return s.includes(_)}),l=a.length-o.length;if(i.length===0&&o.length===0){l>0?showToast(`${l} file(s) ignored (unsupported format).`,4e3):showToast("No supported files found.",3e3);return}if(state.sources.length===0&&switchView("scan"),l>0&&showToast(`${l} unsupported file(s) skipped.`),i.forEach(m=>{const _=state.sources.length;state.sources.push({type:"zip",file:m,entries:[]}),els.scanStatus.innerText=`Scanning ${m.name}...`,state.worker.postMessage({type:"scan",file:m,sourceIndex:_})}),o.length>0){const m=state.sources.length,_=o.map(A=>({path:A.name,name:A.name,size:A.size}));state.sources.push({type:"raw",files:o,entries:_}),finalizeBatch(m,_)}}function finalizeBatch(e,t){state.sources[e]&&(state.sources[e].entries=t);const n=t.map(s=>({...s,sourceIndex:e}));state.allEntries=[...state.allEntries,...n],n.forEach(s=>state.selectedIds.add(`${e}:${s.path}`));const i=state.allEntries.map(s=>s.name),a=state.allEntries.length>0?state.allEntries[0].name:"unknown";state.detectedFormat=detectFormat(a,i),renderList(),switchView("list")}function renderList(){els.fileList.innerHTML="";const e=state.allEntries.filter(t=>t.name.startsWith(".")?!1:isImage(t.name)?!0:state.detectedFormat==="keep"?t.name.endsWith(".html"):state.detectedFormat==="markdown"||state.detectedFormat==="notion"?t.name.endsWith(".md"):state.detectedFormat==="enex"?t.name.endsWith(".enex"):state.detectedFormat==="json"?t.name.endsWith(".json"):!0);e.length===0&&state.allEntries.length>0&&(els.fileList.innerHTML='<div style="text-align:center; padding:30px; color:var(--sub)">No compatible notes found.</div>'),e.forEach(t=>{const n=`${t.sourceIndex}:${t.path}`,i=state.selectedIds.has(n),a=document.createElement("div");a.className=i?"list-item checked":"list-item";let s=ICONS[state.detectedFormat]||ICONS.default;isImage(t.name)&&(s=ICONS.image);const o=(t.size/1024).toFixed(1);a.innerHTML=`
            <div class="col-check"><input type="checkbox" ${i?"checked":""}></div>
            <div class="col-name">
                <span class="file-icon" style="display:flex; margin-right:10px;">${s}</span>
                <span title="${t.name}" style="overflow:hidden; text-overflow:ellipsis;">${t.name}</span>
            </div>
            <div class="col-meta">${isImage(t.name)?"IMAGE":state.detectedFormat.toUpperCase()}</div>
            <div class="col-size">${o} KB</div>
        `,a.addEventListener("click",l=>{if(l.target.type!=="checkbox"){const m=a.querySelector("input");m.checked=!m.checked,updateSelection(m.checked,n,a)}}),a.querySelector("input").addEventListener("change",l=>{updateSelection(l.target.checked,n,a)}),els.fileList.appendChild(a)}),updateDock()}function updateSelection(e,t,n){e?(n.classList.add("checked"),state.selectedIds.add(t)):(n.classList.remove("checked"),state.selectedIds.delete(t)),updateDock()}function updateDock(){const e=state.selectedIds.size;els.countDisplay.innerText=e,e>0?els.dock.classList.add("visible"):els.dock.classList.remove("visible"),els.selectAll&&(els.selectAll.checked=e>0)}function toggleSelectAll(){const e=els.selectAll.checked;els.fileList.querySelectorAll('input[type="checkbox"]'),state.selectedPaths=new Set,state.allEntries.filter(n=>n.name.startsWith(".")?!1:isImage(n.name)?!0:state.detectedFormat==="keep"?n.name.endsWith(".html"):state.detectedFormat==="markdown"?n.name.endsWith(".md"):state.detectedFormat==="enex"?n.name.endsWith(".enex"):state.detectedFormat==="json"?n.name.endsWith(".json"):!0).forEach(n=>{const i=`${n.sourceIndex}:${n.path}`;e?state.selectedIds.add(i):state.selectedIds.delete(i)}),renderList()}async function startConversion(){if(!state.isProcessing){state.isProcessing=!0,els.convertBtn.innerHTML="<span>Processing...</span>",els.convertBtn.disabled=!0;try{const e={},t={};for(let n=0;n<state.sources.length;n++){const i=state.sources[n],a=`${n}:`,s=[];for(const o of state.selectedIds)o.startsWith(a)&&s.push(o.substring(a.length));if(s.length!==0){if(i.type==="zip")await requestWorkerExtraction(i.file,s,e,t);else if(i.type==="raw")for(const o of s){const l=i.files.find(m=>m.name===o);l&&(isImage(o)?t[o]=await l.arrayBuffer():e[o]=await l.text())}}}finishConversion(e,t)}catch(e){handleError(e)}}}function requestWorkerExtraction(e,t,n,i){return new Promise((a,s)=>{const o=l=>{l.data.type==="extract_complete"&&(Object.assign(n,l.data.contentMap),l.data.binaryMap&&Object.assign(i,l.data.binaryMap),state.worker.removeEventListener("message",o),a()),l.data.type==="error"&&(state.worker.removeEventListener("message",o),s(new Error(l.data.msg)))};state.worker.addEventListener("message",o),state.worker.postMessage({type:"extract",file:e,paths:t})})}function setupWorker(){state.worker.addEventListener("message",e=>{const{type:t,entries:n,blob:i,filename:a,msg:s,sourceIndex:o}=e.data;t==="scan_complete"&&finalizeBatch(o,n),t==="zip_complete"&&(FileSaver_minExports.saveAs(i,a),finishSuccess()),t==="error"&&(s.includes("extract")||handleError(new Error(s)))})}async function finishConversion(e,t){try{const n=state.detectedFormat,i=els.formatSelect.value,a=[];if(console.log(`Parsing ${Object.keys(e).length} notes...`),Object.entries(e).forEach(([l,m])=>{try{let _=null;n==="keep"?_=D$1(m):n==="enex"?_=h(m):n==="markdown"?_=p(m):n==="json"&&(_=JSON.parse(m)),Array.isArray(_)?a.push(..._):_&&a.push(_)}catch{}}),a.length===0)throw new Error("No valid notes parsed.");let s=null,o=`migrator-export-${getTimestamp()}`;if(i==="json")s=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),o+=".json",FileSaver_minExports.saveAs(s,o),finishSuccess();else if(i==="enex")s=new Blob([S(a)],{type:"application/xml"}),o+=".enex",FileSaver_minExports.saveAs(s,o),finishSuccess();else if(i==="markdown"){const l=[],m=[];a.forEach(_=>{let A=f(_);A=A.replace(/!\[(.*?)\]\((.*?)\)/g,(N,I,k)=>{const R=k.split("/").pop();return Object.keys(t).some(L=>L.endsWith(R))?`![${I}](assets/${R})`:N});const x=(_.title||"note").replace(/[^a-z0-9\s-_]/gi,"").trim()||"note";l.push({name:`${x}.md`,content:A})}),Object.entries(t).forEach(([_,A])=>{const x=_.split("/").pop();m.push({name:x,blob:A})}),state.worker.postMessage({type:"zip",filesToZip:l,binaryFiles:m})}}catch(n){handleError(n)}}function isImage(e){return/\.(jpg|jpeg|png|gif|webp)$/i.test(e)}function getTimestamp(){return new Date().toISOString().slice(0,10)}function showToast(e,t=3e3){const n=document.getElementById("toast");n.innerText=e,n.classList.add("show"),setTimeout(()=>n.classList.remove("show"),t)}function finishSuccess(){confetti({particleCount:150,spread:70,origin:{y:.6}}),resetBtn()}function handleError(e){alert(e.message),resetBtn()}function resetBtn(){state.isProcessing=!1,els.convertBtn.disabled=!1,els.convertBtn.innerHTML='<span>Download</span><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>'}function switchView(e){Object.values(els.views).forEach(t=>t.classList.remove("active")),els.views[e].classList.add("active")}
